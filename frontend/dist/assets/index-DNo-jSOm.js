var X0=Object.defineProperty;var Y0=(x,m,g)=>m in x?X0(x,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):x[m]=g;var l1=(x,m,g)=>Y0(x,typeof m!="symbol"?m+"":m,g);function L1(x,m){for(var g=0;g<m.length;g++){const S=m[g];if(typeof S!="string"&&!Array.isArray(S)){for(const v in S)if(v!=="default"&&!(v in x)){const E=Object.getOwnPropertyDescriptor(S,v);E&&Object.defineProperty(x,v,E.get?E:{enumerable:!0,get:()=>S[v]})}}}return Object.freeze(Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}))}(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))S(v);new MutationObserver(v=>{for(const E of v)if(E.type==="childList")for(const D of E.addedNodes)D.tagName==="LINK"&&D.rel==="modulepreload"&&S(D)}).observe(document,{childList:!0,subtree:!0});function g(v){const E={};return v.integrity&&(E.integrity=v.integrity),v.referrerPolicy&&(E.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?E.credentials="include":v.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function S(v){if(v.ep)return;v.ep=!0;const E=g(v);fetch(v.href,E)}})();var Ra=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fu(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}var nu={exports:{}},xo={},ru={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function Z0(){if(u1)return dt;u1=1;var x=Symbol.for("react.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),F=Symbol.iterator;function we(U){return U===null||typeof U!="object"?null:(U=F&&U[F]||U["@@iterator"],typeof U=="function"?U:null)}var Ae={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ze=Object.assign,pe={};function me(U,Q,Se){this.props=U,this.context=Q,this.refs=pe,this.updater=Se||Ae}me.prototype.isReactComponent={},me.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},me.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function st(){}st.prototype=me.prototype;function Te(U,Q,Se){this.props=U,this.context=Q,this.refs=pe,this.updater=Se||Ae}var Ce=Te.prototype=new st;Ce.constructor=Te,ze(Ce,me.prototype),Ce.isPureReactComponent=!0;var Me=Array.isArray,xt=Object.prototype.hasOwnProperty,Ge={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function Je(U,Q,Se){var Ne,et={},Y=null,$e=null;if(Q!=null)for(Ne in Q.ref!==void 0&&($e=Q.ref),Q.key!==void 0&&(Y=""+Q.key),Q)xt.call(Q,Ne)&&!se.hasOwnProperty(Ne)&&(et[Ne]=Q[Ne]);var ke=arguments.length-2;if(ke===1)et.children=Se;else if(1<ke){for(var Oe=Array(ke),St=0;St<ke;St++)Oe[St]=arguments[St+2];et.children=Oe}if(U&&U.defaultProps)for(Ne in ke=U.defaultProps,ke)et[Ne]===void 0&&(et[Ne]=ke[Ne]);return{$$typeof:x,type:U,key:Y,ref:$e,props:et,_owner:Ge.current}}function te(U,Q){return{$$typeof:x,type:U.type,key:Q,ref:U.ref,props:U.props,_owner:U._owner}}function Jt(U){return typeof U=="object"&&U!==null&&U.$$typeof===x}function yt(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Se){return Q[Se]})}var Be=/\/+/g;function Xe(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?yt(""+U.key):Q.toString(36)}function Ze(U,Q,Se,Ne,et){var Y=typeof U;(Y==="undefined"||Y==="boolean")&&(U=null);var $e=!1;if(U===null)$e=!0;else switch(Y){case"string":case"number":$e=!0;break;case"object":switch(U.$$typeof){case x:case m:$e=!0}}if($e)return $e=U,et=et($e),U=Ne===""?"."+Xe($e,0):Ne,Me(et)?(Se="",U!=null&&(Se=U.replace(Be,"$&/")+"/"),Ze(et,Q,Se,"",function(St){return St})):et!=null&&(Jt(et)&&(et=te(et,Se+(!et.key||$e&&$e.key===et.key?"":(""+et.key).replace(Be,"$&/")+"/")+U)),Q.push(et)),1;if($e=0,Ne=Ne===""?".":Ne+":",Me(U))for(var ke=0;ke<U.length;ke++){Y=U[ke];var Oe=Ne+Xe(Y,ke);$e+=Ze(Y,Q,Se,Oe,et)}else if(Oe=we(U),typeof Oe=="function")for(U=Oe.call(U),ke=0;!(Y=U.next()).done;)Y=Y.value,Oe=Ne+Xe(Y,ke++),$e+=Ze(Y,Q,Se,Oe,et);else if(Y==="object")throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return $e}function $(U,Q,Se){if(U==null)return U;var Ne=[],et=0;return Ze(U,Ne,"","",function(Y){return Q.call(Se,Y,et++)}),Ne}function Fe(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(Se){(U._status===0||U._status===-1)&&(U._status=1,U._result=Se)},function(Se){(U._status===0||U._status===-1)&&(U._status=2,U._result=Se)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var ye={current:null},re={transition:null},ve={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:re,ReactCurrentOwner:Ge};function le(){throw Error("act(...) is not supported in production builds of React.")}return dt.Children={map:$,forEach:function(U,Q,Se){$(U,function(){Q.apply(this,arguments)},Se)},count:function(U){var Q=0;return $(U,function(){Q++}),Q},toArray:function(U){return $(U,function(Q){return Q})||[]},only:function(U){if(!Jt(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},dt.Component=me,dt.Fragment=g,dt.Profiler=v,dt.PureComponent=Te,dt.StrictMode=S,dt.Suspense=P,dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,dt.act=le,dt.cloneElement=function(U,Q,Se){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ne=ze({},U.props),et=U.key,Y=U.ref,$e=U._owner;if(Q!=null){if(Q.ref!==void 0&&(Y=Q.ref,$e=Ge.current),Q.key!==void 0&&(et=""+Q.key),U.type&&U.type.defaultProps)var ke=U.type.defaultProps;for(Oe in Q)xt.call(Q,Oe)&&!se.hasOwnProperty(Oe)&&(Ne[Oe]=Q[Oe]===void 0&&ke!==void 0?ke[Oe]:Q[Oe])}var Oe=arguments.length-2;if(Oe===1)Ne.children=Se;else if(1<Oe){ke=Array(Oe);for(var St=0;St<Oe;St++)ke[St]=arguments[St+2];Ne.children=ke}return{$$typeof:x,type:U.type,key:et,ref:Y,props:Ne,_owner:$e}},dt.createContext=function(U){return U={$$typeof:D,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:E,_context:U},U.Consumer=U},dt.createElement=Je,dt.createFactory=function(U){var Q=Je.bind(null,U);return Q.type=U,Q},dt.createRef=function(){return{current:null}},dt.forwardRef=function(U){return{$$typeof:V,render:U}},dt.isValidElement=Jt,dt.lazy=function(U){return{$$typeof:z,_payload:{_status:-1,_result:U},_init:Fe}},dt.memo=function(U,Q){return{$$typeof:T,type:U,compare:Q===void 0?null:Q}},dt.startTransition=function(U){var Q=re.transition;re.transition={};try{U()}finally{re.transition=Q}},dt.unstable_act=le,dt.useCallback=function(U,Q){return ye.current.useCallback(U,Q)},dt.useContext=function(U){return ye.current.useContext(U)},dt.useDebugValue=function(){},dt.useDeferredValue=function(U){return ye.current.useDeferredValue(U)},dt.useEffect=function(U,Q){return ye.current.useEffect(U,Q)},dt.useId=function(){return ye.current.useId()},dt.useImperativeHandle=function(U,Q,Se){return ye.current.useImperativeHandle(U,Q,Se)},dt.useInsertionEffect=function(U,Q){return ye.current.useInsertionEffect(U,Q)},dt.useLayoutEffect=function(U,Q){return ye.current.useLayoutEffect(U,Q)},dt.useMemo=function(U,Q){return ye.current.useMemo(U,Q)},dt.useReducer=function(U,Q,Se){return ye.current.useReducer(U,Q,Se)},dt.useRef=function(U){return ye.current.useRef(U)},dt.useState=function(U){return ye.current.useState(U)},dt.useSyncExternalStore=function(U,Q,Se){return ye.current.useSyncExternalStore(U,Q,Se)},dt.useTransition=function(){return ye.current.useTransition()},dt.version="18.3.1",dt}var c1;function du(){return c1||(c1=1,ru.exports=Z0()),ru.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1;function q0(){if(f1)return xo;f1=1;var x=du(),m=Symbol.for("react.element"),g=Symbol.for("react.fragment"),S=Object.prototype.hasOwnProperty,v=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E={key:!0,ref:!0,__self:!0,__source:!0};function D(V,P,T){var z,F={},we=null,Ae=null;T!==void 0&&(we=""+T),P.key!==void 0&&(we=""+P.key),P.ref!==void 0&&(Ae=P.ref);for(z in P)S.call(P,z)&&!E.hasOwnProperty(z)&&(F[z]=P[z]);if(V&&V.defaultProps)for(z in P=V.defaultProps,P)F[z]===void 0&&(F[z]=P[z]);return{$$typeof:m,type:V,key:we,ref:Ae,props:F,_owner:v.current}}return xo.Fragment=g,xo.jsx=D,xo.jsxs=D,xo}var d1;function K0(){return d1||(d1=1,nu.exports=q0()),nu.exports}var y=K0(),ee=du();const hu=fu(ee),$0=L1({__proto__:null,default:hu},[ee]);var Oa={},su={exports:{}},rr={},iu={exports:{}},ou={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function Q0(){return h1||(h1=1,function(x){function m(re,ve){var le=re.length;re.push(ve);e:for(;0<le;){var U=le-1>>>1,Q=re[U];if(0<v(Q,ve))re[U]=ve,re[le]=Q,le=U;else break e}}function g(re){return re.length===0?null:re[0]}function S(re){if(re.length===0)return null;var ve=re[0],le=re.pop();if(le!==ve){re[0]=le;e:for(var U=0,Q=re.length,Se=Q>>>1;U<Se;){var Ne=2*(U+1)-1,et=re[Ne],Y=Ne+1,$e=re[Y];if(0>v(et,le))Y<Q&&0>v($e,et)?(re[U]=$e,re[Y]=le,U=Y):(re[U]=et,re[Ne]=le,U=Ne);else if(Y<Q&&0>v($e,le))re[U]=$e,re[Y]=le,U=Y;else break e}}return ve}function v(re,ve){var le=re.sortIndex-ve.sortIndex;return le!==0?le:re.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var E=performance;x.unstable_now=function(){return E.now()}}else{var D=Date,V=D.now();x.unstable_now=function(){return D.now()-V}}var P=[],T=[],z=1,F=null,we=3,Ae=!1,ze=!1,pe=!1,me=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ce(re){for(var ve=g(T);ve!==null;){if(ve.callback===null)S(T);else if(ve.startTime<=re)S(T),ve.sortIndex=ve.expirationTime,m(P,ve);else break;ve=g(T)}}function Me(re){if(pe=!1,Ce(re),!ze)if(g(P)!==null)ze=!0,Fe(xt);else{var ve=g(T);ve!==null&&ye(Me,ve.startTime-re)}}function xt(re,ve){ze=!1,pe&&(pe=!1,st(Je),Je=-1),Ae=!0;var le=we;try{for(Ce(ve),F=g(P);F!==null&&(!(F.expirationTime>ve)||re&&!yt());){var U=F.callback;if(typeof U=="function"){F.callback=null,we=F.priorityLevel;var Q=U(F.expirationTime<=ve);ve=x.unstable_now(),typeof Q=="function"?F.callback=Q:F===g(P)&&S(P),Ce(ve)}else S(P);F=g(P)}if(F!==null)var Se=!0;else{var Ne=g(T);Ne!==null&&ye(Me,Ne.startTime-ve),Se=!1}return Se}finally{F=null,we=le,Ae=!1}}var Ge=!1,se=null,Je=-1,te=5,Jt=-1;function yt(){return!(x.unstable_now()-Jt<te)}function Be(){if(se!==null){var re=x.unstable_now();Jt=re;var ve=!0;try{ve=se(!0,re)}finally{ve?Xe():(Ge=!1,se=null)}}else Ge=!1}var Xe;if(typeof Te=="function")Xe=function(){Te(Be)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,$=Ze.port2;Ze.port1.onmessage=Be,Xe=function(){$.postMessage(null)}}else Xe=function(){me(Be,0)};function Fe(re){se=re,Ge||(Ge=!0,Xe())}function ye(re,ve){Je=me(function(){re(x.unstable_now())},ve)}x.unstable_IdlePriority=5,x.unstable_ImmediatePriority=1,x.unstable_LowPriority=4,x.unstable_NormalPriority=3,x.unstable_Profiling=null,x.unstable_UserBlockingPriority=2,x.unstable_cancelCallback=function(re){re.callback=null},x.unstable_continueExecution=function(){ze||Ae||(ze=!0,Fe(xt))},x.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<re?Math.floor(1e3/re):5},x.unstable_getCurrentPriorityLevel=function(){return we},x.unstable_getFirstCallbackNode=function(){return g(P)},x.unstable_next=function(re){switch(we){case 1:case 2:case 3:var ve=3;break;default:ve=we}var le=we;we=ve;try{return re()}finally{we=le}},x.unstable_pauseExecution=function(){},x.unstable_requestPaint=function(){},x.unstable_runWithPriority=function(re,ve){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=we;we=re;try{return ve()}finally{we=le}},x.unstable_scheduleCallback=function(re,ve,le){var U=x.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?U+le:U):le=U,re){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=le+Q,re={id:z++,callback:ve,priorityLevel:re,startTime:le,expirationTime:Q,sortIndex:-1},le>U?(re.sortIndex=le,m(T,re),g(P)===null&&re===g(T)&&(pe?(st(Je),Je=-1):pe=!0,ye(Me,le-U))):(re.sortIndex=Q,m(P,re),ze||Ae||(ze=!0,Fe(xt))),re},x.unstable_shouldYield=yt,x.unstable_wrapCallback=function(re){var ve=we;return function(){var le=we;we=ve;try{return re.apply(this,arguments)}finally{we=le}}}}(ou)),ou}var g1;function J0(){return g1||(g1=1,iu.exports=Q0()),iu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function ef(){if(p1)return rr;p1=1;var x=du(),m=J0();function g(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S=new Set,v={};function E(t,s){D(t,s),D(t+"Capture",s)}function D(t,s){for(v[t]=s,t=0;t<s.length;t++)S.add(s[t])}var V=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P=Object.prototype.hasOwnProperty,T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z={},F={};function we(t){return P.call(F,t)?!0:P.call(z,t)?!1:T.test(t)?F[t]=!0:(z[t]=!0,!1)}function Ae(t,s,l,c){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ze(t,s,l,c){if(s===null||typeof s>"u"||Ae(t,s,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function pe(t,s,l,c,h,p,N){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=l,this.propertyName=t,this.type=s,this.sanitizeURL=p,this.removeEmptyString=N}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){me[t]=new pe(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];me[s]=new pe(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){me[t]=new pe(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){me[t]=new pe(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){me[t]=new pe(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){me[t]=new pe(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){me[t]=new pe(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){me[t]=new pe(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){me[t]=new pe(t,5,!1,t.toLowerCase(),null,!1,!1)});var st=/[\-:]([a-z])/g;function Te(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(st,Te);me[s]=new pe(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(st,Te);me[s]=new pe(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(st,Te);me[s]=new pe(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){me[t]=new pe(t,1,!1,t.toLowerCase(),null,!1,!1)}),me.xlinkHref=new pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){me[t]=new pe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ce(t,s,l,c){var h=me.hasOwnProperty(s)?me[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(ze(s,l,h,c)&&(l=null),c||h===null?we(s)&&(l===null?t.removeAttribute(s):t.setAttribute(s,""+l)):h.mustUseProperty?t[h.propertyName]=l===null?h.type===3?!1:"":l:(s=h.attributeName,c=h.attributeNamespace,l===null?t.removeAttribute(s):(h=h.type,l=h===3||h===4&&l===!0?"":""+l,c?t.setAttributeNS(c,s,l):t.setAttribute(s,l))))}var Me=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xt=Symbol.for("react.element"),Ge=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),Je=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),Jt=Symbol.for("react.provider"),yt=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),re=Symbol.iterator;function ve(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var le=Object.assign,U;function Q(t){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+t}var Se=!1;function Ne(t,s){if(!t||Se)return"";Se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var c=K}Reflect.construct(t,[],s)}else{try{s.call()}catch(K){c=K}t.call(s.prototype)}else{try{throw Error()}catch(K){c=K}t()}}catch(K){if(K&&c&&typeof K.stack=="string"){for(var h=K.stack.split(`
`),p=c.stack.split(`
`),N=h.length-1,b=p.length-1;1<=N&&0<=b&&h[N]!==p[b];)b--;for(;1<=N&&0<=b;N--,b--)if(h[N]!==p[b]){if(N!==1||b!==1)do if(N--,b--,0>b||h[N]!==p[b]){var B=`
`+h[N].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=N&&0<=b);break}}}finally{Se=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?Q(t):""}function et(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=Ne(t.type,!1),t;case 11:return t=Ne(t.type.render,!1),t;case 1:return t=Ne(t.type,!0),t;default:return""}}function Y(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case Ge:return"Portal";case te:return"Profiler";case Je:return"StrictMode";case Xe:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yt:return(t.displayName||"Context")+".Consumer";case Jt:return(t._context.displayName||"Context")+".Provider";case Be:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return s=t.displayName||null,s!==null?s:Y(t.type)||"Memo";case Fe:s=t._payload,t=t._init;try{return Y(t(s))}catch{}}return null}function $e(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(s);case 8:return s===Je?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ke(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oe(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function St(t){var s=Oe(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),c=""+t[s];if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,p=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(N){c=""+N,p.call(this,N)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Le(t){t._valueTracker||(t._valueTracker=St(t))}function sr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return t&&(c=Oe(t)?t.checked?"true":"false":t.value),t=c,t!==l?(s.setValue(t),!0):!1}function ot(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gn(t,s){var l=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function on(t,s){var l=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;l=ke(s.value!=null?s.value:l),t._wrapperState={initialChecked:c,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ln(t,s){s=s.checked,s!=null&&Ce(t,"checked",s,!1)}function Vt(t,s){Ln(t,s);var l=ke(s.value),c=s.type;if(l!=null)c==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?ut(t,s.type,l):s.hasOwnProperty("defaultValue")&&ut(t,s.type,ke(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Ct(t,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,l||s===t.value||(t.value=s),t.defaultValue=s}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function ut(t,s,l){(s!=="number"||ot(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var ht=Array.isArray;function ie(t,s,l,c){if(t=t.options,s){s={};for(var h=0;h<l.length;h++)s["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=s.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&c&&(t[l].defaultSelected=!0)}else{for(l=""+ke(l),s=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Rn(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(g(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xn(t,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(g(92));if(ht(l)){if(1<l.length)throw Error(g(93));l=l[0]}s=l}s==null&&(s=""),l=s}t._wrapperState={initialValue:ke(l)}}function Xt(t,s){var l=ke(s.value),c=ke(s.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),s.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),c!=null&&(t.defaultValue=""+c)}function dn(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function an(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function en(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?an(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var On,tn=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,c,h){MSApp.execUnsafeLocalFunction(function(){return t(s,l,c,h)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(On=On||document.createElement("div"),On.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=On.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function pr(t,s){if(s){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=s;return}}t.textContent=s}var Xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ds=["Webkit","ms","Moz","O"];Object.keys(Xn).forEach(function(t){Ds.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Xn[s]=Xn[t]})});function Mt(t,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Xn.hasOwnProperty(t)&&Xn[t]?(""+s).trim():s+"px"}function he(t,s){t=t.style;for(var l in s)if(s.hasOwnProperty(l)){var c=l.indexOf("--")===0,h=Mt(l,s[l],c);l==="float"&&(l="cssFloat"),c?t.setProperty(l,h):t[l]=h}}var Ht=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mt(t,s){if(s){if(Ht[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(g(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(g(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(g(61))}if(s.style!=null&&typeof s.style!="object")throw Error(g(62))}}function _t(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kn=null;function xr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lr=null,M=null,ce=null;function Re(t){if(t=eo(t)){if(typeof Lr!="function")throw Error(g(280));var s=t.stateNode;s&&(s=Wo(s),Lr(t.stateNode,t.type,s))}}function It(t){M?ce?ce.push(t):ce=[t]:M=t}function ct(){if(M){var t=M,s=ce;if(ce=M=null,Re(t),s)for(t=0;t<s.length;t++)Re(s[t])}}function Fr(t,s){return t(s)}function O(){}var J=!1;function Ee(t,s,l){if(J)return t(s,l);J=!0;try{return Fr(t,s,l)}finally{J=!1,(M!==null||ce!==null)&&(O(),ct())}}function He(t,s){var l=t.stateNode;if(l===null)return null;var c=Wo(l);if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(g(231,s,typeof l));return l}var Dt=!1;if(V)try{var Et={};Object.defineProperty(Et,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,Et)}catch{Dt=!1}function vn(t,s,l,c,h,p,N,b,B){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(ue){this.onError(ue)}}var hn=!1,mr=null,bn=!1,Ie=null,os={onError:function(t){hn=!0,mr=t}};function ki(t,s,l,c,h,p,N,b,B){hn=!1,mr=null,vn.apply(os,arguments)}function Fn(t,s,l,c,h,p,N,b,B){if(ki.apply(this,arguments),hn){if(hn){var K=mr;hn=!1,mr=null}else throw Error(g(198));bn||(bn=!0,Ie=K)}}function $n(t){var s=t,l=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(l=s.return),t=s.return;while(t)}return s.tag===3?l:null}function ks(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Ms(t){if($n(t)!==t)throw Error(g(188))}function wr(t){var s=t.alternate;if(!s){if(s=$n(t),s===null)throw Error(g(188));return s!==t?null:t}for(var l=t,c=s;;){var h=l.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){l=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===l)return Ms(h),t;if(p===c)return Ms(h),s;p=p.sibling}throw Error(g(188))}if(l.return!==c.return)l=h,c=p;else{for(var N=!1,b=h.child;b;){if(b===l){N=!0,l=h,c=p;break}if(b===c){N=!0,c=h,l=p;break}b=b.sibling}if(!N){for(b=p.child;b;){if(b===l){N=!0,l=p,c=h;break}if(b===c){N=!0,c=p,l=h;break}b=b.sibling}if(!N)throw Error(g(189))}}if(l.alternate!==c)throw Error(g(190))}if(l.tag!==3)throw Error(g(188));return l.stateNode.current===l?t:s}function vo(t){return t=wr(t),t!==null?So(t):null}function So(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=So(t);if(s!==null)return s;t=t.sibling}return null}var ir=m.unstable_scheduleCallback,Sn=m.unstable_cancelCallback,Lt=m.unstable_shouldYield,No=m.unstable_requestPaint,Rt=m.unstable_now,Mi=m.unstable_getCurrentPriorityLevel,ne=m.unstable_ImmediatePriority,Io=m.unstable_UserBlockingPriority,Pt=m.unstable_NormalPriority,as=m.unstable_LowPriority,To=m.unstable_IdlePriority,wt=null,at=null;function gt(t){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(wt,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:ln,Pi=Math.log,Bi=Math.LN2;function ln(t){return t>>>=0,t===0?32:31-(Pi(t)/Bi|0)|0}var or=64,ii=4194304;function Bt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ar(t,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,p=t.pingedLanes,N=l&268435455;if(N!==0){var b=N&~h;b!==0?c=Bt(b):(p&=N,p!==0&&(c=Bt(p)))}else N=l&~h,N!==0?c=Bt(N):p!==0&&(c=Bt(p));if(c===0)return 0;if(s!==0&&s!==c&&(s&h)===0&&(h=c&-c,p=s&-s,h>=p||h===16&&(p&4194240)!==0))return s;if((c&4)!==0&&(c|=l&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=c;0<s;)l=31-Yn(s),h=1<<l,c|=t[l],s&=~h;return c}function Ba(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ls(t,s){for(var l=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var N=31-Yn(p),b=1<<N,B=h[N];B===-1?((b&l)===0||(b&c)!==0)&&(h[N]=Ba(b,s)):B<=s&&(t.expiredLanes|=b),p&=~b}}function Ot(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mn(){var t=or;return or<<=1,(or&4194240)===0&&(or=64),t}function W(t){for(var s=[],l=0;31>l;l++)s.push(t);return s}function _(t,s,l){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Yn(s),t[s]=l}function Ve(t,s){var l=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<l;){var h=31-Yn(l),p=1<<h;s[h]=0,c[h]=-1,t[h]=-1,l&=~p}}function nn(t,s){var l=t.entangledLanes|=s;for(t=t.entanglements;l;){var c=31-Yn(l),h=1<<c;h&s|t[c]&s&&(t[c]|=s),l&=~h}}var lt=0;function _o(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var oi,jn,We,Ft,Li,Fi=!1,us=[],lr=null,yr=null,jr=null,Yt=new Map,_r=new Map,Dn=[],Qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ro(t,s){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Yt.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(s.pointerId)}}function nt(t,s,l,c,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},s!==null&&(s=eo(s),s!==null&&jn(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function wn(t,s,l,c,h){switch(s){case"focusin":return lr=nt(lr,t,s,l,c,h),!0;case"dragenter":return yr=nt(yr,t,s,l,c,h),!0;case"mouseover":return jr=nt(jr,t,s,l,c,h),!0;case"pointerover":var p=h.pointerId;return Yt.set(p,nt(Yt.get(p)||null,t,s,l,c,h)),!0;case"gotpointercapture":return p=h.pointerId,_r.set(p,nt(_r.get(p)||null,t,s,l,c,h)),!0}return!1}function Oo(t){var s=Ws(t.target);if(s!==null){var l=$n(s);if(l!==null){if(s=l.tag,s===13){if(s=ks(l),s!==null){t.blockedOn=s,Li(t.priority,function(){We(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cs(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var l=ai(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var c=new l.constructor(l.type,l);Kn=c,l.target.dispatchEvent(c),Kn=null}else return s=eo(l),s!==null&&jn(s),t.blockedOn=l,!1;s.shift()}return!0}function ji(t,s,l){cs(t)&&l.delete(s)}function Xr(){Fi=!1,lr!==null&&cs(lr)&&(lr=null),yr!==null&&cs(yr)&&(yr=null),jr!==null&&cs(jr)&&(jr=null),Yt.forEach(ji),_r.forEach(ji)}function Ps(t,s){t.blockedOn===s&&(t.blockedOn=null,Fi||(Fi=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,Xr)))}function Rr(t){function s(h){return Ps(h,t)}if(0<us.length){Ps(us[0],t);for(var l=1;l<us.length;l++){var c=us[l];c.blockedOn===t&&(c.blockedOn=null)}}for(lr!==null&&Ps(lr,t),yr!==null&&Ps(yr,t),jr!==null&&Ps(jr,t),Yt.forEach(s),_r.forEach(s),l=0;l<Dn.length;l++)c=Dn[l],c.blockedOn===t&&(c.blockedOn=null);for(;0<Dn.length&&(l=Dn[0],l.blockedOn===null);)Oo(l),l.blockedOn===null&&Dn.shift()}var Cr=Me.ReactCurrentBatchConfig,Ur=!0;function bo(t,s,l,c){var h=lt,p=Cr.transition;Cr.transition=null;try{lt=1,Yr(t,s,l,c)}finally{lt=h,Cr.transition=p}}function Bs(t,s,l,c){var h=lt,p=Cr.transition;Cr.transition=null;try{lt=4,Yr(t,s,l,c)}finally{lt=h,Cr.transition=p}}function Yr(t,s,l,c){if(Ur){var h=ai(t,s,l,c);if(h===null)Xa(t,s,c,yn,l),Ro(t,c);else if(wn(h,t,s,l,c))c.stopPropagation();else if(Ro(t,c),s&4&&-1<Qe.indexOf(t)){for(;h!==null;){var p=eo(h);if(p!==null&&oi(p),p=ai(t,s,l,c),p===null&&Xa(t,s,c,yn,l),p===h)break;h=p}h!==null&&c.stopPropagation()}else Xa(t,s,c,null,l)}}var yn=null;function ai(t,s,l,c){if(yn=null,t=xr(c),t=Ws(t),t!==null)if(s=$n(t),s===null)t=null;else if(l=s.tag,l===13){if(t=ks(s),t!==null)return t;t=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return yn=t,null}function Ui(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mi()){case ne:return 1;case Io:return 4;case Pt:case as:return 16;case To:return 536870912;default:return 16}default:return 16}}var Or=null,Vi=null,li=null;function Do(){if(li)return li;var t,s=Vi,l=s.length,c,h="value"in Or?Or.value:Or.textContent,p=h.length;for(t=0;t<l&&s[t]===h[t];t++);var N=l-t;for(c=1;c<=N&&s[l-c]===h[p-c];c++);return li=h.slice(t,1<c?1-c:void 0)}function At(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ls(){return!0}function Fs(){return!1}function rn(t){function s(l,c,h,p,N){this._reactName=l,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=N,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(l=t[b],this[b]=l?l(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ls:Fs,this.isPropagationStopped=Fs,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),s}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q=rn(fs),it=le({},fs,{view:0,detail:0}),Cn=rn(it),ds,ui,js,ci=le({},it,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==js&&(js&&t.type==="mousemove"?(ds=t.screenX-js.screenX,ui=t.screenY-js.screenY):ui=ds=0,js=t),ds)},movementY:function(t){return"movementY"in t?t.movementY:ui}}),ko=rn(ci),Hi=le({},ci,{dataTransfer:0}),un=rn(Hi),zi=le({},it,{relatedTarget:0}),jt=rn(zi),fi=le({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Zr=rn(fi),bt=le({},fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ye=rn(bt),La=le({},fs,{data:0}),kt=rn(La),qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Fa[t])?!!s[t]:!1}function Us(){return Er}var Mo=le({},it,{key:function(t){if(t.key){var s=qr[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=At(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hs[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?At(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?At(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wi=rn(Mo),Po=le({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=rn(Po),ja=le({},it,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),gs=rn(ja),Xi=le({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ua=rn(Xi),Vs=le({},ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=rn(Vs),Vr=[9,13,27,32],ps=V&&"CompositionEvent"in window,Nn=null;V&&"documentMode"in document&&(Nn=document.documentMode);var Bo=V&&"TextEvent"in window&&!Nn,ur=V&&(!ps||Nn&&8<Nn&&11>=Nn),Lo=" ",di=!1;function Fo(t,s){switch(t){case"keyup":return Vr.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yi(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kn=!1;function Ha(t,s){switch(t){case"compositionend":return Yi(s);case"keypress":return s.which!==32?null:(di=!0,Lo);case"textInput":return t=s.data,t===Lo&&di?null:t;default:return null}}function Zi(t,s){if(kn)return t==="compositionend"||!ps&&Fo(t,s)?(t=Do(),li=Vi=Or=null,kn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ur&&s.locale!=="ko"?null:s.data;default:return null}}var Hs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pt(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Hs[t.type]:s==="textarea"}function zs(t,s,l,c){It(c),s=Vo(s,"onChange"),0<s.length&&(l=new q("onChange","change",null,l,c),t.push({event:l,listeners:s}))}var C=null,e=null;function n(t){Su(t,0)}function r(t){var s=pi(t);if(sr(s))return t}function i(t,s){if(t==="change")return s}var o=!1;if(V){var a;if(V){var u="oninput"in document;if(!u){var f=document.createElement("div");f.setAttribute("oninput","return;"),u=typeof f.oninput=="function"}a=u}else a=!1;o=a&&(!document.documentMode||9<document.documentMode)}function d(){C&&(C.detachEvent("onpropertychange",w),e=C=null)}function w(t){if(t.propertyName==="value"&&r(e)){var s=[];zs(s,e,t,xr(t)),Ee(n,s)}}function A(t,s,l){t==="focusin"?(d(),C=s,e=l,C.attachEvent("onpropertychange",w)):t==="focusout"&&d()}function I(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r(e)}function R(t,s){if(t==="click")return r(s)}function k(t,s){if(t==="input"||t==="change")return r(s)}function L(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var H=typeof Object.is=="function"?Object.is:L;function Z(t,s){if(H(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var l=Object.keys(t),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var h=l[c];if(!P.call(s,h)||!H(t[h],s[h]))return!1}return!0}function de(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ge(t,s){var l=de(t);t=0;for(var c;l;){if(l.nodeType===3){if(c=t+l.textContent.length,t<=s&&c>=s)return{node:l,offset:s-t};t=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=de(l)}}function ae(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?ae(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ft(){for(var t=window,s=ot();s instanceof t.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)t=s.contentWindow;else break;s=ot(t.document)}return s}function rt(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Un(t){var s=ft(),l=t.focusedElem,c=t.selectionRange;if(s!==l&&l&&l.ownerDocument&&ae(l.ownerDocument.documentElement,l)){if(c!==null&&rt(l)){if(s=c.start,t=c.end,t===void 0&&(t=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(t,l.value.length);else if(t=(s=l.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var h=l.textContent.length,p=Math.min(c.start,h);c=c.end===void 0?p:Math.min(c.end,h),!t.extend&&p>c&&(h=c,c=p,p=h),h=ge(l,p);var N=ge(l,c);h&&N&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==N.node||t.focusOffset!==N.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),t.removeAllRanges(),p>c?(t.addRange(s),t.extend(N.node,N.offset)):(s.setEnd(N.node,N.offset),t.addRange(s)))}}for(s=[],t=l;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)t=s[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cr=V&&"documentMode"in document&&11>=document.documentMode,cn=null,Tt=null,Kt=null,Mn=!1;function Kr(t,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Mn||cn==null||cn!==ot(c)||(c=cn,"selectionStart"in c&&rt(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Kt&&Z(Kt,c)||(Kt=c,c=Vo(Tt,"onSelect"),0<c.length&&(s=new q("onSelect","select",null,s,l),t.push({event:s,listeners:c}),s.target=cn)))}function br(t,s){var l={};return l[t.toLowerCase()]=s.toLowerCase(),l["Webkit"+t]="webkit"+s,l["Moz"+t]="moz"+s,l}var xs={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},qi={},xu={};V&&(xu=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function jo(t){if(qi[t])return qi[t];if(!xs[t])return t;var s=xs[t],l;for(l in s)if(s.hasOwnProperty(l)&&l in xu)return qi[t]=s[l];return t}var mu=jo("animationend"),wu=jo("animationiteration"),yu=jo("animationstart"),Cu=jo("transitionend"),Eu=new Map,Au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(t,s){Eu.set(t,s),E(s,[t])}for(var za=0;za<Au.length;za++){var Wa=Au[za],t0=Wa.toLowerCase(),n0=Wa[0].toUpperCase()+Wa.slice(1);ms(t0,"on"+n0)}ms(mu,"onAnimationEnd"),ms(wu,"onAnimationIteration"),ms(yu,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(Cu,"onTransitionEnd"),D("onMouseEnter",["mouseout","mouseover"]),D("onMouseLeave",["mouseout","mouseover"]),D("onPointerEnter",["pointerout","pointerover"]),D("onPointerLeave",["pointerout","pointerover"]),E("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),E("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),E("onBeforeInput",["compositionend","keypress","textInput","paste"]),E("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),E("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),E("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ki));function vu(t,s,l){var c=t.type||"unknown-event";t.currentTarget=l,Fn(c,s,void 0,t),t.currentTarget=null}function Su(t,s){s=(s&4)!==0;for(var l=0;l<t.length;l++){var c=t[l],h=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var N=c.length-1;0<=N;N--){var b=c[N],B=b.instance,K=b.currentTarget;if(b=b.listener,B!==p&&h.isPropagationStopped())break e;vu(h,b,K),p=B}else for(N=0;N<c.length;N++){if(b=c[N],B=b.instance,K=b.currentTarget,b=b.listener,B!==p&&h.isPropagationStopped())break e;vu(h,b,K),p=B}}}if(bn)throw t=Ie,bn=!1,Ie=null,t}function zt(t,s){var l=s[Qa];l===void 0&&(l=s[Qa]=new Set);var c=t+"__bubble";l.has(c)||(Nu(s,t,2,!1),l.add(c))}function Ga(t,s,l){var c=0;s&&(c|=4),Nu(l,t,c,s)}var Uo="_reactListening"+Math.random().toString(36).slice(2);function $i(t){if(!t[Uo]){t[Uo]=!0,S.forEach(function(l){l!=="selectionchange"&&(r0.has(l)||Ga(l,!1,t),Ga(l,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Uo]||(s[Uo]=!0,Ga("selectionchange",!1,s))}}function Nu(t,s,l,c){switch(Ui(s)){case 1:var h=bo;break;case 4:h=Bs;break;default:h=Yr}l=h.bind(null,s,l,t),h=void 0,!Dt||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(s,l,{capture:!0,passive:h}):t.addEventListener(s,l,!0):h!==void 0?t.addEventListener(s,l,{passive:h}):t.addEventListener(s,l,!1)}function Xa(t,s,l,c,h){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var b=c.stateNode.containerInfo;if(b===h||b.nodeType===8&&b.parentNode===h)break;if(N===4)for(N=c.return;N!==null;){var B=N.tag;if((B===3||B===4)&&(B=N.stateNode.containerInfo,B===h||B.nodeType===8&&B.parentNode===h))return;N=N.return}for(;b!==null;){if(N=Ws(b),N===null)return;if(B=N.tag,B===5||B===6){c=p=N;continue e}b=b.parentNode}}c=c.return}Ee(function(){var K=p,ue=xr(l),fe=[];e:{var oe=Eu.get(t);if(oe!==void 0){var _e=q,Pe=t;switch(t){case"keypress":if(At(l)===0)break e;case"keydown":case"keyup":_e=Wi;break;case"focusin":Pe="focus",_e=jt;break;case"focusout":Pe="blur",_e=jt;break;case"beforeblur":case"afterblur":_e=jt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=gs;break;case mu:case wu:case yu:_e=Zr;break;case Cu:_e=Ua;break;case"scroll":_e=Cn;break;case"wheel":_e=Va;break;case"copy":case"cut":case"paste":_e=Ye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Gi}var je=(s&4)!==0,fn=!je&&t==="scroll",G=je?oe!==null?oe+"Capture":null:oe;je=[];for(var j=K,X;j!==null;){X=j;var xe=X.stateNode;if(X.tag===5&&xe!==null&&(X=xe,G!==null&&(xe=He(j,G),xe!=null&&je.push(Qi(j,xe,X)))),fn)break;j=j.return}0<je.length&&(oe=new _e(oe,Pe,null,l,ue),fe.push({event:oe,listeners:je}))}}if((s&7)===0){e:{if(oe=t==="mouseover"||t==="pointerover",_e=t==="mouseout"||t==="pointerout",oe&&l!==Kn&&(Pe=l.relatedTarget||l.fromElement)&&(Ws(Pe)||Pe[$r]))break e;if((_e||oe)&&(oe=ue.window===ue?ue:(oe=ue.ownerDocument)?oe.defaultView||oe.parentWindow:window,_e?(Pe=l.relatedTarget||l.toElement,_e=K,Pe=Pe?Ws(Pe):null,Pe!==null&&(fn=$n(Pe),Pe!==fn||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(_e=null,Pe=K),_e!==Pe)){if(je=ko,xe="onMouseLeave",G="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(je=Gi,xe="onPointerLeave",G="onPointerEnter",j="pointer"),fn=_e==null?oe:pi(_e),X=Pe==null?oe:pi(Pe),oe=new je(xe,j+"leave",_e,l,ue),oe.target=fn,oe.relatedTarget=X,xe=null,Ws(ue)===K&&(je=new je(G,j+"enter",Pe,l,ue),je.target=X,je.relatedTarget=fn,xe=je),fn=xe,_e&&Pe)t:{for(je=_e,G=Pe,j=0,X=je;X;X=hi(X))j++;for(X=0,xe=G;xe;xe=hi(xe))X++;for(;0<j-X;)je=hi(je),j--;for(;0<X-j;)G=hi(G),X--;for(;j--;){if(je===G||G!==null&&je===G.alternate)break t;je=hi(je),G=hi(G)}je=null}else je=null;_e!==null&&Iu(fe,oe,_e,je,!1),Pe!==null&&fn!==null&&Iu(fe,fn,Pe,je,!0)}}e:{if(oe=K?pi(K):window,_e=oe.nodeName&&oe.nodeName.toLowerCase(),_e==="select"||_e==="input"&&oe.type==="file")var Ue=i;else if(pt(oe))if(o)Ue=k;else{Ue=I;var qe=A}else(_e=oe.nodeName)&&_e.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Ue=R);if(Ue&&(Ue=Ue(t,K))){zs(fe,Ue,l,ue);break e}qe&&qe(t,oe,K),t==="focusout"&&(qe=oe._wrapperState)&&qe.controlled&&oe.type==="number"&&ut(oe,"number",oe.value)}switch(qe=K?pi(K):window,t){case"focusin":(pt(qe)||qe.contentEditable==="true")&&(cn=qe,Tt=K,Kt=null);break;case"focusout":Kt=Tt=cn=null;break;case"mousedown":Mn=!0;break;case"contextmenu":case"mouseup":case"dragend":Mn=!1,Kr(fe,l,ue);break;case"selectionchange":if(cr)break;case"keydown":case"keyup":Kr(fe,l,ue)}var Ke;if(ps)e:{switch(t){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else kn?Fo(t,l)&&(tt="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(tt="onCompositionStart");tt&&(ur&&l.locale!=="ko"&&(kn||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&kn&&(Ke=Do()):(Or=ue,Vi="value"in Or?Or.value:Or.textContent,kn=!0)),qe=Vo(K,tt),0<qe.length&&(tt=new kt(tt,t,null,l,ue),fe.push({event:tt,listeners:qe}),Ke?tt.data=Ke:(Ke=Yi(l),Ke!==null&&(tt.data=Ke)))),(Ke=Bo?Ha(t,l):Zi(t,l))&&(K=Vo(K,"onBeforeInput"),0<K.length&&(ue=new kt("onBeforeInput","beforeinput",null,l,ue),fe.push({event:ue,listeners:K}),ue.data=Ke))}Su(fe,s)})}function Qi(t,s,l){return{instance:t,listener:s,currentTarget:l}}function Vo(t,s){for(var l=s+"Capture",c=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=He(t,l),p!=null&&c.unshift(Qi(t,p,h)),p=He(t,s),p!=null&&c.push(Qi(t,p,h))),t=t.return}return c}function hi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Iu(t,s,l,c,h){for(var p=s._reactName,N=[];l!==null&&l!==c;){var b=l,B=b.alternate,K=b.stateNode;if(B!==null&&B===c)break;b.tag===5&&K!==null&&(b=K,h?(B=He(l,p),B!=null&&N.unshift(Qi(l,B,b))):h||(B=He(l,p),B!=null&&N.push(Qi(l,B,b)))),l=l.return}N.length!==0&&t.push({event:s,listeners:N})}var s0=/\r\n?/g,i0=/\u0000|\uFFFD/g;function Tu(t){return(typeof t=="string"?t:""+t).replace(s0,`
`).replace(i0,"")}function Ho(t,s,l){if(s=Tu(s),Tu(t)!==s&&l)throw Error(g(425))}function zo(){}var Ya=null,Za=null;function qa(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ka=typeof setTimeout=="function"?setTimeout:void 0,o0=typeof clearTimeout=="function"?clearTimeout:void 0,_u=typeof Promise=="function"?Promise:void 0,a0=typeof queueMicrotask=="function"?queueMicrotask:typeof _u<"u"?function(t){return _u.resolve(null).then(t).catch(l0)}:Ka;function l0(t){setTimeout(function(){throw t})}function $a(t,s){var l=s,c=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(c===0){t.removeChild(h),Rr(s);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=h}while(l);Rr(s)}function ws(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Ru(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return t;s--}else l==="/$"&&s++}t=t.previousSibling}return null}var gi=Math.random().toString(36).slice(2),Hr="__reactFiber$"+gi,Ji="__reactProps$"+gi,$r="__reactContainer$"+gi,Qa="__reactEvents$"+gi,u0="__reactListeners$"+gi,c0="__reactHandles$"+gi;function Ws(t){var s=t[Hr];if(s)return s;for(var l=t.parentNode;l;){if(s=l[$r]||l[Hr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(t=Ru(t);t!==null;){if(l=t[Hr])return l;t=Ru(t)}return s}t=l,l=t.parentNode}return null}function eo(t){return t=t[Hr]||t[$r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(g(33))}function Wo(t){return t[Ji]||null}var Ja=[],xi=-1;function ys(t){return{current:t}}function Wt(t){0>xi||(t.current=Ja[xi],Ja[xi]=null,xi--)}function Ut(t,s){xi++,Ja[xi]=t.current,t.current=s}var Cs={},Vn=ys(Cs),Qn=ys(!1),Gs=Cs;function mi(t,s){var l=t.type.contextTypes;if(!l)return Cs;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in l)h[p]=s[p];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=h),h}function Jn(t){return t=t.childContextTypes,t!=null}function Go(){Wt(Qn),Wt(Vn)}function Ou(t,s,l){if(Vn.current!==Cs)throw Error(g(168));Ut(Vn,s),Ut(Qn,l)}function bu(t,s,l){var c=t.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(g(108,$e(t)||"Unknown",h));return le({},l,c)}function Xo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cs,Gs=Vn.current,Ut(Vn,t),Ut(Qn,Qn.current),!0}function Du(t,s,l){var c=t.stateNode;if(!c)throw Error(g(169));l?(t=bu(t,s,Gs),c.__reactInternalMemoizedMergedChildContext=t,Wt(Qn),Wt(Vn),Ut(Vn,t)):Wt(Qn),Ut(Qn,l)}var Qr=null,Yo=!1,el=!1;function ku(t){Qr===null?Qr=[t]:Qr.push(t)}function f0(t){Yo=!0,ku(t)}function Es(){if(!el&&Qr!==null){el=!0;var t=0,s=lt;try{var l=Qr;for(lt=1;t<l.length;t++){var c=l[t];do c=c(!0);while(c!==null)}Qr=null,Yo=!1}catch(h){throw Qr!==null&&(Qr=Qr.slice(t+1)),ir(ne,Es),h}finally{lt=s,el=!1}}return null}var wi=[],yi=0,Zo=null,qo=0,Ar=[],vr=0,Xs=null,Jr=1,es="";function Ys(t,s){wi[yi++]=qo,wi[yi++]=Zo,Zo=t,qo=s}function Mu(t,s,l){Ar[vr++]=Jr,Ar[vr++]=es,Ar[vr++]=Xs,Xs=t;var c=Jr;t=es;var h=32-Yn(c)-1;c&=~(1<<h),l+=1;var p=32-Yn(s)+h;if(30<p){var N=h-h%5;p=(c&(1<<N)-1).toString(32),c>>=N,h-=N,Jr=1<<32-Yn(s)+h|l<<h|c,es=p+t}else Jr=1<<p|l<<h|c,es=t}function tl(t){t.return!==null&&(Ys(t,1),Mu(t,1,0))}function nl(t){for(;t===Zo;)Zo=wi[--yi],wi[yi]=null,qo=wi[--yi],wi[yi]=null;for(;t===Xs;)Xs=Ar[--vr],Ar[vr]=null,es=Ar[--vr],Ar[vr]=null,Jr=Ar[--vr],Ar[vr]=null}var fr=null,dr=null,Zt=!1,Dr=null;function Pu(t,s){var l=Tr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=t,s=t.deletions,s===null?(t.deletions=[l],t.flags|=16):s.push(l)}function Bu(t,s){switch(t.tag){case 5:var l=t.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,fr=t,dr=ws(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,fr=t,dr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Xs!==null?{id:Jr,overflow:es}:null,t.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Tr(18,null,null,0),l.stateNode=s,l.return=t,t.child=l,fr=t,dr=null,!0):!1;default:return!1}}function rl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sl(t){if(Zt){var s=dr;if(s){var l=s;if(!Bu(t,s)){if(rl(t))throw Error(g(418));s=ws(l.nextSibling);var c=fr;s&&Bu(t,s)?Pu(c,l):(t.flags=t.flags&-4097|2,Zt=!1,fr=t)}}else{if(rl(t))throw Error(g(418));t.flags=t.flags&-4097|2,Zt=!1,fr=t}}}function Lu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fr=t}function Ko(t){if(t!==fr)return!1;if(!Zt)return Lu(t),Zt=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!qa(t.type,t.memoizedProps)),s&&(s=dr)){if(rl(t))throw Fu(),Error(g(418));for(;s;)Pu(t,s),s=ws(s.nextSibling)}if(Lu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(g(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(s===0){dr=ws(t.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}t=t.nextSibling}dr=null}}else dr=fr?ws(t.stateNode.nextSibling):null;return!0}function Fu(){for(var t=dr;t;)t=ws(t.nextSibling)}function Ci(){dr=fr=null,Zt=!1}function il(t){Dr===null?Dr=[t]:Dr.push(t)}var d0=Me.ReactCurrentBatchConfig;function to(t,s,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(g(309));var c=l.stateNode}if(!c)throw Error(g(147,t));var h=c,p=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(N){var b=h.refs;N===null?delete b[p]:b[p]=N},s._stringRef=p,s)}if(typeof t!="string")throw Error(g(284));if(!l._owner)throw Error(g(290,t))}return t}function $o(t,s){throw t=Object.prototype.toString.call(s),Error(g(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function ju(t){var s=t._init;return s(t._payload)}function Uu(t){function s(G,j){if(t){var X=G.deletions;X===null?(G.deletions=[j],G.flags|=16):X.push(j)}}function l(G,j){if(!t)return null;for(;j!==null;)s(G,j),j=j.sibling;return null}function c(G,j){for(G=new Map;j!==null;)j.key!==null?G.set(j.key,j):G.set(j.index,j),j=j.sibling;return G}function h(G,j){return G=Rs(G,j),G.index=0,G.sibling=null,G}function p(G,j,X){return G.index=X,t?(X=G.alternate,X!==null?(X=X.index,X<j?(G.flags|=2,j):X):(G.flags|=2,j)):(G.flags|=1048576,j)}function N(G){return t&&G.alternate===null&&(G.flags|=2),G}function b(G,j,X,xe){return j===null||j.tag!==6?(j=Kl(X,G.mode,xe),j.return=G,j):(j=h(j,X),j.return=G,j)}function B(G,j,X,xe){var Ue=X.type;return Ue===se?ue(G,j,X.props.children,xe,X.key):j!==null&&(j.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Fe&&ju(Ue)===j.type)?(xe=h(j,X.props),xe.ref=to(G,j,X),xe.return=G,xe):(xe=Ea(X.type,X.key,X.props,null,G.mode,xe),xe.ref=to(G,j,X),xe.return=G,xe)}function K(G,j,X,xe){return j===null||j.tag!==4||j.stateNode.containerInfo!==X.containerInfo||j.stateNode.implementation!==X.implementation?(j=$l(X,G.mode,xe),j.return=G,j):(j=h(j,X.children||[]),j.return=G,j)}function ue(G,j,X,xe,Ue){return j===null||j.tag!==7?(j=ti(X,G.mode,xe,Ue),j.return=G,j):(j=h(j,X),j.return=G,j)}function fe(G,j,X){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Kl(""+j,G.mode,X),j.return=G,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case xt:return X=Ea(j.type,j.key,j.props,null,G.mode,X),X.ref=to(G,null,j),X.return=G,X;case Ge:return j=$l(j,G.mode,X),j.return=G,j;case Fe:var xe=j._init;return fe(G,xe(j._payload),X)}if(ht(j)||ve(j))return j=ti(j,G.mode,X,null),j.return=G,j;$o(G,j)}return null}function oe(G,j,X,xe){var Ue=j!==null?j.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Ue!==null?null:b(G,j,""+X,xe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case xt:return X.key===Ue?B(G,j,X,xe):null;case Ge:return X.key===Ue?K(G,j,X,xe):null;case Fe:return Ue=X._init,oe(G,j,Ue(X._payload),xe)}if(ht(X)||ve(X))return Ue!==null?null:ue(G,j,X,xe,null);$o(G,X)}return null}function _e(G,j,X,xe,Ue){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return G=G.get(X)||null,b(j,G,""+xe,Ue);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case xt:return G=G.get(xe.key===null?X:xe.key)||null,B(j,G,xe,Ue);case Ge:return G=G.get(xe.key===null?X:xe.key)||null,K(j,G,xe,Ue);case Fe:var qe=xe._init;return _e(G,j,X,qe(xe._payload),Ue)}if(ht(xe)||ve(xe))return G=G.get(X)||null,ue(j,G,xe,Ue,null);$o(j,xe)}return null}function Pe(G,j,X,xe){for(var Ue=null,qe=null,Ke=j,tt=j=0,_n=null;Ke!==null&&tt<X.length;tt++){Ke.index>tt?(_n=Ke,Ke=null):_n=Ke.sibling;var Nt=oe(G,Ke,X[tt],xe);if(Nt===null){Ke===null&&(Ke=_n);break}t&&Ke&&Nt.alternate===null&&s(G,Ke),j=p(Nt,j,tt),qe===null?Ue=Nt:qe.sibling=Nt,qe=Nt,Ke=_n}if(tt===X.length)return l(G,Ke),Zt&&Ys(G,tt),Ue;if(Ke===null){for(;tt<X.length;tt++)Ke=fe(G,X[tt],xe),Ke!==null&&(j=p(Ke,j,tt),qe===null?Ue=Ke:qe.sibling=Ke,qe=Ke);return Zt&&Ys(G,tt),Ue}for(Ke=c(G,Ke);tt<X.length;tt++)_n=_e(Ke,G,tt,X[tt],xe),_n!==null&&(t&&_n.alternate!==null&&Ke.delete(_n.key===null?tt:_n.key),j=p(_n,j,tt),qe===null?Ue=_n:qe.sibling=_n,qe=_n);return t&&Ke.forEach(function(Os){return s(G,Os)}),Zt&&Ys(G,tt),Ue}function je(G,j,X,xe){var Ue=ve(X);if(typeof Ue!="function")throw Error(g(150));if(X=Ue.call(X),X==null)throw Error(g(151));for(var qe=Ue=null,Ke=j,tt=j=0,_n=null,Nt=X.next();Ke!==null&&!Nt.done;tt++,Nt=X.next()){Ke.index>tt?(_n=Ke,Ke=null):_n=Ke.sibling;var Os=oe(G,Ke,Nt.value,xe);if(Os===null){Ke===null&&(Ke=_n);break}t&&Ke&&Os.alternate===null&&s(G,Ke),j=p(Os,j,tt),qe===null?Ue=Os:qe.sibling=Os,qe=Os,Ke=_n}if(Nt.done)return l(G,Ke),Zt&&Ys(G,tt),Ue;if(Ke===null){for(;!Nt.done;tt++,Nt=X.next())Nt=fe(G,Nt.value,xe),Nt!==null&&(j=p(Nt,j,tt),qe===null?Ue=Nt:qe.sibling=Nt,qe=Nt);return Zt&&Ys(G,tt),Ue}for(Ke=c(G,Ke);!Nt.done;tt++,Nt=X.next())Nt=_e(Ke,G,tt,Nt.value,xe),Nt!==null&&(t&&Nt.alternate!==null&&Ke.delete(Nt.key===null?tt:Nt.key),j=p(Nt,j,tt),qe===null?Ue=Nt:qe.sibling=Nt,qe=Nt);return t&&Ke.forEach(function(G0){return s(G,G0)}),Zt&&Ys(G,tt),Ue}function fn(G,j,X,xe){if(typeof X=="object"&&X!==null&&X.type===se&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case xt:e:{for(var Ue=X.key,qe=j;qe!==null;){if(qe.key===Ue){if(Ue=X.type,Ue===se){if(qe.tag===7){l(G,qe.sibling),j=h(qe,X.props.children),j.return=G,G=j;break e}}else if(qe.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Fe&&ju(Ue)===qe.type){l(G,qe.sibling),j=h(qe,X.props),j.ref=to(G,qe,X),j.return=G,G=j;break e}l(G,qe);break}else s(G,qe);qe=qe.sibling}X.type===se?(j=ti(X.props.children,G.mode,xe,X.key),j.return=G,G=j):(xe=Ea(X.type,X.key,X.props,null,G.mode,xe),xe.ref=to(G,j,X),xe.return=G,G=xe)}return N(G);case Ge:e:{for(qe=X.key;j!==null;){if(j.key===qe)if(j.tag===4&&j.stateNode.containerInfo===X.containerInfo&&j.stateNode.implementation===X.implementation){l(G,j.sibling),j=h(j,X.children||[]),j.return=G,G=j;break e}else{l(G,j);break}else s(G,j);j=j.sibling}j=$l(X,G.mode,xe),j.return=G,G=j}return N(G);case Fe:return qe=X._init,fn(G,j,qe(X._payload),xe)}if(ht(X))return Pe(G,j,X,xe);if(ve(X))return je(G,j,X,xe);$o(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,j!==null&&j.tag===6?(l(G,j.sibling),j=h(j,X),j.return=G,G=j):(l(G,j),j=Kl(X,G.mode,xe),j.return=G,G=j),N(G)):l(G,j)}return fn}var Ei=Uu(!0),Vu=Uu(!1),Qo=ys(null),Jo=null,Ai=null,ol=null;function al(){ol=Ai=Jo=null}function ll(t){var s=Qo.current;Wt(Qo),t._currentValue=s}function ul(t,s,l){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===l)break;t=t.return}}function vi(t,s){Jo=t,ol=Ai=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(er=!0),t.firstContext=null)}function Sr(t){var s=t._currentValue;if(ol!==t)if(t={context:t,memoizedValue:s,next:null},Ai===null){if(Jo===null)throw Error(g(308));Ai=t,Jo.dependencies={lanes:0,firstContext:t}}else Ai=Ai.next=t;return s}var Zs=null;function cl(t){Zs===null?Zs=[t]:Zs.push(t)}function Hu(t,s,l,c){var h=s.interleaved;return h===null?(l.next=l,cl(s)):(l.next=h.next,h.next=l),s.interleaved=l,ts(t,c)}function ts(t,s){t.lanes|=s;var l=t.alternate;for(l!==null&&(l.lanes|=s),l=t,t=t.return;t!==null;)t.childLanes|=s,l=t.alternate,l!==null&&(l.childLanes|=s),l=t,t=t.return;return l.tag===3?l.stateNode:null}var As=!1;function fl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ns(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function vs(t,s,l){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(vt&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,ts(t,l)}return h=c.interleaved,h===null?(s.next=s,cl(c)):(s.next=h.next,h.next=s),c.interleaved=s,ts(t,l)}function ea(t,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var c=s.lanes;c&=t.pendingLanes,l|=c,s.lanes=l,nn(t,l)}}function Wu(t,s){var l=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var h=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var N={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};p===null?h=p=N:p=p.next=N,l=l.next}while(l!==null);p===null?h=p=s:p=p.next=s}else h=p=s;l={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,effects:c.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=s:t.next=s,l.lastBaseUpdate=s}function ta(t,s,l,c){var h=t.updateQueue;As=!1;var p=h.firstBaseUpdate,N=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var B=b,K=B.next;B.next=null,N===null?p=K:N.next=K,N=B;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,b=ue.lastBaseUpdate,b!==N&&(b===null?ue.firstBaseUpdate=K:b.next=K,ue.lastBaseUpdate=B))}if(p!==null){var fe=h.baseState;N=0,ue=K=B=null,b=p;do{var oe=b.lane,_e=b.eventTime;if((c&oe)===oe){ue!==null&&(ue=ue.next={eventTime:_e,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var Pe=t,je=b;switch(oe=s,_e=l,je.tag){case 1:if(Pe=je.payload,typeof Pe=="function"){fe=Pe.call(_e,fe,oe);break e}fe=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=je.payload,oe=typeof Pe=="function"?Pe.call(_e,fe,oe):Pe,oe==null)break e;fe=le({},fe,oe);break e;case 2:As=!0}}b.callback!==null&&b.lane!==0&&(t.flags|=64,oe=h.effects,oe===null?h.effects=[b]:oe.push(b))}else _e={eventTime:_e,lane:oe,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ue===null?(K=ue=_e,B=fe):ue=ue.next=_e,N|=oe;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;oe=b,b=oe.next,oe.next=null,h.lastBaseUpdate=oe,h.shared.pending=null}}while(!0);if(ue===null&&(B=fe),h.baseState=B,h.firstBaseUpdate=K,h.lastBaseUpdate=ue,s=h.shared.interleaved,s!==null){h=s;do N|=h.lane,h=h.next;while(h!==s)}else p===null&&(h.shared.lanes=0);$s|=N,t.lanes=N,t.memoizedState=fe}}function Gu(t,s,l){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var c=t[s],h=c.callback;if(h!==null){if(c.callback=null,c=l,typeof h!="function")throw Error(g(191,h));h.call(c)}}}var no={},zr=ys(no),ro=ys(no),so=ys(no);function qs(t){if(t===no)throw Error(g(174));return t}function dl(t,s){switch(Ut(so,s),Ut(ro,t),Ut(zr,no),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:en(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=en(s,t)}Wt(zr),Ut(zr,s)}function Si(){Wt(zr),Wt(ro),Wt(so)}function Xu(t){qs(so.current);var s=qs(zr.current),l=en(s,t.type);s!==l&&(Ut(ro,t),Ut(zr,l))}function hl(t){ro.current===t&&(Wt(zr),Wt(ro))}var $t=ys(0);function na(t){for(var s=t;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gl=[];function pl(){for(var t=0;t<gl.length;t++)gl[t]._workInProgressVersionPrimary=null;gl.length=0}var ra=Me.ReactCurrentDispatcher,xl=Me.ReactCurrentBatchConfig,Ks=0,Qt=null,En=null,In=null,sa=!1,io=!1,oo=0,h0=0;function Hn(){throw Error(g(321))}function ml(t,s){if(s===null)return!1;for(var l=0;l<s.length&&l<t.length;l++)if(!H(t[l],s[l]))return!1;return!0}function wl(t,s,l,c,h,p){if(Ks=p,Qt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ra.current=t===null||t.memoizedState===null?m0:w0,t=l(c,h),io){p=0;do{if(io=!1,oo=0,25<=p)throw Error(g(301));p+=1,In=En=null,s.updateQueue=null,ra.current=y0,t=l(c,h)}while(io)}if(ra.current=aa,s=En!==null&&En.next!==null,Ks=0,In=En=Qt=null,sa=!1,s)throw Error(g(300));return t}function yl(){var t=oo!==0;return oo=0,t}function Wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Qt.memoizedState=In=t:In=In.next=t,In}function Nr(){if(En===null){var t=Qt.alternate;t=t!==null?t.memoizedState:null}else t=En.next;var s=In===null?Qt.memoizedState:In.next;if(s!==null)In=s,En=t;else{if(t===null)throw Error(g(310));En=t,t={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},In===null?Qt.memoizedState=In=t:In=In.next=t}return In}function ao(t,s){return typeof s=="function"?s(t):s}function Cl(t){var s=Nr(),l=s.queue;if(l===null)throw Error(g(311));l.lastRenderedReducer=t;var c=En,h=c.baseQueue,p=l.pending;if(p!==null){if(h!==null){var N=h.next;h.next=p.next,p.next=N}c.baseQueue=h=p,l.pending=null}if(h!==null){p=h.next,c=c.baseState;var b=N=null,B=null,K=p;do{var ue=K.lane;if((Ks&ue)===ue)B!==null&&(B=B.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),c=K.hasEagerState?K.eagerState:t(c,K.action);else{var fe={lane:ue,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};B===null?(b=B=fe,N=c):B=B.next=fe,Qt.lanes|=ue,$s|=ue}K=K.next}while(K!==null&&K!==p);B===null?N=c:B.next=b,H(c,s.memoizedState)||(er=!0),s.memoizedState=c,s.baseState=N,s.baseQueue=B,l.lastRenderedState=c}if(t=l.interleaved,t!==null){h=t;do p=h.lane,Qt.lanes|=p,$s|=p,h=h.next;while(h!==t)}else h===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function El(t){var s=Nr(),l=s.queue;if(l===null)throw Error(g(311));l.lastRenderedReducer=t;var c=l.dispatch,h=l.pending,p=s.memoizedState;if(h!==null){l.pending=null;var N=h=h.next;do p=t(p,N.action),N=N.next;while(N!==h);H(p,s.memoizedState)||(er=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),l.lastRenderedState=p}return[p,c]}function Yu(){}function Zu(t,s){var l=Qt,c=Nr(),h=s(),p=!H(c.memoizedState,h);if(p&&(c.memoizedState=h,er=!0),c=c.queue,Al($u.bind(null,l,c,t),[t]),c.getSnapshot!==s||p||In!==null&&In.memoizedState.tag&1){if(l.flags|=2048,lo(9,Ku.bind(null,l,c,h,s),void 0,null),Tn===null)throw Error(g(349));(Ks&30)!==0||qu(l,s,h)}return h}function qu(t,s,l){t.flags|=16384,t={getSnapshot:s,value:l},s=Qt.updateQueue,s===null?(s={lastEffect:null,stores:null},Qt.updateQueue=s,s.stores=[t]):(l=s.stores,l===null?s.stores=[t]:l.push(t))}function Ku(t,s,l,c){s.value=l,s.getSnapshot=c,Qu(s)&&Ju(t)}function $u(t,s,l){return l(function(){Qu(s)&&Ju(t)})}function Qu(t){var s=t.getSnapshot;t=t.value;try{var l=s();return!H(t,l)}catch{return!0}}function Ju(t){var s=ts(t,1);s!==null&&Br(s,t,1,-1)}function ec(t){var s=Wr();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:t},s.queue=t,t=t.dispatch=x0.bind(null,Qt,t),[s.memoizedState,t]}function lo(t,s,l,c){return t={tag:t,create:s,destroy:l,deps:c,next:null},s=Qt.updateQueue,s===null?(s={lastEffect:null,stores:null},Qt.updateQueue=s,s.lastEffect=t.next=t):(l=s.lastEffect,l===null?s.lastEffect=t.next=t:(c=l.next,l.next=t,t.next=c,s.lastEffect=t)),t}function tc(){return Nr().memoizedState}function ia(t,s,l,c){var h=Wr();Qt.flags|=t,h.memoizedState=lo(1|s,l,void 0,c===void 0?null:c)}function oa(t,s,l,c){var h=Nr();c=c===void 0?null:c;var p=void 0;if(En!==null){var N=En.memoizedState;if(p=N.destroy,c!==null&&ml(c,N.deps)){h.memoizedState=lo(s,l,p,c);return}}Qt.flags|=t,h.memoizedState=lo(1|s,l,p,c)}function nc(t,s){return ia(8390656,8,t,s)}function Al(t,s){return oa(2048,8,t,s)}function rc(t,s){return oa(4,2,t,s)}function sc(t,s){return oa(4,4,t,s)}function ic(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function oc(t,s,l){return l=l!=null?l.concat([t]):null,oa(4,4,ic.bind(null,s,t),l)}function vl(){}function ac(t,s){var l=Nr();s=s===void 0?null:s;var c=l.memoizedState;return c!==null&&s!==null&&ml(s,c[1])?c[0]:(l.memoizedState=[t,s],t)}function lc(t,s){var l=Nr();s=s===void 0?null:s;var c=l.memoizedState;return c!==null&&s!==null&&ml(s,c[1])?c[0]:(t=t(),l.memoizedState=[t,s],t)}function uc(t,s,l){return(Ks&21)===0?(t.baseState&&(t.baseState=!1,er=!0),t.memoizedState=l):(H(l,s)||(l=mn(),Qt.lanes|=l,$s|=l,t.baseState=!0),s)}function g0(t,s){var l=lt;lt=l!==0&&4>l?l:4,t(!0);var c=xl.transition;xl.transition={};try{t(!1),s()}finally{lt=l,xl.transition=c}}function cc(){return Nr().memoizedState}function p0(t,s,l){var c=Ts(t);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},fc(t))dc(s,l);else if(l=Hu(t,s,l,c),l!==null){var h=qn();Br(l,t,c,h),hc(l,s,c)}}function x0(t,s,l){var c=Ts(t),h={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(fc(t))dc(s,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var N=s.lastRenderedState,b=p(N,l);if(h.hasEagerState=!0,h.eagerState=b,H(b,N)){var B=s.interleaved;B===null?(h.next=h,cl(s)):(h.next=B.next,B.next=h),s.interleaved=h;return}}catch{}finally{}l=Hu(t,s,h,c),l!==null&&(h=qn(),Br(l,t,c,h),hc(l,s,c))}}function fc(t){var s=t.alternate;return t===Qt||s!==null&&s===Qt}function dc(t,s){io=sa=!0;var l=t.pending;l===null?s.next=s:(s.next=l.next,l.next=s),t.pending=s}function hc(t,s,l){if((l&4194240)!==0){var c=s.lanes;c&=t.pendingLanes,l|=c,s.lanes=l,nn(t,l)}}var aa={readContext:Sr,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},m0={readContext:Sr,useCallback:function(t,s){return Wr().memoizedState=[t,s===void 0?null:s],t},useContext:Sr,useEffect:nc,useImperativeHandle:function(t,s,l){return l=l!=null?l.concat([t]):null,ia(4194308,4,ic.bind(null,s,t),l)},useLayoutEffect:function(t,s){return ia(4194308,4,t,s)},useInsertionEffect:function(t,s){return ia(4,2,t,s)},useMemo:function(t,s){var l=Wr();return s=s===void 0?null:s,t=t(),l.memoizedState=[t,s],t},useReducer:function(t,s,l){var c=Wr();return s=l!==void 0?l(s):s,c.memoizedState=c.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},c.queue=t,t=t.dispatch=p0.bind(null,Qt,t),[c.memoizedState,t]},useRef:function(t){var s=Wr();return t={current:t},s.memoizedState=t},useState:ec,useDebugValue:vl,useDeferredValue:function(t){return Wr().memoizedState=t},useTransition:function(){var t=ec(!1),s=t[0];return t=g0.bind(null,t[1]),Wr().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,l){var c=Qt,h=Wr();if(Zt){if(l===void 0)throw Error(g(407));l=l()}else{if(l=s(),Tn===null)throw Error(g(349));(Ks&30)!==0||qu(c,s,l)}h.memoizedState=l;var p={value:l,getSnapshot:s};return h.queue=p,nc($u.bind(null,c,p,t),[t]),c.flags|=2048,lo(9,Ku.bind(null,c,p,l,s),void 0,null),l},useId:function(){var t=Wr(),s=Tn.identifierPrefix;if(Zt){var l=es,c=Jr;l=(c&~(1<<32-Yn(c)-1)).toString(32)+l,s=":"+s+"R"+l,l=oo++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=h0++,s=":"+s+"r"+l.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},w0={readContext:Sr,useCallback:ac,useContext:Sr,useEffect:Al,useImperativeHandle:oc,useInsertionEffect:rc,useLayoutEffect:sc,useMemo:lc,useReducer:Cl,useRef:tc,useState:function(){return Cl(ao)},useDebugValue:vl,useDeferredValue:function(t){var s=Nr();return uc(s,En.memoizedState,t)},useTransition:function(){var t=Cl(ao)[0],s=Nr().memoizedState;return[t,s]},useMutableSource:Yu,useSyncExternalStore:Zu,useId:cc,unstable_isNewReconciler:!1},y0={readContext:Sr,useCallback:ac,useContext:Sr,useEffect:Al,useImperativeHandle:oc,useInsertionEffect:rc,useLayoutEffect:sc,useMemo:lc,useReducer:El,useRef:tc,useState:function(){return El(ao)},useDebugValue:vl,useDeferredValue:function(t){var s=Nr();return En===null?s.memoizedState=t:uc(s,En.memoizedState,t)},useTransition:function(){var t=El(ao)[0],s=Nr().memoizedState;return[t,s]},useMutableSource:Yu,useSyncExternalStore:Zu,useId:cc,unstable_isNewReconciler:!1};function kr(t,s){if(t&&t.defaultProps){s=le({},s),t=t.defaultProps;for(var l in t)s[l]===void 0&&(s[l]=t[l]);return s}return s}function Sl(t,s,l,c){s=t.memoizedState,l=l(c,s),l=l==null?s:le({},s,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var la={isMounted:function(t){return(t=t._reactInternals)?$n(t)===t:!1},enqueueSetState:function(t,s,l){t=t._reactInternals;var c=qn(),h=Ts(t),p=ns(c,h);p.payload=s,l!=null&&(p.callback=l),s=vs(t,p,h),s!==null&&(Br(s,t,h,c),ea(s,t,h))},enqueueReplaceState:function(t,s,l){t=t._reactInternals;var c=qn(),h=Ts(t),p=ns(c,h);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=vs(t,p,h),s!==null&&(Br(s,t,h,c),ea(s,t,h))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var l=qn(),c=Ts(t),h=ns(l,c);h.tag=2,s!=null&&(h.callback=s),s=vs(t,h,c),s!==null&&(Br(s,t,c,l),ea(s,t,c))}};function gc(t,s,l,c,h,p,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,N):s.prototype&&s.prototype.isPureReactComponent?!Z(l,c)||!Z(h,p):!0}function pc(t,s,l){var c=!1,h=Cs,p=s.contextType;return typeof p=="object"&&p!==null?p=Sr(p):(h=Jn(s)?Gs:Vn.current,c=s.contextTypes,p=(c=c!=null)?mi(t,h):Cs),s=new s(l,p),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=la,t.stateNode=s,s._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),s}function xc(t,s,l,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==t&&la.enqueueReplaceState(s,s.state,null)}function Nl(t,s,l,c){var h=t.stateNode;h.props=l,h.state=t.memoizedState,h.refs={},fl(t);var p=s.contextType;typeof p=="object"&&p!==null?h.context=Sr(p):(p=Jn(s)?Gs:Vn.current,h.context=mi(t,p)),h.state=t.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Sl(t,s,p,l),h.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&la.enqueueReplaceState(h,h.state,null),ta(t,l,h,c),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Ni(t,s){try{var l="",c=s;do l+=et(c),c=c.return;while(c);var h=l}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:s,stack:h,digest:null}}function Il(t,s,l){return{value:t,source:null,stack:l??null,digest:s??null}}function Tl(t,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var C0=typeof WeakMap=="function"?WeakMap:Map;function mc(t,s,l){l=ns(-1,l),l.tag=3,l.payload={element:null};var c=s.value;return l.callback=function(){pa||(pa=!0,Hl=c),Tl(t,s)},l}function wc(t,s,l){l=ns(-1,l),l.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;l.payload=function(){return c(h)},l.callback=function(){Tl(t,s)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(l.callback=function(){Tl(t,s),typeof c!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var N=s.stack;this.componentDidCatch(s.value,{componentStack:N!==null?N:""})}),l}function yc(t,s,l){var c=t.pingCache;if(c===null){c=t.pingCache=new C0;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(l)||(h.add(l),t=M0.bind(null,t,s,l),s.then(t,t))}function Cc(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Ec(t,s,l,c,h){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ns(-1,1),s.tag=2,vs(l,s,1))),l.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var E0=Me.ReactCurrentOwner,er=!1;function Zn(t,s,l,c){s.child=t===null?Vu(s,null,l,c):Ei(s,t.child,l,c)}function Ac(t,s,l,c,h){l=l.render;var p=s.ref;return vi(s,h),c=wl(t,s,l,c,p,h),l=yl(),t!==null&&!er?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~h,rs(t,s,h)):(Zt&&l&&tl(s),s.flags|=1,Zn(t,s,c,h),s.child)}function vc(t,s,l,c,h){if(t===null){var p=l.type;return typeof p=="function"&&!ql(p)&&p.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=p,Sc(t,s,p,c,h)):(t=Ea(l.type,null,c,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(p=t.child,(t.lanes&h)===0){var N=p.memoizedProps;if(l=l.compare,l=l!==null?l:Z,l(N,c)&&t.ref===s.ref)return rs(t,s,h)}return s.flags|=1,t=Rs(p,c),t.ref=s.ref,t.return=s,s.child=t}function Sc(t,s,l,c,h){if(t!==null){var p=t.memoizedProps;if(Z(p,c)&&t.ref===s.ref)if(er=!1,s.pendingProps=c=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(er=!0);else return s.lanes=t.lanes,rs(t,s,h)}return _l(t,s,l,c,h)}function Nc(t,s,l){var c=s.pendingProps,h=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Ti,hr),hr|=l;else{if((l&1073741824)===0)return t=p!==null?p.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Ut(Ti,hr),hr|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:l,Ut(Ti,hr),hr|=c}else p!==null?(c=p.baseLanes|l,s.memoizedState=null):c=l,Ut(Ti,hr),hr|=c;return Zn(t,s,h,l),s.child}function Ic(t,s){var l=s.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function _l(t,s,l,c,h){var p=Jn(l)?Gs:Vn.current;return p=mi(s,p),vi(s,h),l=wl(t,s,l,c,p,h),c=yl(),t!==null&&!er?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~h,rs(t,s,h)):(Zt&&c&&tl(s),s.flags|=1,Zn(t,s,l,h),s.child)}function Tc(t,s,l,c,h){if(Jn(l)){var p=!0;Xo(s)}else p=!1;if(vi(s,h),s.stateNode===null)ca(t,s),pc(s,l,c),Nl(s,l,c,h),c=!0;else if(t===null){var N=s.stateNode,b=s.memoizedProps;N.props=b;var B=N.context,K=l.contextType;typeof K=="object"&&K!==null?K=Sr(K):(K=Jn(l)?Gs:Vn.current,K=mi(s,K));var ue=l.getDerivedStateFromProps,fe=typeof ue=="function"||typeof N.getSnapshotBeforeUpdate=="function";fe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(b!==c||B!==K)&&xc(s,N,c,K),As=!1;var oe=s.memoizedState;N.state=oe,ta(s,c,N,h),B=s.memoizedState,b!==c||oe!==B||Qn.current||As?(typeof ue=="function"&&(Sl(s,l,ue,c),B=s.memoizedState),(b=As||gc(s,l,b,c,oe,B,K))?(fe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(s.flags|=4194308)):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=B),N.props=c,N.state=B,N.context=K,c=b):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{N=s.stateNode,zu(t,s),b=s.memoizedProps,K=s.type===s.elementType?b:kr(s.type,b),N.props=K,fe=s.pendingProps,oe=N.context,B=l.contextType,typeof B=="object"&&B!==null?B=Sr(B):(B=Jn(l)?Gs:Vn.current,B=mi(s,B));var _e=l.getDerivedStateFromProps;(ue=typeof _e=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(b!==fe||oe!==B)&&xc(s,N,c,B),As=!1,oe=s.memoizedState,N.state=oe,ta(s,c,N,h);var Pe=s.memoizedState;b!==fe||oe!==Pe||Qn.current||As?(typeof _e=="function"&&(Sl(s,l,_e,c),Pe=s.memoizedState),(K=As||gc(s,l,K,c,oe,Pe,B)||!1)?(ue||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(c,Pe,B),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(c,Pe,B)),typeof N.componentDidUpdate=="function"&&(s.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof N.componentDidUpdate!="function"||b===t.memoizedProps&&oe===t.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&oe===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Pe),N.props=c,N.state=Pe,N.context=B,c=K):(typeof N.componentDidUpdate!="function"||b===t.memoizedProps&&oe===t.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&oe===t.memoizedState||(s.flags|=1024),c=!1)}return Rl(t,s,l,c,p,h)}function Rl(t,s,l,c,h,p){Ic(t,s);var N=(s.flags&128)!==0;if(!c&&!N)return h&&Du(s,l,!1),rs(t,s,p);c=s.stateNode,E0.current=s;var b=N&&typeof l.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,t!==null&&N?(s.child=Ei(s,t.child,null,p),s.child=Ei(s,null,b,p)):Zn(t,s,b,p),s.memoizedState=c.state,h&&Du(s,l,!0),s.child}function _c(t){var s=t.stateNode;s.pendingContext?Ou(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Ou(t,s.context,!1),dl(t,s.containerInfo)}function Rc(t,s,l,c,h){return Ci(),il(h),s.flags|=256,Zn(t,s,l,c),s.child}var Ol={dehydrated:null,treeContext:null,retryLane:0};function bl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Oc(t,s,l){var c=s.pendingProps,h=$t.current,p=!1,N=(s.flags&128)!==0,b;if((b=N)||(b=t!==null&&t.memoizedState===null?!1:(h&2)!==0),b?(p=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Ut($t,h&1),t===null)return sl(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(N=c.children,t=c.fallback,p?(c=s.mode,p=s.child,N={mode:"hidden",children:N},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=N):p=Aa(N,c,0,null),t=ti(t,c,l,null),p.return=s,t.return=s,p.sibling=t,s.child=p,s.child.memoizedState=bl(l),s.memoizedState=Ol,t):Dl(s,N));if(h=t.memoizedState,h!==null&&(b=h.dehydrated,b!==null))return A0(t,s,N,c,b,h,l);if(p){p=c.fallback,N=s.mode,h=t.child,b=h.sibling;var B={mode:"hidden",children:c.children};return(N&1)===0&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=B,s.deletions=null):(c=Rs(h,B),c.subtreeFlags=h.subtreeFlags&14680064),b!==null?p=Rs(b,p):(p=ti(p,N,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,N=t.child.memoizedState,N=N===null?bl(l):{baseLanes:N.baseLanes|l,cachePool:null,transitions:N.transitions},p.memoizedState=N,p.childLanes=t.childLanes&~l,s.memoizedState=Ol,c}return p=t.child,t=p.sibling,c=Rs(p,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=l),c.return=s,c.sibling=null,t!==null&&(l=s.deletions,l===null?(s.deletions=[t],s.flags|=16):l.push(t)),s.child=c,s.memoizedState=null,c}function Dl(t,s){return s=Aa({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function ua(t,s,l,c){return c!==null&&il(c),Ei(s,t.child,null,l),t=Dl(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function A0(t,s,l,c,h,p,N){if(l)return s.flags&256?(s.flags&=-257,c=Il(Error(g(422))),ua(t,s,N,c)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(p=c.fallback,h=s.mode,c=Aa({mode:"visible",children:c.children},h,0,null),p=ti(p,h,N,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,(s.mode&1)!==0&&Ei(s,t.child,null,N),s.child.memoizedState=bl(N),s.memoizedState=Ol,p);if((s.mode&1)===0)return ua(t,s,N,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var b=c.dgst;return c=b,p=Error(g(419)),c=Il(p,c,void 0),ua(t,s,N,c)}if(b=(N&t.childLanes)!==0,er||b){if(c=Tn,c!==null){switch(N&-N){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|N))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,ts(t,h),Br(c,t,h,-1))}return Zl(),c=Il(Error(g(421))),ua(t,s,N,c)}return h.data==="$?"?(s.flags|=128,s.child=t.child,s=P0.bind(null,t),h._reactRetry=s,null):(t=p.treeContext,dr=ws(h.nextSibling),fr=s,Zt=!0,Dr=null,t!==null&&(Ar[vr++]=Jr,Ar[vr++]=es,Ar[vr++]=Xs,Jr=t.id,es=t.overflow,Xs=s),s=Dl(s,c.children),s.flags|=4096,s)}function bc(t,s,l){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),ul(t.return,s,l)}function kl(t,s,l,c,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:h}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=h)}function Dc(t,s,l){var c=s.pendingProps,h=c.revealOrder,p=c.tail;if(Zn(t,s,c.children,l),c=$t.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bc(t,l,s);else if(t.tag===19)bc(t,l,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Ut($t,c),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(l=s.child,h=null;l!==null;)t=l.alternate,t!==null&&na(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=s.child,s.child=null):(h=l.sibling,l.sibling=null),kl(s,!1,h,l,p);break;case"backwards":for(l=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&na(t)===null){s.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}kl(s,!0,l,null,p);break;case"together":kl(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ca(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function rs(t,s,l){if(t!==null&&(s.dependencies=t.dependencies),$s|=s.lanes,(l&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(g(153));if(s.child!==null){for(t=s.child,l=Rs(t,t.pendingProps),s.child=l,l.return=s;t.sibling!==null;)t=t.sibling,l=l.sibling=Rs(t,t.pendingProps),l.return=s;l.sibling=null}return s.child}function v0(t,s,l){switch(s.tag){case 3:_c(s),Ci();break;case 5:Xu(s);break;case 1:Jn(s.type)&&Xo(s);break;case 4:dl(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;Ut(Qo,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ut($t,$t.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Oc(t,s,l):(Ut($t,$t.current&1),t=rs(t,s,l),t!==null?t.sibling:null);Ut($t,$t.current&1);break;case 19:if(c=(l&s.childLanes)!==0,(t.flags&128)!==0){if(c)return Dc(t,s,l);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ut($t,$t.current),c)break;return null;case 22:case 23:return s.lanes=0,Nc(t,s,l)}return rs(t,s,l)}var kc,Ml,Mc,Pc;kc=function(t,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ml=function(){},Mc=function(t,s,l,c){var h=t.memoizedProps;if(h!==c){t=s.stateNode,qs(zr.current);var p=null;switch(l){case"input":h=Gn(t,h),c=Gn(t,c),p=[];break;case"select":h=le({},h,{value:void 0}),c=le({},c,{value:void 0}),p=[];break;case"textarea":h=Rn(t,h),c=Rn(t,c),p=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=zo)}mt(l,c);var N;l=null;for(K in h)if(!c.hasOwnProperty(K)&&h.hasOwnProperty(K)&&h[K]!=null)if(K==="style"){var b=h[K];for(N in b)b.hasOwnProperty(N)&&(l||(l={}),l[N]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(v.hasOwnProperty(K)?p||(p=[]):(p=p||[]).push(K,null));for(K in c){var B=c[K];if(b=h!=null?h[K]:void 0,c.hasOwnProperty(K)&&B!==b&&(B!=null||b!=null))if(K==="style")if(b){for(N in b)!b.hasOwnProperty(N)||B&&B.hasOwnProperty(N)||(l||(l={}),l[N]="");for(N in B)B.hasOwnProperty(N)&&b[N]!==B[N]&&(l||(l={}),l[N]=B[N])}else l||(p||(p=[]),p.push(K,l)),l=B;else K==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,b=b?b.__html:void 0,B!=null&&b!==B&&(p=p||[]).push(K,B)):K==="children"?typeof B!="string"&&typeof B!="number"||(p=p||[]).push(K,""+B):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(v.hasOwnProperty(K)?(B!=null&&K==="onScroll"&&zt("scroll",t),p||b===B||(p=[])):(p=p||[]).push(K,B))}l&&(p=p||[]).push("style",l);var K=p;(s.updateQueue=K)&&(s.flags|=4)}},Pc=function(t,s,l,c){l!==c&&(s.flags|=4)};function uo(t,s){if(!Zt)switch(t.tailMode){case"hidden":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function zn(t){var s=t.alternate!==null&&t.alternate.child===t.child,l=0,c=0;if(s)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=l,s}function S0(t,s,l){var c=s.pendingProps;switch(nl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(s),null;case 1:return Jn(s.type)&&Go(),zn(s),null;case 3:return c=s.stateNode,Si(),Wt(Qn),Wt(Vn),pl(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Ko(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dr!==null&&(Gl(Dr),Dr=null))),Ml(t,s),zn(s),null;case 5:hl(s);var h=qs(so.current);if(l=s.type,t!==null&&s.stateNode!=null)Mc(t,s,l,c,h),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(g(166));return zn(s),null}if(t=qs(zr.current),Ko(s)){c=s.stateNode,l=s.type;var p=s.memoizedProps;switch(c[Hr]=s,c[Ji]=p,t=(s.mode&1)!==0,l){case"dialog":zt("cancel",c),zt("close",c);break;case"iframe":case"object":case"embed":zt("load",c);break;case"video":case"audio":for(h=0;h<Ki.length;h++)zt(Ki[h],c);break;case"source":zt("error",c);break;case"img":case"image":case"link":zt("error",c),zt("load",c);break;case"details":zt("toggle",c);break;case"input":on(c,p),zt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},zt("invalid",c);break;case"textarea":xn(c,p),zt("invalid",c)}mt(l,p),h=null;for(var N in p)if(p.hasOwnProperty(N)){var b=p[N];N==="children"?typeof b=="string"?c.textContent!==b&&(p.suppressHydrationWarning!==!0&&Ho(c.textContent,b,t),h=["children",b]):typeof b=="number"&&c.textContent!==""+b&&(p.suppressHydrationWarning!==!0&&Ho(c.textContent,b,t),h=["children",""+b]):v.hasOwnProperty(N)&&b!=null&&N==="onScroll"&&zt("scroll",c)}switch(l){case"input":Le(c),Ct(c,p,!0);break;case"textarea":Le(c),dn(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=zo)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{N=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=an(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=N.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=N.createElement(l,{is:c.is}):(t=N.createElement(l),l==="select"&&(N=t,c.multiple?N.multiple=!0:c.size&&(N.size=c.size))):t=N.createElementNS(t,l),t[Hr]=s,t[Ji]=c,kc(t,s,!1,!1),s.stateNode=t;e:{switch(N=_t(l,c),l){case"dialog":zt("cancel",t),zt("close",t),h=c;break;case"iframe":case"object":case"embed":zt("load",t),h=c;break;case"video":case"audio":for(h=0;h<Ki.length;h++)zt(Ki[h],t);h=c;break;case"source":zt("error",t),h=c;break;case"img":case"image":case"link":zt("error",t),zt("load",t),h=c;break;case"details":zt("toggle",t),h=c;break;case"input":on(t,c),h=Gn(t,c),zt("invalid",t);break;case"option":h=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},h=le({},c,{value:void 0}),zt("invalid",t);break;case"textarea":xn(t,c),h=Rn(t,c),zt("invalid",t);break;default:h=c}mt(l,h),b=h;for(p in b)if(b.hasOwnProperty(p)){var B=b[p];p==="style"?he(t,B):p==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&tn(t,B)):p==="children"?typeof B=="string"?(l!=="textarea"||B!=="")&&pr(t,B):typeof B=="number"&&pr(t,""+B):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(v.hasOwnProperty(p)?B!=null&&p==="onScroll"&&zt("scroll",t):B!=null&&Ce(t,p,B,N))}switch(l){case"input":Le(t),Ct(t,c,!1);break;case"textarea":Le(t),dn(t);break;case"option":c.value!=null&&t.setAttribute("value",""+ke(c.value));break;case"select":t.multiple=!!c.multiple,p=c.value,p!=null?ie(t,!!c.multiple,p,!1):c.defaultValue!=null&&ie(t,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=zo)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return zn(s),null;case 6:if(t&&s.stateNode!=null)Pc(t,s,t.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(g(166));if(l=qs(so.current),qs(zr.current),Ko(s)){if(c=s.stateNode,l=s.memoizedProps,c[Hr]=s,(p=c.nodeValue!==l)&&(t=fr,t!==null))switch(t.tag){case 3:Ho(c.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ho(c.nodeValue,l,(t.mode&1)!==0)}p&&(s.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Hr]=s,s.stateNode=c}return zn(s),null;case 13:if(Wt($t),c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Zt&&dr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Fu(),Ci(),s.flags|=98560,p=!1;else if(p=Ko(s),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(g(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(g(317));p[Hr]=s}else Ci(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;zn(s),p=!1}else Dr!==null&&(Gl(Dr),Dr=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||($t.current&1)!==0?An===0&&(An=3):Zl())),s.updateQueue!==null&&(s.flags|=4),zn(s),null);case 4:return Si(),Ml(t,s),t===null&&$i(s.stateNode.containerInfo),zn(s),null;case 10:return ll(s.type._context),zn(s),null;case 17:return Jn(s.type)&&Go(),zn(s),null;case 19:if(Wt($t),p=s.memoizedState,p===null)return zn(s),null;if(c=(s.flags&128)!==0,N=p.rendering,N===null)if(c)uo(p,!1);else{if(An!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(N=na(t),N!==null){for(s.flags|=128,uo(p,!1),c=N.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=l,l=s.child;l!==null;)p=l,t=c,p.flags&=14680066,N=p.alternate,N===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=N.childLanes,p.lanes=N.lanes,p.child=N.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=N.memoizedProps,p.memoizedState=N.memoizedState,p.updateQueue=N.updateQueue,p.type=N.type,t=N.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return Ut($t,$t.current&1|2),s.child}t=t.sibling}p.tail!==null&&Rt()>_i&&(s.flags|=128,c=!0,uo(p,!1),s.lanes=4194304)}else{if(!c)if(t=na(N),t!==null){if(s.flags|=128,c=!0,l=t.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),uo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!Zt)return zn(s),null}else 2*Rt()-p.renderingStartTime>_i&&l!==1073741824&&(s.flags|=128,c=!0,uo(p,!1),s.lanes=4194304);p.isBackwards?(N.sibling=s.child,s.child=N):(l=p.last,l!==null?l.sibling=N:s.child=N,p.last=N)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Rt(),s.sibling=null,l=$t.current,Ut($t,c?l&1|2:l&1),s):(zn(s),null);case 22:case 23:return Yl(),c=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(hr&1073741824)!==0&&(zn(s),s.subtreeFlags&6&&(s.flags|=8192)):zn(s),null;case 24:return null;case 25:return null}throw Error(g(156,s.tag))}function N0(t,s){switch(nl(s),s.tag){case 1:return Jn(s.type)&&Go(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Si(),Wt(Qn),Wt(Vn),pl(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return hl(s),null;case 13:if(Wt($t),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(g(340));Ci()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Wt($t),null;case 4:return Si(),null;case 10:return ll(s.type._context),null;case 22:case 23:return Yl(),null;case 24:return null;default:return null}}var fa=!1,Wn=!1,I0=typeof WeakSet=="function"?WeakSet:Set,De=null;function Ii(t,s){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){sn(t,s,c)}else l.current=null}function Pl(t,s,l){try{l()}catch(c){sn(t,s,c)}}var Bc=!1;function T0(t,s){if(Ya=Ur,t=ft(),rt(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var N=0,b=-1,B=-1,K=0,ue=0,fe=t,oe=null;t:for(;;){for(var _e;fe!==l||h!==0&&fe.nodeType!==3||(b=N+h),fe!==p||c!==0&&fe.nodeType!==3||(B=N+c),fe.nodeType===3&&(N+=fe.nodeValue.length),(_e=fe.firstChild)!==null;)oe=fe,fe=_e;for(;;){if(fe===t)break t;if(oe===l&&++K===h&&(b=N),oe===p&&++ue===c&&(B=N),(_e=fe.nextSibling)!==null)break;fe=oe,oe=fe.parentNode}fe=_e}l=b===-1||B===-1?null:{start:b,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Za={focusedElem:t,selectionRange:l},Ur=!1,De=s;De!==null;)if(s=De,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,De=t;else for(;De!==null;){s=De;try{var Pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var je=Pe.memoizedProps,fn=Pe.memoizedState,G=s.stateNode,j=G.getSnapshotBeforeUpdate(s.elementType===s.type?je:kr(s.type,je),fn);G.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var X=s.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(g(163))}}catch(xe){sn(s,s.return,xe)}if(t=s.sibling,t!==null){t.return=s.return,De=t;break}De=s.return}return Pe=Bc,Bc=!1,Pe}function co(t,s,l){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Pl(s,l,p)}h=h.next}while(h!==c)}}function da(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&t)===t){var c=l.create;l.destroy=c()}l=l.next}while(l!==s)}}function Bl(t){var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof s=="function"?s(t):s.current=t}}function Lc(t){var s=t.alternate;s!==null&&(t.alternate=null,Lc(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Hr],delete s[Ji],delete s[Qa],delete s[u0],delete s[c0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fc(t){return t.tag===5||t.tag===3||t.tag===4}function jc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ll(t,s,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(t,s):l.insertBefore(t,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(t,l)):(s=l,s.appendChild(t)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=zo));else if(c!==4&&(t=t.child,t!==null))for(Ll(t,s,l),t=t.sibling;t!==null;)Ll(t,s,l),t=t.sibling}function Fl(t,s,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?l.insertBefore(t,s):l.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Fl(t,s,l),t=t.sibling;t!==null;)Fl(t,s,l),t=t.sibling}var Pn=null,Mr=!1;function Ss(t,s,l){for(l=l.child;l!==null;)Uc(t,s,l),l=l.sibling}function Uc(t,s,l){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(wt,l)}catch{}switch(l.tag){case 5:Wn||Ii(l,s);case 6:var c=Pn,h=Mr;Pn=null,Ss(t,s,l),Pn=c,Mr=h,Pn!==null&&(Mr?(t=Pn,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):Pn.removeChild(l.stateNode));break;case 18:Pn!==null&&(Mr?(t=Pn,l=l.stateNode,t.nodeType===8?$a(t.parentNode,l):t.nodeType===1&&$a(t,l),Rr(t)):$a(Pn,l.stateNode));break;case 4:c=Pn,h=Mr,Pn=l.stateNode.containerInfo,Mr=!0,Ss(t,s,l),Pn=c,Mr=h;break;case 0:case 11:case 14:case 15:if(!Wn&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var p=h,N=p.destroy;p=p.tag,N!==void 0&&((p&2)!==0||(p&4)!==0)&&Pl(l,s,N),h=h.next}while(h!==c)}Ss(t,s,l);break;case 1:if(!Wn&&(Ii(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(b){sn(l,s,b)}Ss(t,s,l);break;case 21:Ss(t,s,l);break;case 22:l.mode&1?(Wn=(c=Wn)||l.memoizedState!==null,Ss(t,s,l),Wn=c):Ss(t,s,l);break;default:Ss(t,s,l)}}function Vc(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new I0),s.forEach(function(c){var h=B0.bind(null,t,c);l.has(c)||(l.add(c),c.then(h,h))})}}function Pr(t,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];try{var p=t,N=s,b=N;e:for(;b!==null;){switch(b.tag){case 5:Pn=b.stateNode,Mr=!1;break e;case 3:Pn=b.stateNode.containerInfo,Mr=!0;break e;case 4:Pn=b.stateNode.containerInfo,Mr=!0;break e}b=b.return}if(Pn===null)throw Error(g(160));Uc(p,N,h),Pn=null,Mr=!1;var B=h.alternate;B!==null&&(B.return=null),h.return=null}catch(K){sn(h,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Hc(s,t),s=s.sibling}function Hc(t,s){var l=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pr(s,t),Gr(t),c&4){try{co(3,t,t.return),da(3,t)}catch(je){sn(t,t.return,je)}try{co(5,t,t.return)}catch(je){sn(t,t.return,je)}}break;case 1:Pr(s,t),Gr(t),c&512&&l!==null&&Ii(l,l.return);break;case 5:if(Pr(s,t),Gr(t),c&512&&l!==null&&Ii(l,l.return),t.flags&32){var h=t.stateNode;try{pr(h,"")}catch(je){sn(t,t.return,je)}}if(c&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,N=l!==null?l.memoizedProps:p,b=t.type,B=t.updateQueue;if(t.updateQueue=null,B!==null)try{b==="input"&&p.type==="radio"&&p.name!=null&&Ln(h,p),_t(b,N);var K=_t(b,p);for(N=0;N<B.length;N+=2){var ue=B[N],fe=B[N+1];ue==="style"?he(h,fe):ue==="dangerouslySetInnerHTML"?tn(h,fe):ue==="children"?pr(h,fe):Ce(h,ue,fe,K)}switch(b){case"input":Vt(h,p);break;case"textarea":Xt(h,p);break;case"select":var oe=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var _e=p.value;_e!=null?ie(h,!!p.multiple,_e,!1):oe!==!!p.multiple&&(p.defaultValue!=null?ie(h,!!p.multiple,p.defaultValue,!0):ie(h,!!p.multiple,p.multiple?[]:"",!1))}h[Ji]=p}catch(je){sn(t,t.return,je)}}break;case 6:if(Pr(s,t),Gr(t),c&4){if(t.stateNode===null)throw Error(g(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(je){sn(t,t.return,je)}}break;case 3:if(Pr(s,t),Gr(t),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Rr(s.containerInfo)}catch(je){sn(t,t.return,je)}break;case 4:Pr(s,t),Gr(t);break;case 13:Pr(s,t),Gr(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Vl=Rt())),c&4&&Vc(t);break;case 22:if(ue=l!==null&&l.memoizedState!==null,t.mode&1?(Wn=(K=Wn)||ue,Pr(s,t),Wn=K):Pr(s,t),Gr(t),c&8192){if(K=t.memoizedState!==null,(t.stateNode.isHidden=K)&&!ue&&(t.mode&1)!==0)for(De=t,ue=t.child;ue!==null;){for(fe=De=ue;De!==null;){switch(oe=De,_e=oe.child,oe.tag){case 0:case 11:case 14:case 15:co(4,oe,oe.return);break;case 1:Ii(oe,oe.return);var Pe=oe.stateNode;if(typeof Pe.componentWillUnmount=="function"){c=oe,l=oe.return;try{s=c,Pe.props=s.memoizedProps,Pe.state=s.memoizedState,Pe.componentWillUnmount()}catch(je){sn(c,l,je)}}break;case 5:Ii(oe,oe.return);break;case 22:if(oe.memoizedState!==null){Gc(fe);continue}}_e!==null?(_e.return=oe,De=_e):Gc(fe)}ue=ue.sibling}e:for(ue=null,fe=t;;){if(fe.tag===5){if(ue===null){ue=fe;try{h=fe.stateNode,K?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(b=fe.stateNode,B=fe.memoizedProps.style,N=B!=null&&B.hasOwnProperty("display")?B.display:null,b.style.display=Mt("display",N))}catch(je){sn(t,t.return,je)}}}else if(fe.tag===6){if(ue===null)try{fe.stateNode.nodeValue=K?"":fe.memoizedProps}catch(je){sn(t,t.return,je)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===t)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===t)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===t)break e;ue===fe&&(ue=null),fe=fe.return}ue===fe&&(ue=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:Pr(s,t),Gr(t),c&4&&Vc(t);break;case 21:break;default:Pr(s,t),Gr(t)}}function Gr(t){var s=t.flags;if(s&2){try{e:{for(var l=t.return;l!==null;){if(Fc(l)){var c=l;break e}l=l.return}throw Error(g(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(pr(h,""),c.flags&=-33);var p=jc(t);Fl(t,p,h);break;case 3:case 4:var N=c.stateNode.containerInfo,b=jc(t);Ll(t,b,N);break;default:throw Error(g(161))}}catch(B){sn(t,t.return,B)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function _0(t,s,l){De=t,zc(t)}function zc(t,s,l){for(var c=(t.mode&1)!==0;De!==null;){var h=De,p=h.child;if(h.tag===22&&c){var N=h.memoizedState!==null||fa;if(!N){var b=h.alternate,B=b!==null&&b.memoizedState!==null||Wn;b=fa;var K=Wn;if(fa=N,(Wn=B)&&!K)for(De=h;De!==null;)N=De,B=N.child,N.tag===22&&N.memoizedState!==null?Xc(h):B!==null?(B.return=N,De=B):Xc(h);for(;p!==null;)De=p,zc(p),p=p.sibling;De=h,fa=b,Wn=K}Wc(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,De=p):Wc(t)}}function Wc(t){for(;De!==null;){var s=De;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Wn||da(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Wn)if(l===null)c.componentDidMount();else{var h=s.elementType===s.type?l.memoizedProps:kr(s.type,l.memoizedProps);c.componentDidUpdate(h,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&Gu(s,p,c);break;case 3:var N=s.updateQueue;if(N!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Gu(s,N,l)}break;case 5:var b=s.stateNode;if(l===null&&s.flags&4){l=b;var B=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&l.focus();break;case"img":B.src&&(l.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var ue=K.memoizedState;if(ue!==null){var fe=ue.dehydrated;fe!==null&&Rr(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(g(163))}Wn||s.flags&512&&Bl(s)}catch(oe){sn(s,s.return,oe)}}if(s===t){De=null;break}if(l=s.sibling,l!==null){l.return=s.return,De=l;break}De=s.return}}function Gc(t){for(;De!==null;){var s=De;if(s===t){De=null;break}var l=s.sibling;if(l!==null){l.return=s.return,De=l;break}De=s.return}}function Xc(t){for(;De!==null;){var s=De;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{da(4,s)}catch(B){sn(s,l,B)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(B){sn(s,h,B)}}var p=s.return;try{Bl(s)}catch(B){sn(s,p,B)}break;case 5:var N=s.return;try{Bl(s)}catch(B){sn(s,N,B)}}}catch(B){sn(s,s.return,B)}if(s===t){De=null;break}var b=s.sibling;if(b!==null){b.return=s.return,De=b;break}De=s.return}}var R0=Math.ceil,ha=Me.ReactCurrentDispatcher,jl=Me.ReactCurrentOwner,Ir=Me.ReactCurrentBatchConfig,vt=0,Tn=null,gn=null,Bn=0,hr=0,Ti=ys(0),An=0,fo=null,$s=0,ga=0,Ul=0,ho=null,tr=null,Vl=0,_i=1/0,ss=null,pa=!1,Hl=null,Ns=null,xa=!1,Is=null,ma=0,go=0,zl=null,wa=-1,ya=0;function qn(){return(vt&6)!==0?Rt():wa!==-1?wa:wa=Rt()}function Ts(t){return(t.mode&1)===0?1:(vt&2)!==0&&Bn!==0?Bn&-Bn:d0.transition!==null?(ya===0&&(ya=mn()),ya):(t=lt,t!==0||(t=window.event,t=t===void 0?16:Ui(t.type)),t)}function Br(t,s,l,c){if(50<go)throw go=0,zl=null,Error(g(185));_(t,l,c),((vt&2)===0||t!==Tn)&&(t===Tn&&((vt&2)===0&&(ga|=l),An===4&&_s(t,Bn)),nr(t,c),l===1&&vt===0&&(s.mode&1)===0&&(_i=Rt()+500,Yo&&Es()))}function nr(t,s){var l=t.callbackNode;ls(t,s);var c=ar(t,t===Tn?Bn:0);if(c===0)l!==null&&Sn(l),t.callbackNode=null,t.callbackPriority=0;else if(s=c&-c,t.callbackPriority!==s){if(l!=null&&Sn(l),s===1)t.tag===0?f0(Zc.bind(null,t)):ku(Zc.bind(null,t)),a0(function(){(vt&6)===0&&Es()}),l=null;else{switch(_o(c)){case 1:l=ne;break;case 4:l=Io;break;case 16:l=Pt;break;case 536870912:l=To;break;default:l=Pt}l=n1(l,Yc.bind(null,t))}t.callbackPriority=s,t.callbackNode=l}}function Yc(t,s){if(wa=-1,ya=0,(vt&6)!==0)throw Error(g(327));var l=t.callbackNode;if(Ri()&&t.callbackNode!==l)return null;var c=ar(t,t===Tn?Bn:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||s)s=Ca(t,c);else{s=c;var h=vt;vt|=2;var p=Kc();(Tn!==t||Bn!==s)&&(ss=null,_i=Rt()+500,Js(t,s));do try{D0();break}catch(b){qc(t,b)}while(!0);al(),ha.current=p,vt=h,gn!==null?s=0:(Tn=null,Bn=0,s=An)}if(s!==0){if(s===2&&(h=Ot(t),h!==0&&(c=h,s=Wl(t,h))),s===1)throw l=fo,Js(t,0),_s(t,c),nr(t,Rt()),l;if(s===6)_s(t,c);else{if(h=t.current.alternate,(c&30)===0&&!O0(h)&&(s=Ca(t,c),s===2&&(p=Ot(t),p!==0&&(c=p,s=Wl(t,p))),s===1))throw l=fo,Js(t,0),_s(t,c),nr(t,Rt()),l;switch(t.finishedWork=h,t.finishedLanes=c,s){case 0:case 1:throw Error(g(345));case 2:ei(t,tr,ss);break;case 3:if(_s(t,c),(c&130023424)===c&&(s=Vl+500-Rt(),10<s)){if(ar(t,0)!==0)break;if(h=t.suspendedLanes,(h&c)!==c){qn(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Ka(ei.bind(null,t,tr,ss),s);break}ei(t,tr,ss);break;case 4:if(_s(t,c),(c&4194240)===c)break;for(s=t.eventTimes,h=-1;0<c;){var N=31-Yn(c);p=1<<N,N=s[N],N>h&&(h=N),c&=~p}if(c=h,c=Rt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*R0(c/1960))-c,10<c){t.timeoutHandle=Ka(ei.bind(null,t,tr,ss),c);break}ei(t,tr,ss);break;case 5:ei(t,tr,ss);break;default:throw Error(g(329))}}}return nr(t,Rt()),t.callbackNode===l?Yc.bind(null,t):null}function Wl(t,s){var l=ho;return t.current.memoizedState.isDehydrated&&(Js(t,s).flags|=256),t=Ca(t,s),t!==2&&(s=tr,tr=l,s!==null&&Gl(s)),t}function Gl(t){tr===null?tr=t:tr.push.apply(tr,t)}function O0(t){for(var s=t;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var h=l[c],p=h.getSnapshot;h=h.value;try{if(!H(p(),h))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _s(t,s){for(s&=~Ul,s&=~ga,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var l=31-Yn(s),c=1<<l;t[l]=-1,s&=~c}}function Zc(t){if((vt&6)!==0)throw Error(g(327));Ri();var s=ar(t,0);if((s&1)===0)return nr(t,Rt()),null;var l=Ca(t,s);if(t.tag!==0&&l===2){var c=Ot(t);c!==0&&(s=c,l=Wl(t,c))}if(l===1)throw l=fo,Js(t,0),_s(t,s),nr(t,Rt()),l;if(l===6)throw Error(g(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,ei(t,tr,ss),nr(t,Rt()),null}function Xl(t,s){var l=vt;vt|=1;try{return t(s)}finally{vt=l,vt===0&&(_i=Rt()+500,Yo&&Es())}}function Qs(t){Is!==null&&Is.tag===0&&(vt&6)===0&&Ri();var s=vt;vt|=1;var l=Ir.transition,c=lt;try{if(Ir.transition=null,lt=1,t)return t()}finally{lt=c,Ir.transition=l,vt=s,(vt&6)===0&&Es()}}function Yl(){hr=Ti.current,Wt(Ti)}function Js(t,s){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,o0(l)),gn!==null)for(l=gn.return;l!==null;){var c=l;switch(nl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Go();break;case 3:Si(),Wt(Qn),Wt(Vn),pl();break;case 5:hl(c);break;case 4:Si();break;case 13:Wt($t);break;case 19:Wt($t);break;case 10:ll(c.type._context);break;case 22:case 23:Yl()}l=l.return}if(Tn=t,gn=t=Rs(t.current,null),Bn=hr=s,An=0,fo=null,Ul=ga=$s=0,tr=ho=null,Zs!==null){for(s=0;s<Zs.length;s++)if(l=Zs[s],c=l.interleaved,c!==null){l.interleaved=null;var h=c.next,p=l.pending;if(p!==null){var N=p.next;p.next=h,c.next=N}l.pending=c}Zs=null}return t}function qc(t,s){do{var l=gn;try{if(al(),ra.current=aa,sa){for(var c=Qt.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}sa=!1}if(Ks=0,In=En=Qt=null,io=!1,oo=0,jl.current=null,l===null||l.return===null){An=1,fo=s,gn=null;break}e:{var p=t,N=l.return,b=l,B=s;if(s=Bn,b.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var K=B,ue=b,fe=ue.tag;if((ue.mode&1)===0&&(fe===0||fe===11||fe===15)){var oe=ue.alternate;oe?(ue.updateQueue=oe.updateQueue,ue.memoizedState=oe.memoizedState,ue.lanes=oe.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var _e=Cc(N);if(_e!==null){_e.flags&=-257,Ec(_e,N,b,p,s),_e.mode&1&&yc(p,K,s),s=_e,B=K;var Pe=s.updateQueue;if(Pe===null){var je=new Set;je.add(B),s.updateQueue=je}else Pe.add(B);break e}else{if((s&1)===0){yc(p,K,s),Zl();break e}B=Error(g(426))}}else if(Zt&&b.mode&1){var fn=Cc(N);if(fn!==null){(fn.flags&65536)===0&&(fn.flags|=256),Ec(fn,N,b,p,s),il(Ni(B,b));break e}}p=B=Ni(B,b),An!==4&&(An=2),ho===null?ho=[p]:ho.push(p),p=N;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var G=mc(p,B,s);Wu(p,G);break e;case 1:b=B;var j=p.type,X=p.stateNode;if((p.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Ns===null||!Ns.has(X)))){p.flags|=65536,s&=-s,p.lanes|=s;var xe=wc(p,b,s);Wu(p,xe);break e}}p=p.return}while(p!==null)}Qc(l)}catch(Ue){s=Ue,gn===l&&l!==null&&(gn=l=l.return);continue}break}while(!0)}function Kc(){var t=ha.current;return ha.current=aa,t===null?aa:t}function Zl(){(An===0||An===3||An===2)&&(An=4),Tn===null||($s&268435455)===0&&(ga&268435455)===0||_s(Tn,Bn)}function Ca(t,s){var l=vt;vt|=2;var c=Kc();(Tn!==t||Bn!==s)&&(ss=null,Js(t,s));do try{b0();break}catch(h){qc(t,h)}while(!0);if(al(),vt=l,ha.current=c,gn!==null)throw Error(g(261));return Tn=null,Bn=0,An}function b0(){for(;gn!==null;)$c(gn)}function D0(){for(;gn!==null&&!Lt();)$c(gn)}function $c(t){var s=t1(t.alternate,t,hr);t.memoizedProps=t.pendingProps,s===null?Qc(t):gn=s,jl.current=null}function Qc(t){var s=t;do{var l=s.alternate;if(t=s.return,(s.flags&32768)===0){if(l=S0(l,s,hr),l!==null){gn=l;return}}else{if(l=N0(l,s),l!==null){l.flags&=32767,gn=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{An=6,gn=null;return}}if(s=s.sibling,s!==null){gn=s;return}gn=s=t}while(s!==null);An===0&&(An=5)}function ei(t,s,l){var c=lt,h=Ir.transition;try{Ir.transition=null,lt=1,k0(t,s,l,c)}finally{Ir.transition=h,lt=c}return null}function k0(t,s,l,c){do Ri();while(Is!==null);if((vt&6)!==0)throw Error(g(327));l=t.finishedWork;var h=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(g(177));t.callbackNode=null,t.callbackPriority=0;var p=l.lanes|l.childLanes;if(Ve(t,p),t===Tn&&(gn=Tn=null,Bn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||xa||(xa=!0,n1(Pt,function(){return Ri(),null})),p=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||p){p=Ir.transition,Ir.transition=null;var N=lt;lt=1;var b=vt;vt|=4,jl.current=null,T0(t,l),Hc(l,t),Un(Za),Ur=!!Ya,Za=Ya=null,t.current=l,_0(l),No(),vt=b,lt=N,Ir.transition=p}else t.current=l;if(xa&&(xa=!1,Is=t,ma=h),p=t.pendingLanes,p===0&&(Ns=null),gt(l.stateNode),nr(t,Rt()),s!==null)for(c=t.onRecoverableError,l=0;l<s.length;l++)h=s[l],c(h.value,{componentStack:h.stack,digest:h.digest});if(pa)throw pa=!1,t=Hl,Hl=null,t;return(ma&1)!==0&&t.tag!==0&&Ri(),p=t.pendingLanes,(p&1)!==0?t===zl?go++:(go=0,zl=t):go=0,Es(),null}function Ri(){if(Is!==null){var t=_o(ma),s=Ir.transition,l=lt;try{if(Ir.transition=null,lt=16>t?16:t,Is===null)var c=!1;else{if(t=Is,Is=null,ma=0,(vt&6)!==0)throw Error(g(331));var h=vt;for(vt|=4,De=t.current;De!==null;){var p=De,N=p.child;if((De.flags&16)!==0){var b=p.deletions;if(b!==null){for(var B=0;B<b.length;B++){var K=b[B];for(De=K;De!==null;){var ue=De;switch(ue.tag){case 0:case 11:case 15:co(8,ue,p)}var fe=ue.child;if(fe!==null)fe.return=ue,De=fe;else for(;De!==null;){ue=De;var oe=ue.sibling,_e=ue.return;if(Lc(ue),ue===K){De=null;break}if(oe!==null){oe.return=_e,De=oe;break}De=_e}}}var Pe=p.alternate;if(Pe!==null){var je=Pe.child;if(je!==null){Pe.child=null;do{var fn=je.sibling;je.sibling=null,je=fn}while(je!==null)}}De=p}}if((p.subtreeFlags&2064)!==0&&N!==null)N.return=p,De=N;else e:for(;De!==null;){if(p=De,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:co(9,p,p.return)}var G=p.sibling;if(G!==null){G.return=p.return,De=G;break e}De=p.return}}var j=t.current;for(De=j;De!==null;){N=De;var X=N.child;if((N.subtreeFlags&2064)!==0&&X!==null)X.return=N,De=X;else e:for(N=j;De!==null;){if(b=De,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:da(9,b)}}catch(Ue){sn(b,b.return,Ue)}if(b===N){De=null;break e}var xe=b.sibling;if(xe!==null){xe.return=b.return,De=xe;break e}De=b.return}}if(vt=h,Es(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(wt,t)}catch{}c=!0}return c}finally{lt=l,Ir.transition=s}}return!1}function Jc(t,s,l){s=Ni(l,s),s=mc(t,s,1),t=vs(t,s,1),s=qn(),t!==null&&(_(t,1,s),nr(t,s))}function sn(t,s,l){if(t.tag===3)Jc(t,t,l);else for(;s!==null;){if(s.tag===3){Jc(s,t,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ns===null||!Ns.has(c))){t=Ni(l,t),t=wc(s,t,1),s=vs(s,t,1),t=qn(),s!==null&&(_(s,1,t),nr(s,t));break}}s=s.return}}function M0(t,s,l){var c=t.pingCache;c!==null&&c.delete(s),s=qn(),t.pingedLanes|=t.suspendedLanes&l,Tn===t&&(Bn&l)===l&&(An===4||An===3&&(Bn&130023424)===Bn&&500>Rt()-Vl?Js(t,0):Ul|=l),nr(t,s)}function e1(t,s){s===0&&((t.mode&1)===0?s=1:(s=ii,ii<<=1,(ii&130023424)===0&&(ii=4194304)));var l=qn();t=ts(t,s),t!==null&&(_(t,s,l),nr(t,l))}function P0(t){var s=t.memoizedState,l=0;s!==null&&(l=s.retryLane),e1(t,l)}function B0(t,s){var l=0;switch(t.tag){case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(g(314))}c!==null&&c.delete(s),e1(t,l)}var t1;t1=function(t,s,l){if(t!==null)if(t.memoizedProps!==s.pendingProps||Qn.current)er=!0;else{if((t.lanes&l)===0&&(s.flags&128)===0)return er=!1,v0(t,s,l);er=(t.flags&131072)!==0}else er=!1,Zt&&(s.flags&1048576)!==0&&Mu(s,qo,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;ca(t,s),t=s.pendingProps;var h=mi(s,Vn.current);vi(s,l),h=wl(null,s,c,t,h,l);var p=yl();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jn(c)?(p=!0,Xo(s)):p=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,fl(s),h.updater=la,s.stateNode=h,h._reactInternals=s,Nl(s,c,t,l),s=Rl(null,s,c,!0,p,l)):(s.tag=0,Zt&&p&&tl(s),Zn(null,s,h,l),s=s.child),s;case 16:c=s.elementType;e:{switch(ca(t,s),t=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=F0(c),t=kr(c,t),h){case 0:s=_l(null,s,c,t,l);break e;case 1:s=Tc(null,s,c,t,l);break e;case 11:s=Ac(null,s,c,t,l);break e;case 14:s=vc(null,s,c,kr(c.type,t),l);break e}throw Error(g(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:kr(c,h),_l(t,s,c,h,l);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:kr(c,h),Tc(t,s,c,h,l);case 3:e:{if(_c(s),t===null)throw Error(g(387));c=s.pendingProps,p=s.memoizedState,h=p.element,zu(t,s),ta(s,c,null,l);var N=s.memoizedState;if(c=N.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){h=Ni(Error(g(423)),s),s=Rc(t,s,c,l,h);break e}else if(c!==h){h=Ni(Error(g(424)),s),s=Rc(t,s,c,l,h);break e}else for(dr=ws(s.stateNode.containerInfo.firstChild),fr=s,Zt=!0,Dr=null,l=Vu(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ci(),c===h){s=rs(t,s,l);break e}Zn(t,s,c,l)}s=s.child}return s;case 5:return Xu(s),t===null&&sl(s),c=s.type,h=s.pendingProps,p=t!==null?t.memoizedProps:null,N=h.children,qa(c,h)?N=null:p!==null&&qa(c,p)&&(s.flags|=32),Ic(t,s),Zn(t,s,N,l),s.child;case 6:return t===null&&sl(s),null;case 13:return Oc(t,s,l);case 4:return dl(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=Ei(s,null,c,l):Zn(t,s,c,l),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:kr(c,h),Ac(t,s,c,h,l);case 7:return Zn(t,s,s.pendingProps,l),s.child;case 8:return Zn(t,s,s.pendingProps.children,l),s.child;case 12:return Zn(t,s,s.pendingProps.children,l),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,p=s.memoizedProps,N=h.value,Ut(Qo,c._currentValue),c._currentValue=N,p!==null)if(H(p.value,N)){if(p.children===h.children&&!Qn.current){s=rs(t,s,l);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var b=p.dependencies;if(b!==null){N=p.child;for(var B=b.firstContext;B!==null;){if(B.context===c){if(p.tag===1){B=ns(-1,l&-l),B.tag=2;var K=p.updateQueue;if(K!==null){K=K.shared;var ue=K.pending;ue===null?B.next=B:(B.next=ue.next,ue.next=B),K.pending=B}}p.lanes|=l,B=p.alternate,B!==null&&(B.lanes|=l),ul(p.return,l,s),b.lanes|=l;break}B=B.next}}else if(p.tag===10)N=p.type===s.type?null:p.child;else if(p.tag===18){if(N=p.return,N===null)throw Error(g(341));N.lanes|=l,b=N.alternate,b!==null&&(b.lanes|=l),ul(N,l,s),N=p.sibling}else N=p.child;if(N!==null)N.return=p;else for(N=p;N!==null;){if(N===s){N=null;break}if(p=N.sibling,p!==null){p.return=N.return,N=p;break}N=N.return}p=N}Zn(t,s,h.children,l),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,vi(s,l),h=Sr(h),c=c(h),s.flags|=1,Zn(t,s,c,l),s.child;case 14:return c=s.type,h=kr(c,s.pendingProps),h=kr(c.type,h),vc(t,s,c,h,l);case 15:return Sc(t,s,s.type,s.pendingProps,l);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:kr(c,h),ca(t,s),s.tag=1,Jn(c)?(t=!0,Xo(s)):t=!1,vi(s,l),pc(s,c,h),Nl(s,c,h,l),Rl(null,s,c,!0,t,l);case 19:return Dc(t,s,l);case 22:return Nc(t,s,l)}throw Error(g(156,s.tag))};function n1(t,s){return ir(t,s)}function L0(t,s,l,c){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(t,s,l,c){return new L0(t,s,l,c)}function ql(t){return t=t.prototype,!(!t||!t.isReactComponent)}function F0(t){if(typeof t=="function")return ql(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Be)return 11;if(t===$)return 14}return 2}function Rs(t,s){var l=t.alternate;return l===null?(l=Tr(t.tag,s,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=s,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,s=t.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function Ea(t,s,l,c,h,p){var N=2;if(c=t,typeof t=="function")ql(t)&&(N=1);else if(typeof t=="string")N=5;else e:switch(t){case se:return ti(l.children,h,p,s);case Je:N=8,h|=8;break;case te:return t=Tr(12,l,s,h|2),t.elementType=te,t.lanes=p,t;case Xe:return t=Tr(13,l,s,h),t.elementType=Xe,t.lanes=p,t;case Ze:return t=Tr(19,l,s,h),t.elementType=Ze,t.lanes=p,t;case ye:return Aa(l,h,p,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jt:N=10;break e;case yt:N=9;break e;case Be:N=11;break e;case $:N=14;break e;case Fe:N=16,c=null;break e}throw Error(g(130,t==null?t:typeof t,""))}return s=Tr(N,l,s,h),s.elementType=t,s.type=c,s.lanes=p,s}function ti(t,s,l,c){return t=Tr(7,t,c,s),t.lanes=l,t}function Aa(t,s,l,c){return t=Tr(22,t,c,s),t.elementType=ye,t.lanes=l,t.stateNode={isHidden:!1},t}function Kl(t,s,l){return t=Tr(6,t,null,s),t.lanes=l,t}function $l(t,s,l){return s=Tr(4,t.children!==null?t.children:[],t.key,s),s.lanes=l,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function j0(t,s,l,c,h){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W(0),this.expirationTimes=W(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ql(t,s,l,c,h,p,N,b,B){return t=new j0(t,s,l,b,B),s===1?(s=1,p===!0&&(s|=8)):s=0,p=Tr(3,null,null,s),t.current=p,p.stateNode=t,p.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},fl(p),t}function U0(t,s,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ge,key:c==null?null:""+c,children:t,containerInfo:s,implementation:l}}function r1(t){if(!t)return Cs;t=t._reactInternals;e:{if($n(t)!==t||t.tag!==1)throw Error(g(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(g(171))}if(t.tag===1){var l=t.type;if(Jn(l))return bu(t,l,s)}return s}function s1(t,s,l,c,h,p,N,b,B){return t=Ql(l,c,!0,t,h,p,N,b,B),t.context=r1(null),l=t.current,c=qn(),h=Ts(l),p=ns(c,h),p.callback=s??null,vs(l,p,h),t.current.lanes=h,_(t,h,c),nr(t,c),t}function va(t,s,l,c){var h=s.current,p=qn(),N=Ts(h);return l=r1(l),s.context===null?s.context=l:s.pendingContext=l,s=ns(p,N),s.payload={element:t},c=c===void 0?null:c,c!==null&&(s.callback=c),t=vs(h,s,N),t!==null&&(Br(t,h,N,p),ea(t,h,N)),N}function Sa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function i1(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<s?l:s}}function Jl(t,s){i1(t,s),(t=t.alternate)&&i1(t,s)}function V0(){return null}var o1=typeof reportError=="function"?reportError:function(t){console.error(t)};function eu(t){this._internalRoot=t}Na.prototype.render=eu.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(g(409));va(t,s,null,null)},Na.prototype.unmount=eu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Qs(function(){va(null,t,null,null)}),s[$r]=null}};function Na(t){this._internalRoot=t}Na.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ft();t={blockedOn:null,target:t,priority:s};for(var l=0;l<Dn.length&&s!==0&&s<Dn[l].priority;l++);Dn.splice(l,0,t),l===0&&Oo(t)}};function tu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ia(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a1(){}function H0(t,s,l,c,h){if(h){if(typeof c=="function"){var p=c;c=function(){var K=Sa(N);p.call(K)}}var N=s1(s,c,t,0,null,!1,!1,"",a1);return t._reactRootContainer=N,t[$r]=N.current,$i(t.nodeType===8?t.parentNode:t),Qs(),N}for(;h=t.lastChild;)t.removeChild(h);if(typeof c=="function"){var b=c;c=function(){var K=Sa(B);b.call(K)}}var B=Ql(t,0,!1,null,null,!1,!1,"",a1);return t._reactRootContainer=B,t[$r]=B.current,$i(t.nodeType===8?t.parentNode:t),Qs(function(){va(s,B,l,c)}),B}function Ta(t,s,l,c,h){var p=l._reactRootContainer;if(p){var N=p;if(typeof h=="function"){var b=h;h=function(){var B=Sa(N);b.call(B)}}va(s,N,t,h)}else N=H0(l,s,t,h,c);return Sa(N)}oi=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var l=Bt(s.pendingLanes);l!==0&&(nn(s,l|1),nr(s,Rt()),(vt&6)===0&&(_i=Rt()+500,Es()))}break;case 13:Qs(function(){var c=ts(t,1);if(c!==null){var h=qn();Br(c,t,1,h)}}),Jl(t,1)}},jn=function(t){if(t.tag===13){var s=ts(t,134217728);if(s!==null){var l=qn();Br(s,t,134217728,l)}Jl(t,134217728)}},We=function(t){if(t.tag===13){var s=Ts(t),l=ts(t,s);if(l!==null){var c=qn();Br(l,t,s,c)}Jl(t,s)}},Ft=function(){return lt},Li=function(t,s){var l=lt;try{return lt=t,s()}finally{lt=l}},Lr=function(t,s,l){switch(s){case"input":if(Vt(t,l),s=l.name,l.type==="radio"&&s!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==t&&c.form===t.form){var h=Wo(c);if(!h)throw Error(g(90));sr(c),Vt(c,h)}}}break;case"textarea":Xt(t,l);break;case"select":s=l.value,s!=null&&ie(t,!!l.multiple,s,!1)}},Fr=Xl,O=Qs;var z0={usingClientEntryPoint:!1,Events:[eo,pi,Wo,It,ct,Xl]},po={findFiberByHostInstance:Ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W0={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Me.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vo(t),t===null?null:t.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||V0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{wt=_a.inject(W0),at=_a}catch{}}return rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z0,rr.createPortal=function(t,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tu(s))throw Error(g(200));return U0(t,s,null,l)},rr.createRoot=function(t,s){if(!tu(t))throw Error(g(299));var l=!1,c="",h=o1;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Ql(t,1,!1,null,null,l,!1,c,h),t[$r]=s.current,$i(t.nodeType===8?t.parentNode:t),new eu(s)},rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(g(188)):(t=Object.keys(t).join(","),Error(g(268,t)));return t=vo(s),t=t===null?null:t.stateNode,t},rr.flushSync=function(t){return Qs(t)},rr.hydrate=function(t,s,l){if(!Ia(s))throw Error(g(200));return Ta(null,t,s,!0,l)},rr.hydrateRoot=function(t,s,l){if(!tu(t))throw Error(g(405));var c=l!=null&&l.hydratedSources||null,h=!1,p="",N=o1;if(l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),s=s1(s,null,t,1,l??null,h,!1,p,N),t[$r]=s.current,$i(t),c)for(t=0;t<c.length;t++)l=c[t],h=l._getVersion,h=h(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,h]:s.mutableSourceEagerHydrationData.push(l,h);return new Na(s)},rr.render=function(t,s,l){if(!Ia(s))throw Error(g(200));return Ta(null,t,s,!1,l)},rr.unmountComponentAtNode=function(t){if(!Ia(t))throw Error(g(40));return t._reactRootContainer?(Qs(function(){Ta(null,null,t,!1,function(){t._reactRootContainer=null,t[$r]=null})}),!0):!1},rr.unstable_batchedUpdates=Xl,rr.unstable_renderSubtreeIntoContainer=function(t,s,l,c){if(!Ia(l))throw Error(g(200));if(t==null||t._reactInternals===void 0)throw Error(g(38));return Ta(t,s,l,!1,c)},rr.version="18.3.1-next-f1338f8080-20240426",rr}var x1;function F1(){if(x1)return su.exports;x1=1;function x(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x)}catch(m){console.error(m)}}return x(),su.exports=ef(),su.exports}var m1;function tf(){if(m1)return Oa;m1=1;var x=F1();return Oa.createRoot=x.createRoot,Oa.hydrateRoot=x.hydrateRoot,Oa}var nf=tf();const rf=fu(nf);F1();/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wo(){return wo=Object.assign?Object.assign.bind():function(x){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(x[S]=g[S])}return x},wo.apply(this,arguments)}var bs;(function(x){x.Pop="POP",x.Push="PUSH",x.Replace="REPLACE"})(bs||(bs={}));const w1="popstate";function sf(x){x===void 0&&(x={});function m(S,v){let{pathname:E,search:D,hash:V}=S.location;return lu("",{pathname:E,search:D,hash:V},v.state&&v.state.usr||null,v.state&&v.state.key||"default")}function g(S,v){return typeof v=="string"?v:U1(v)}return af(m,g,null,x)}function pn(x,m){if(x===!1||x===null||typeof x>"u")throw new Error(m)}function j1(x,m){if(!x){typeof console<"u"&&console.warn(m);try{throw new Error(m)}catch{}}}function of(){return Math.random().toString(36).substr(2,8)}function y1(x,m){return{usr:x.state,key:x.key,idx:m}}function lu(x,m,g,S){return g===void 0&&(g=null),wo({pathname:typeof x=="string"?x:x.pathname,search:"",hash:""},typeof m=="string"?Di(m):m,{state:g,key:m&&m.key||S||of()})}function U1(x){let{pathname:m="/",search:g="",hash:S=""}=x;return g&&g!=="?"&&(m+=g.charAt(0)==="?"?g:"?"+g),S&&S!=="#"&&(m+=S.charAt(0)==="#"?S:"#"+S),m}function Di(x){let m={};if(x){let g=x.indexOf("#");g>=0&&(m.hash=x.substr(g),x=x.substr(0,g));let S=x.indexOf("?");S>=0&&(m.search=x.substr(S),x=x.substr(0,S)),x&&(m.pathname=x)}return m}function af(x,m,g,S){S===void 0&&(S={});let{window:v=document.defaultView,v5Compat:E=!1}=S,D=v.history,V=bs.Pop,P=null,T=z();T==null&&(T=0,D.replaceState(wo({},D.state,{idx:T}),""));function z(){return(D.state||{idx:null}).idx}function F(){V=bs.Pop;let me=z(),st=me==null?null:me-T;T=me,P&&P({action:V,location:pe.location,delta:st})}function we(me,st){V=bs.Push;let Te=lu(pe.location,me,st);T=z()+1;let Ce=y1(Te,T),Me=pe.createHref(Te);try{D.pushState(Ce,"",Me)}catch(xt){if(xt instanceof DOMException&&xt.name==="DataCloneError")throw xt;v.location.assign(Me)}E&&P&&P({action:V,location:pe.location,delta:1})}function Ae(me,st){V=bs.Replace;let Te=lu(pe.location,me,st);T=z();let Ce=y1(Te,T),Me=pe.createHref(Te);D.replaceState(Ce,"",Me),E&&P&&P({action:V,location:pe.location,delta:0})}function ze(me){let st=v.location.origin!=="null"?v.location.origin:v.location.href,Te=typeof me=="string"?me:U1(me);return Te=Te.replace(/ $/,"%20"),pn(st,"No window.location.(origin|href) available to create URL for href: "+Te),new URL(Te,st)}let pe={get action(){return V},get location(){return x(v,D)},listen(me){if(P)throw new Error("A history only accepts one active listener");return v.addEventListener(w1,F),P=me,()=>{v.removeEventListener(w1,F),P=null}},createHref(me){return m(v,me)},createURL:ze,encodeLocation(me){let st=ze(me);return{pathname:st.pathname,search:st.search,hash:st.hash}},push:we,replace:Ae,go(me){return D.go(me)}};return pe}var C1;(function(x){x.data="data",x.deferred="deferred",x.redirect="redirect",x.error="error"})(C1||(C1={}));function lf(x,m,g){return g===void 0&&(g="/"),uf(x,m,g)}function uf(x,m,g,S){let v=typeof m=="string"?Di(m):m,E=z1(v.pathname||"/",g);if(E==null)return null;let D=V1(x);cf(D);let V=null;for(let P=0;V==null&&P<D.length;++P){let T=Af(E);V=yf(D[P],T)}return V}function V1(x,m,g,S){m===void 0&&(m=[]),g===void 0&&(g=[]),S===void 0&&(S="");let v=(E,D,V)=>{let P={relativePath:V===void 0?E.path||"":V,caseSensitive:E.caseSensitive===!0,childrenIndex:D,route:E};P.relativePath.startsWith("/")&&(pn(P.relativePath.startsWith(S),'Absolute route path "'+P.relativePath+'" nested under path '+('"'+S+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),P.relativePath=P.relativePath.slice(S.length));let T=ni([S,P.relativePath]),z=g.concat(P);E.children&&E.children.length>0&&(pn(E.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+T+'".')),V1(E.children,m,z,T)),!(E.path==null&&!E.index)&&m.push({path:T,score:mf(T,E.index),routesMeta:z})};return x.forEach((E,D)=>{var V;if(E.path===""||!((V=E.path)!=null&&V.includes("?")))v(E,D);else for(let P of H1(E.path))v(E,D,P)}),m}function H1(x){let m=x.split("/");if(m.length===0)return[];let[g,...S]=m,v=g.endsWith("?"),E=g.replace(/\?$/,"");if(S.length===0)return v?[E,""]:[E];let D=H1(S.join("/")),V=[];return V.push(...D.map(P=>P===""?E:[E,P].join("/"))),v&&V.push(...D),V.map(P=>x.startsWith("/")&&P===""?"/":P)}function cf(x){x.sort((m,g)=>m.score!==g.score?g.score-m.score:wf(m.routesMeta.map(S=>S.childrenIndex),g.routesMeta.map(S=>S.childrenIndex)))}const ff=/^:[\w-]+$/,df=3,hf=2,gf=1,pf=10,xf=-2,E1=x=>x==="*";function mf(x,m){let g=x.split("/"),S=g.length;return g.some(E1)&&(S+=xf),m&&(S+=hf),g.filter(v=>!E1(v)).reduce((v,E)=>v+(ff.test(E)?df:E===""?gf:pf),S)}function wf(x,m){return x.length===m.length&&x.slice(0,-1).every((S,v)=>S===m[v])?x[x.length-1]-m[m.length-1]:0}function yf(x,m,g){let{routesMeta:S}=x,v={},E="/",D=[];for(let V=0;V<S.length;++V){let P=S[V],T=V===S.length-1,z=E==="/"?m:m.slice(E.length)||"/",F=Cf({path:P.relativePath,caseSensitive:P.caseSensitive,end:T},z),we=P.route;if(!F)return null;Object.assign(v,F.params),D.push({params:v,pathname:ni([E,F.pathname]),pathnameBase:If(ni([E,F.pathnameBase])),route:we}),F.pathnameBase!=="/"&&(E=ni([E,F.pathnameBase]))}return D}function Cf(x,m){typeof x=="string"&&(x={path:x,caseSensitive:!1,end:!0});let[g,S]=Ef(x.path,x.caseSensitive,x.end),v=m.match(g);if(!v)return null;let E=v[0],D=E.replace(/(.)\/+$/,"$1"),V=v.slice(1);return{params:S.reduce((T,z,F)=>{let{paramName:we,isOptional:Ae}=z;if(we==="*"){let pe=V[F]||"";D=E.slice(0,E.length-pe.length).replace(/(.)\/+$/,"$1")}const ze=V[F];return Ae&&!ze?T[we]=void 0:T[we]=(ze||"").replace(/%2F/g,"/"),T},{}),pathname:E,pathnameBase:D,pattern:x}}function Ef(x,m,g){m===void 0&&(m=!1),g===void 0&&(g=!0),j1(x==="*"||!x.endsWith("*")||x.endsWith("/*"),'Route path "'+x+'" will be treated as if it were '+('"'+x.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+x.replace(/\*$/,"/*")+'".'));let S=[],v="^"+x.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(D,V,P)=>(S.push({paramName:V,isOptional:P!=null}),P?"/?([^\\/]+)?":"/([^\\/]+)"));return x.endsWith("*")?(S.push({paramName:"*"}),v+=x==="*"||x==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):g?v+="\\/*$":x!==""&&x!=="/"&&(v+="(?:(?=\\/|$))"),[new RegExp(v,m?void 0:"i"),S]}function Af(x){try{return x.split("/").map(m=>decodeURIComponent(m).replace(/\//g,"%2F")).join("/")}catch(m){return j1(!1,'The URL path "'+x+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+m+").")),x}}function z1(x,m){if(m==="/")return x;if(!x.toLowerCase().startsWith(m.toLowerCase()))return null;let g=m.endsWith("/")?m.length-1:m.length,S=x.charAt(g);return S&&S!=="/"?null:x.slice(g)||"/"}function vf(x,m){m===void 0&&(m="/");let{pathname:g,search:S="",hash:v=""}=typeof x=="string"?Di(x):x;return{pathname:g?g.startsWith("/")?g:Sf(g,m):m,search:Tf(S),hash:_f(v)}}function Sf(x,m){let g=m.replace(/\/+$/,"").split("/");return x.split("/").forEach(v=>{v===".."?g.length>1&&g.pop():v!=="."&&g.push(v)}),g.length>1?g.join("/"):"/"}function au(x,m,g,S){return"Cannot include a '"+x+"' character in a manually specified "+("`to."+m+"` field ["+JSON.stringify(S)+"].  Please separate it out to the ")+("`to."+g+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nf(x){return x.filter((m,g)=>g===0||m.route.path&&m.route.path.length>0)}function W1(x,m){let g=Nf(x);return m?g.map((S,v)=>v===g.length-1?S.pathname:S.pathnameBase):g.map(S=>S.pathnameBase)}function G1(x,m,g,S){S===void 0&&(S=!1);let v;typeof x=="string"?v=Di(x):(v=wo({},x),pn(!v.pathname||!v.pathname.includes("?"),au("?","pathname","search",v)),pn(!v.pathname||!v.pathname.includes("#"),au("#","pathname","hash",v)),pn(!v.search||!v.search.includes("#"),au("#","search","hash",v)));let E=x===""||v.pathname==="",D=E?"/":v.pathname,V;if(D==null)V=g;else{let F=m.length-1;if(!S&&D.startsWith("..")){let we=D.split("/");for(;we[0]==="..";)we.shift(),F-=1;v.pathname=we.join("/")}V=F>=0?m[F]:"/"}let P=vf(v,V),T=D&&D!=="/"&&D.endsWith("/"),z=(E||D===".")&&g.endsWith("/");return!P.pathname.endsWith("/")&&(T||z)&&(P.pathname+="/"),P}const ni=x=>x.join("/").replace(/\/\/+/g,"/"),If=x=>x.replace(/\/+$/,"").replace(/^\/*/,"/"),Tf=x=>!x||x==="?"?"":x.startsWith("?")?x:"?"+x,_f=x=>!x||x==="#"?"":x.startsWith("#")?x:"#"+x;function Rf(x){return x!=null&&typeof x.status=="number"&&typeof x.statusText=="string"&&typeof x.internal=="boolean"&&"data"in x}const X1=["post","put","patch","delete"];new Set(X1);const Of=["get",...X1];new Set(Of);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yo(){return yo=Object.assign?Object.assign.bind():function(x){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(x[S]=g[S])}return x},yo.apply(this,arguments)}const gu=ee.createContext(null),bf=ee.createContext(null),Co=ee.createContext(null),Ma=ee.createContext(null),ri=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),Y1=ee.createContext(null);function Eo(){return ee.useContext(Ma)!=null}function si(){return Eo()||pn(!1),ee.useContext(Ma).location}function Z1(x){ee.useContext(Co).static||ee.useLayoutEffect(x)}function Ao(){let{isDataRoute:x}=ee.useContext(ri);return x?Wf():Df()}function Df(){Eo()||pn(!1);let x=ee.useContext(gu),{basename:m,future:g,navigator:S}=ee.useContext(Co),{matches:v}=ee.useContext(ri),{pathname:E}=si(),D=JSON.stringify(W1(v,g.v7_relativeSplatPath)),V=ee.useRef(!1);return Z1(()=>{V.current=!0}),ee.useCallback(function(T,z){if(z===void 0&&(z={}),!V.current)return;if(typeof T=="number"){S.go(T);return}let F=G1(T,JSON.parse(D),E,z.relative==="path");x==null&&m!=="/"&&(F.pathname=F.pathname==="/"?m:ni([m,F.pathname])),(z.replace?S.replace:S.push)(F,z.state,z)},[m,S,D,E,x])}function kf(x,m){return Mf(x,m)}function Mf(x,m,g,S){Eo()||pn(!1);let{navigator:v}=ee.useContext(Co),{matches:E}=ee.useContext(ri),D=E[E.length-1],V=D?D.params:{};D&&D.pathname;let P=D?D.pathnameBase:"/";D&&D.route;let T=si(),z;if(m){var F;let me=typeof m=="string"?Di(m):m;P==="/"||(F=me.pathname)!=null&&F.startsWith(P)||pn(!1),z=me}else z=T;let we=z.pathname||"/",Ae=we;if(P!=="/"){let me=P.replace(/^\//,"").split("/");Ae="/"+we.replace(/^\//,"").split("/").slice(me.length).join("/")}let ze=lf(x,{pathname:Ae}),pe=jf(ze&&ze.map(me=>Object.assign({},me,{params:Object.assign({},V,me.params),pathname:ni([P,v.encodeLocation?v.encodeLocation(me.pathname).pathname:me.pathname]),pathnameBase:me.pathnameBase==="/"?P:ni([P,v.encodeLocation?v.encodeLocation(me.pathnameBase).pathname:me.pathnameBase])})),E,g,S);return m&&pe?ee.createElement(Ma.Provider,{value:{location:yo({pathname:"/",search:"",hash:"",state:null,key:"default"},z),navigationType:bs.Pop}},pe):pe}function Pf(){let x=zf(),m=Rf(x)?x.status+" "+x.statusText:x instanceof Error?x.message:JSON.stringify(x),g=x instanceof Error?x.stack:null,v={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},m),g?ee.createElement("pre",{style:v},g):null,null)}const Bf=ee.createElement(Pf,null);class Lf extends ee.Component{constructor(m){super(m),this.state={location:m.location,revalidation:m.revalidation,error:m.error}}static getDerivedStateFromError(m){return{error:m}}static getDerivedStateFromProps(m,g){return g.location!==m.location||g.revalidation!=="idle"&&m.revalidation==="idle"?{error:m.error,location:m.location,revalidation:m.revalidation}:{error:m.error!==void 0?m.error:g.error,location:g.location,revalidation:m.revalidation||g.revalidation}}componentDidCatch(m,g){console.error("React Router caught the following error during render",m,g)}render(){return this.state.error!==void 0?ee.createElement(ri.Provider,{value:this.props.routeContext},ee.createElement(Y1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ff(x){let{routeContext:m,match:g,children:S}=x,v=ee.useContext(gu);return v&&v.static&&v.staticContext&&(g.route.errorElement||g.route.ErrorBoundary)&&(v.staticContext._deepestRenderedBoundaryId=g.route.id),ee.createElement(ri.Provider,{value:m},S)}function jf(x,m,g,S){var v;if(m===void 0&&(m=[]),g===void 0&&(g=null),S===void 0&&(S=null),x==null){var E;if(!g)return null;if(g.errors)x=g.matches;else if((E=S)!=null&&E.v7_partialHydration&&m.length===0&&!g.initialized&&g.matches.length>0)x=g.matches;else return null}let D=x,V=(v=g)==null?void 0:v.errors;if(V!=null){let z=D.findIndex(F=>F.route.id&&(V==null?void 0:V[F.route.id])!==void 0);z>=0||pn(!1),D=D.slice(0,Math.min(D.length,z+1))}let P=!1,T=-1;if(g&&S&&S.v7_partialHydration)for(let z=0;z<D.length;z++){let F=D[z];if((F.route.HydrateFallback||F.route.hydrateFallbackElement)&&(T=z),F.route.id){let{loaderData:we,errors:Ae}=g,ze=F.route.loader&&we[F.route.id]===void 0&&(!Ae||Ae[F.route.id]===void 0);if(F.route.lazy||ze){P=!0,T>=0?D=D.slice(0,T+1):D=[D[0]];break}}}return D.reduceRight((z,F,we)=>{let Ae,ze=!1,pe=null,me=null;g&&(Ae=V&&F.route.id?V[F.route.id]:void 0,pe=F.route.errorElement||Bf,P&&(T<0&&we===0?(Gf("route-fallback"),ze=!0,me=null):T===we&&(ze=!0,me=F.route.hydrateFallbackElement||null)));let st=m.concat(D.slice(0,we+1)),Te=()=>{let Ce;return Ae?Ce=pe:ze?Ce=me:F.route.Component?Ce=ee.createElement(F.route.Component,null):F.route.element?Ce=F.route.element:Ce=z,ee.createElement(Ff,{match:F,routeContext:{outlet:z,matches:st,isDataRoute:g!=null},children:Ce})};return g&&(F.route.ErrorBoundary||F.route.errorElement||we===0)?ee.createElement(Lf,{location:g.location,revalidation:g.revalidation,component:pe,error:Ae,children:Te(),routeContext:{outlet:null,matches:st,isDataRoute:!0}}):Te()},null)}var q1=function(x){return x.UseBlocker="useBlocker",x.UseRevalidator="useRevalidator",x.UseNavigateStable="useNavigate",x}(q1||{}),K1=function(x){return x.UseBlocker="useBlocker",x.UseLoaderData="useLoaderData",x.UseActionData="useActionData",x.UseRouteError="useRouteError",x.UseNavigation="useNavigation",x.UseRouteLoaderData="useRouteLoaderData",x.UseMatches="useMatches",x.UseRevalidator="useRevalidator",x.UseNavigateStable="useNavigate",x.UseRouteId="useRouteId",x}(K1||{});function Uf(x){let m=ee.useContext(gu);return m||pn(!1),m}function Vf(x){let m=ee.useContext(bf);return m||pn(!1),m}function Hf(x){let m=ee.useContext(ri);return m||pn(!1),m}function $1(x){let m=Hf(),g=m.matches[m.matches.length-1];return g.route.id||pn(!1),g.route.id}function zf(){var x;let m=ee.useContext(Y1),g=Vf(),S=$1();return m!==void 0?m:(x=g.errors)==null?void 0:x[S]}function Wf(){let{router:x}=Uf(q1.UseNavigateStable),m=$1(K1.UseNavigateStable),g=ee.useRef(!1);return Z1(()=>{g.current=!0}),ee.useCallback(function(v,E){E===void 0&&(E={}),g.current&&(typeof v=="number"?x.navigate(v):x.navigate(v,yo({fromRouteId:m},E)))},[x,m])}const A1={};function Gf(x,m,g){A1[x]||(A1[x]=!0)}function Xf(x){let{to:m,replace:g,state:S,relative:v}=x;Eo()||pn(!1);let{future:E,static:D}=ee.useContext(Co),{matches:V}=ee.useContext(ri),{pathname:P}=si(),T=Ao(),z=G1(m,W1(V,E.v7_relativeSplatPath),P,v==="path"),F=JSON.stringify(z);return ee.useEffect(()=>T(JSON.parse(F),{replace:g,state:S,relative:v}),[T,F,v,g,S]),null}function Oi(x){pn(!1)}function Yf(x){let{basename:m="/",children:g=null,location:S,navigationType:v=bs.Pop,navigator:E,static:D=!1,future:V}=x;Eo()&&pn(!1);let P=m.replace(/^\/*/,"/"),T=ee.useMemo(()=>({basename:P,navigator:E,static:D,future:yo({v7_relativeSplatPath:!1},V)}),[P,V,E,D]);typeof S=="string"&&(S=Di(S));let{pathname:z="/",search:F="",hash:we="",state:Ae=null,key:ze="default"}=S,pe=ee.useMemo(()=>{let me=z1(z,P);return me==null?null:{location:{pathname:me,search:F,hash:we,state:Ae,key:ze},navigationType:v}},[P,z,F,we,Ae,ze,v]);return pe==null?null:ee.createElement(Co.Provider,{value:T},ee.createElement(Ma.Provider,{children:g,value:pe}))}function Zf(x){let{children:m,location:g}=x;return kf(uu(m),g)}new Promise(()=>{});function uu(x,m){m===void 0&&(m=[]);let g=[];return ee.Children.forEach(x,(S,v)=>{if(!ee.isValidElement(S))return;let E=[...m,v];if(S.type===ee.Fragment){g.push.apply(g,uu(S.props.children,E));return}S.type!==Oi&&pn(!1),!S.props.index||!S.props.children||pn(!1);let D={id:S.props.id||E.join("-"),caseSensitive:S.props.caseSensitive,element:S.props.element,Component:S.props.Component,index:S.props.index,path:S.props.path,loader:S.props.loader,action:S.props.action,errorElement:S.props.errorElement,ErrorBoundary:S.props.ErrorBoundary,hasErrorBoundary:S.props.ErrorBoundary!=null||S.props.errorElement!=null,shouldRevalidate:S.props.shouldRevalidate,handle:S.props.handle,lazy:S.props.lazy};S.props.children&&(D.children=uu(S.props.children,E)),g.push(D)}),g}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const qf="6";try{window.__reactRouterVersion=qf}catch{}const Kf="startTransition",v1=$0[Kf];function $f(x){let{basename:m,children:g,future:S,window:v}=x,E=ee.useRef();E.current==null&&(E.current=sf({window:v,v5Compat:!0}));let D=E.current,[V,P]=ee.useState({action:D.action,location:D.location}),{v7_startTransition:T}=S||{},z=ee.useCallback(F=>{T&&v1?v1(()=>P(F)):P(F)},[P,T]);return ee.useLayoutEffect(()=>D.listen(z),[D,z]),ee.createElement(Yf,{basename:m,children:g,location:V.location,navigationType:V.action,navigator:D,future:S})}var S1;(function(x){x.UseScrollRestoration="useScrollRestoration",x.UseSubmit="useSubmit",x.UseSubmitFetcher="useSubmitFetcher",x.UseFetcher="useFetcher",x.useViewTransitionState="useViewTransitionState"})(S1||(S1={}));var N1;(function(x){x.UseFetcher="useFetcher",x.UseFetchers="useFetchers",x.UseScrollRestoration="useScrollRestoration"})(N1||(N1={}));const Pa="/assets/logo-WHq2fKRD.png",Qf="https://ams-2wm7.onrender.com",Jf=()=>{const[x,m]=ee.useState(""),[g,S]=ee.useState(""),v=Ao(),E=si();ee.useEffect(()=>{const{state:V}=E;V!=null&&V.userType&&(V.userType==="admin"?v("/dashboard",{state:V}):V.userType==="hod"?v("/hod-dashboard",{state:V}):v("/user-dashboard",{state:V}))},[E,v]);const D=async V=>{if(V.preventDefault(),x==="admin"&&g==="admin123"){v("/dashboard",{state:{userType:"admin",departmentid:null,token:"hardcoded-admin-token",username:"admin"}});return}try{const P=await fetch(`${Qf}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:x,password:g})});if(!P.ok){const z=await P.text();throw new Error(`HTTP error! Status: ${P.status}, Response: ${z}`)}const T=await P.json();if(P.ok){sessionStorage.setItem("username",T.username),alert(`Logged in as ${T.userType}`);const z=T.userType==="admin"?"/dashboard":T.userType==="hod"?"/hod-dashboard":"/user-dashboard";v(z,{state:{userType:T.userType,departmentid:T.departmentid,token:T.token,username:T.username||x}})}}catch(P){console.error("Fetch error:",P.message),alert(`Login failed: ${P.message}`)}};return y.jsx("div",{className:"login-container",children:y.jsxs("div",{className:"login-box",children:[y.jsxs("div",{className:"login-header",children:[y.jsx("img",{src:Pa,alt:"Asset Manager Logo",className:"login-logo",onError:V=>console.log("Logo error:",V)}),y.jsx("h1",{children:"Asset Manager"})]}),y.jsxs("form",{onSubmit:D,children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"username",children:"Username"}),y.jsx("input",{type:"text",id:"username",value:x,onChange:V=>m(V.target.value),placeholder:"Enter username",required:!0})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"password",children:"Password"}),y.jsx("input",{type:"password",id:"password",value:g,onChange:V=>S(V.target.value),placeholder:"Enter password",required:!0})]}),y.jsx("button",{type:"submit",className:"action-button",children:"Login"})]})]})})},ed=()=>{const x=si(),m=Ao(),{userType:g,departmentid:S,token:v,username:E}=x.state||{userType:"unknown",departmentid:null,token:null,username:""},[D,V]=ee.useState([]),[P,T]=ee.useState({hods:[],users:[]}),[z,F]=ee.useState([]),[we,Ae]=ee.useState([]),[ze,pe]=ee.useState([]),[me,st]=ee.useState(!1),[Te,Ce]=ee.useState(!1),[Me,xt]=ee.useState(!1),[Ge,se]=ee.useState(!1),[Je,te]=ee.useState(!1),[Jt,yt]=ee.useState(!1),[Be,Xe]=ee.useState(!1),[Ze,$]=ee.useState(!1),[Fe,ye]=ee.useState("home"),[re,ve]=ee.useState({name:"",type:"",brand:"",model:"",dateOfBuying:"",status:"Available",departmentid:S||""}),[le,U]=ee.useState({email:"",username:"",password:"",role:"user",departmentid:S||"",departmentname:""}),[Q,Se]=ee.useState(null),[Ne,et]=ee.useState(null),[Y,$e]=ee.useState({}),[ke,Oe]=ee.useState(null),[St,Le]=ee.useState(!1),[sr,ot]=ee.useState(!1),[Gn,on]=ee.useState(null),[Ln,Vt]=ee.useState("all"),[Ct,ut]=ee.useState([]),ht=sessionStorage.getItem("username")||E||"Admin",ie="https://ams-2wm7.onrender.com",Rn=O=>{if(!O)return"";const J=O.toLowerCase();return J.endsWith("es")?J.slice(0,-2):J.endsWith("s")?J.slice(0,-1):J};ee.useEffect(()=>{if(!v){Oe("No authentication token. Please log in again."),m("/login");return}if(g!=="admin"){Oe("Unauthorized access. Only admins can view this dashboard."),m("/login");return}xn(),Xt(),dn(),an(),en()},[g,v,m]);const xn=async()=>{Le(!0);try{const O=await fetch(`${ie}/api/assets`,{headers:{"x-auth-token":v}});if(!O.ok){const Dt=await O.json();throw new Error(Dt.msg||`HTTP error! Status: ${O.status}`)}const J=await O.json();V(Array.isArray(J)?J:[]);const Ee=new Map;J.forEach(Dt=>{if(Dt.name){const Et=Rn(Dt.name);Ee.has(Et)||Ee.set(Et,Dt.name)}});const He=[...Ee.entries()].map(([Dt,Et])=>({normalizedName:Dt,displayName:Et})).sort((Dt,Et)=>Dt.normalizedName.localeCompare(Et.normalizedName));ut(He)}catch(O){Oe(O.message)}finally{Le(!1)}},Xt=async()=>{Le(!0);try{const O=await fetch(`${ie}/api/all-users`,{headers:{"x-auth-token":v}});if(!O.ok){const He=await O.json();throw new Error(He.msg||`HTTP error! Status: ${O.status}`)}const J=await O.json(),Ee=await Promise.all([...J.hods,...J.users].map(async He=>{const Dt=await fetch(`${ie}/api/assets?userId=${He._id}`,{headers:{"x-auth-token":v}});if(!Dt.ok)return console.error(`Failed to fetch assets for user ${He._id}`),{...He,assignedAssets:[]};const Et=await Dt.json();return{...He,assignedAssets:Et.map(vn=>({assetId:vn._id,assetCode:vn.assetCode,assetName:vn.name,assetModel:vn.model}))}}));T({hods:Ee.filter(He=>He.role==="hod"),users:Ee.filter(He=>He.role==="user")})}catch(O){Oe(O.message)}finally{Le(!1)}},dn=async()=>{Le(!0);try{const O=await fetch(`${ie}/api/asset-requests?status=HOD%20Approved`,{headers:{"x-auth-token":v}});if(!O.ok){const Ee=await O.json();throw new Error(Ee.msg||`HTTP error! Status: ${O.status}`)}const J=await O.json();F(Array.isArray(J)?J:[])}catch(O){Oe(O.message)}finally{Le(!1)}},an=async()=>{Le(!0);try{const O=await fetch(`${ie}/api/issue-reports`,{headers:{"x-auth-token":v}});if(!O.ok){const Ee=await O.json();throw new Error(Ee.msg||`HTTP error! Status: ${O.status}`)}const J=await O.json();Ae(Array.isArray(J)?J:[])}catch(O){Oe(O.message)}finally{Le(!1)}},en=async()=>{Le(!0);try{const O=await fetch(`${ie}/api/notifications`,{headers:{"x-auth-token":v}});if(!O.ok){const Ee=await O.json();throw new Error(Ee.msg||`HTTP error! Status: ${O.status}`)}const J=await O.json();pe(Array.isArray(J)?J:[])}catch(O){Oe(O.message)}finally{Le(!1)}},On=async O=>{if(O.preventDefault(),!re.departmentid){Oe("Department ID is required");return}Le(!0);try{const J=await fetch(`${ie}/api/assets`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify(re)});if(!J.ok){const He=await J.json();throw new Error(He.msg||`HTTP error! Status: ${J.status}`)}const Ee=await J.json();alert(`Asset added successfully! QR Code: ${Ee.asset.qrCode}`),ve({name:"",type:"",brand:"",model:"",dateOfBuying:"",status:"Available",departmentid:S||""}),Ce(!1),xn(),en()}catch(J){Oe(J.message)}finally{Le(!1)}},tn=async O=>{if(O.preventDefault(),!le.departmentid||!le.departmentname){Oe("Department ID and name are required");return}Le(!0);try{const J=await fetch(`${ie}/api/add-user`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify(le)});if(!J.ok){const Ee=await J.json();throw new Error(Ee.msg||`HTTP error! Status: ${J.status}`)}alert(`User added successfully! Credentials: Username: ${le.username}, Password: ${le.password}`),U({email:"",username:"",password:"",role:"user",departmentid:S||"",departmentname:""}),xt(!1),Xt(),en()}catch(J){Oe(J.message)}finally{Le(!1)}},pr=async O=>{if(O.preventDefault(),!Q||!Ne){Oe("Please select a user and an asset");return}if(!Ne._id){Oe("Invalid asset selected");return}Le(!0);try{const J={userId:Q._id,assetCode:Ne.assetCode,assetName:Ne.name,assetModel:Ne.model,assetId:Ne._id,action:"add"},Ee=await fetch(`${ie}/api/assign-asset`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify(J)});if(!Ee.ok){const He=await Ee.json();throw new Error(He.msg||`HTTP error! Status: ${Ee.status}`)}await Promise.all([fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:Q.username,message:`Asset ${Ne.name} (${Ne.assetCode}) has been assigned to you.`,departmentid:Q.departmentid})}),fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:Q.username,message:`Asset ${Ne.name} (${Ne.assetCode}) has been assigned to ${Q.username} by Admin.`,departmentid:Q.departmentid})})]),alert("Asset assigned successfully!"),se(!1),Se(null),et(null),xn(),Xt(),en()}catch(J){Oe(J.message)}finally{Le(!1)}},Xn=async(O,J)=>{if(!O.assignedAssets||!O.assignedAssets.find(Ee=>Ee.assetId.toString()===J)){Oe("No such asset assigned to remove");return}Le(!0);try{const Ee=D.find(Et=>Et._id===J);if(!Ee)throw new Error("Asset not found");const He={userId:O._id,assetId:J,action:"remove"},Dt=await fetch(`${ie}/api/assign-asset`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify(He)});if(!Dt.ok){const Et=await Dt.json();throw new Error(Et.msg||`HTTP error! Status: ${Dt.status}`)}await fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:O.username,message:`Asset ${Ee.name} (${Ee.assetCode}) has been unassigned from you.`,departmentid:O.departmentid})}),alert("Asset assignment removed successfully!"),xn(),Xt(),en()}catch(Ee){Oe(Ee.message)}finally{Le(!1)}},Ds=async O=>{if(window.confirm(`Are you sure you want to delete user ${O.username}?`)){Le(!0);try{O.assignedAssets&&O.assignedAssets.length>0&&await Promise.all(O.assignedAssets.map(Ee=>Xn(O,Ee.assetId)));const J=await fetch(`${ie}/api/users/${O._id}`,{method:"DELETE",headers:{"x-auth-token":v}});if(!J.ok){const Ee=await J.json();throw new Error(Ee.msg||`HTTP error! Status: ${J.status}`)}alert("User deleted successfully!"),Xt(),en()}catch(J){Oe(J.message)}finally{Le(!1)}}},Mt=async O=>{if(window.confirm(`Are you sure you want to delete asset ${O.name} (${O.assetCode})?`)){Le(!0);try{if(O.status==="Assigned"){Oe("Cannot delete an assigned asset. Please unassign it first.");return}const J=await fetch(`${ie}/api/assets/${O._id}`,{method:"DELETE",headers:{"x-auth-token":v}});if(!J.ok){const Ee=await J.json();throw new Error(Ee.msg||`HTTP error! Status: ${J.status}`)}await fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:"hod",message:`Asset ${O.name} (${O.assetCode}) has been deleted by Admin.`,departmentid:O.departmentid})}),alert("Asset deleted successfully!"),xn(),en()}catch(J){Oe(J.message)}finally{Le(!1)}}},he=async O=>{Le(!0);try{const J=[...P.hods,...P.users].find(vn=>vn.username===O.username);if(!J)throw new Error("User not found");const Ee=D.find(vn=>vn.assetCode===O.assetCode);if(!Ee)throw new Error("Asset not found");const He={userId:J._id,username:J.username,assetCode:Ee.assetCode,assetName:Ee.name,assetModel:Ee.model,assetId:Ee._id,action:"add"},Dt=await fetch(`${ie}/api/assign-user-asset`,{method:"PATCH",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify(He)});if(!Dt.ok){const vn=await Dt.json();throw new Error(vn.msg||`HTTP error! Status: ${Dt.status}`)}const Et=await fetch(`${ie}/api/asset-requests/${O._id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({status:"Admin Approved"})});if(!Et.ok){const vn=await Et.json();throw new Error(vn.msg||`HTTP error! Status: ${Et.status}`)}await Promise.all([fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:O.username,message:`Your request for asset ${O.assetCode} has been approved and assigned to you.`,departmentid:O.departmentid})}),fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:"hod",message:`Request for asset ${O.assetCode} by ${O.username} has been approved and assigned.`,departmentid:O.departmentid})})]),alert("Request approved and asset assigned!"),dn(),xn(),Xt(),en()}catch(J){Oe(J.message)}finally{Le(!1)}},Ht=async O=>{const J=Y[O._id]||"";if(!J){Oe("Please provide rejection comments");return}Le(!0);try{const Ee=await fetch(`${ie}/api/asset-requests/${O._id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({status:"Admin Rejected",rejectionComments:J})});if(!Ee.ok){const He=await Ee.json();throw new Error(He.msg||`HTTP error! Status: ${Ee.status}`)}await Promise.all([fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:O.username,message:`Your request for asset ${O.assetCode} was rejected. Reason: ${J}`,departmentid:O.departmentid})}),fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:"hod",message:`Request for asset ${O.assetCode} by ${O.username} was rejected. Reason: ${J}`,departmentid:O.departmentid})})]),alert("Request rejected!"),$e(He=>({...He,[O._id]:""})),dn(),en()}catch(Ee){Oe(Ee.message)}finally{Le(!1)}},mt=async O=>{Le(!0);try{const J=await fetch(`${ie}/api/maintain-asset`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({assetId:O._id})});if(!J.ok){let Ee=`HTTP error! Status: ${J.status}`;try{const He=await J.json();Ee=He.error||He.msg||Ee}catch(He){console.error("Error parsing JSON response:",He)}throw new Error(Ee)}await Promise.all([fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:O.assignedTo.username,message:`Your Asset ${O.assetCode} has been repaierd.`,departmentid:O.departmentid})}),fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:"hod",message:`Your Asset ${O.assetCode} has been repaierd.`,departmentid:O.departmentid})})]),alert("Asset removed from under maintenance")}catch(J){console.error("Approve issue report error:",J),Oe(`Failed to approve issue report: ${J.message}`)}finally{Le(!1)}},_t=async O=>{Le(!0);try{const J=await fetch(`${ie}/api/issue-reports/${O._id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({status:"Under Maintenance"})});if(!J.ok){const Ee=await J.json();throw new Error(Ee.error||Ee.msg||`HTTP error! Status: ${J.status}`)}await Promise.all([fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:O.username,message:`Your issue report for asset ${O.assetCode} has been approved. It will be resolved soon.`,departmentid:O.departmentid})}),fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:"hod",message:`Issue report for asset ${O.assetCode} by ${O.username} has been approved.`,departmentid:O.departmentid})})]),alert("Issue report approved successfully!"),an(),en()}catch(J){console.error("Approve issue report error:",J),Oe(`Failed to approve issue report: ${J.message}`)}finally{Le(!1)}},Kn=async O=>{const J=Y[O._id]||"";if(!J){Oe("Please provide rejection comments");return}Le(!0);try{const Ee=await fetch(`${ie}/api/issue-reports/${O._id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({status:"Rejected",rejectionComments:J})});if(!Ee.ok){const He=await Ee.json();throw new Error(He.error||He.msg||`HTTP error! Status: ${Ee.status}`)}await Promise.all([fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:O.username,message:`Your issue report for asset ${O.assetCode} was rejected. Reason: ${J}`,departmentid:O.departmentid})}),fetch(`${ie}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:"hod",message:`Issue report for asset ${O.assetCode} by ${O.username} was rejected. Reason: ${J}`,departmentid:O.departmentid})})]),alert("Issue report rejected successfully!"),$e(He=>({...He,[O._id]:""})),an(),en()}catch(Ee){console.error("Reject issue report error:",Ee),Oe(`Failed to reject issue report: ${Ee.message}`)}finally{Le(!1)}},xr=async O=>{if(O.preventDefault(),!Gn){Oe("Please select a CSV file");return}if(!Gn.name.endsWith(".csv")){Oe("Please select a valid CSV file");return}Le(!0);try{const J=new FormData;J.append("file",Gn);const Ee=await fetch(`${ie}/api/bulk-upload`,{method:"POST",headers:{"x-auth-token":v},body:J}),He=await Ee.json();if(!Ee.ok){if(Ee.status===401)throw new Error("Unauthorized: Please log in as an admin");if(Ee.status===403)throw new Error("Forbidden: Admin access required");if(Ee.status===400){const Dt=He.errors?`Invalid CSV: ${He.errors.map(Et=>`Row ${Et.row}: ${Et.msg}`).join("; ")}`:He.msg||"Bad request";throw new Error(Dt)}else throw new Error(He.msg||`HTTP error! Status: ${Ee.status}`)}alert(`Successfully processed ${He.savedAssets.length} assets!`),on(null),ot(!1),xn(),en()}catch(J){Oe(J.message)}finally{Le(!1)}},Lr=()=>{m("/")},M=O=>{switch(ye(O),st(!1),te(!1),yt(!1),Xe(!1),$(!1),O){case"assets":st(!0),xn();break;case"users":Xt();break;case"requests":te(!0),dn();break;case"reports":yt(!0),an();break;case"notifications":Xe(!0),en();break;case"maintenance":$(!0),xn();break}},ce=O=>{Se(O),se(!0)},Re=O=>{Vt(O.target.value)},It=Ln==="all"?D:D.filter(O=>Rn(O.name)===Ln),ct=D.filter(O=>O.status==="Under Maintenance"),Fr=()=>{Oe(null)};return y.jsxs("div",{className:"dashboard-container",children:[y.jsxs("header",{className:"dashboard-header",children:[y.jsx("div",{className:"logo-container",children:y.jsx("img",{src:Pa,alt:"Asset Manager Logo",className:"dashboard-logo"})}),y.jsxs("div",{className:"header-center",children:[y.jsx("h1",{children:"Asset Manager"}),y.jsx("p",{className:"tagline",children:"Admin Dashboard"})]}),y.jsxs("div",{className:"header-right",children:[y.jsx("input",{type:"text",placeholder:"Search...",className:"search-bar"}),y.jsxs("div",{className:"user-profile",onClick:Lr,children:["👤 ",E]})]})]}),y.jsxs("div",{className:"dashboard-content",children:[ke&&y.jsxs("div",{className:"error-message",children:[ke,y.jsx("button",{onClick:Fr,className:"dismiss-error",children:"✖"})]}),St&&y.jsx("div",{className:"loading",children:"Loading..."}),y.jsxs("aside",{className:"sidebar",children:[y.jsxs("button",{className:`home-button ${Fe==="home"?"active":""}`,onClick:()=>M("home"),children:[y.jsx("span",{className:"home-icon",children:"🏠"})," Home"]}),y.jsxs("nav",{children:[y.jsxs("button",{className:`sidebar-button ${Fe==="assets"?"active":""}`,onClick:()=>M("assets"),children:[y.jsx("span",{className:"icon",children:"📋"})," Asset Details"]}),y.jsxs("button",{className:`sidebar-button ${Fe==="users"?"active":""}`,onClick:()=>M("users"),children:[y.jsx("span",{className:"icon",children:"👥"})," Users"]}),y.jsxs("button",{className:`sidebar-button ${Fe==="requests"?"active":""}`,onClick:()=>M("requests"),children:[y.jsx("span",{className:"icon",children:"📥"})," User Requests"]}),y.jsxs("button",{className:`sidebar-button ${Fe==="reports"?"active":""}`,onClick:()=>M("reports"),children:[y.jsx("span",{className:"icon",children:"⚠️"})," Issue Reports"]}),y.jsxs("button",{className:`sidebar-button ${Fe==="maintenance"?"active":""}`,onClick:()=>M("maintenance"),children:[y.jsx("span",{className:"icon",children:"🔧"})," Maintenance"]}),y.jsxs("button",{className:`sidebar-button ${Fe==="notifications"?"active":""}`,onClick:()=>M("notifications"),children:[y.jsx("span",{className:"icon",children:"🔔"})," Notifications"]}),y.jsxs("button",{className:"sidebar-button",onClick:()=>Ce(!0),children:[y.jsx("span",{className:"icon",children:"➕"})," Add Asset"]}),y.jsxs("button",{className:"sidebar-button",onClick:()=>xt(!0),children:[y.jsx("span",{className:"icon",children:"➕"})," Add User"]}),y.jsxs("button",{className:"sidebar-button",onClick:()=>ot(!0),children:[y.jsx("span",{className:"icon",children:"📤"})," Bulk Upload"]})]})]}),y.jsxs("main",{className:"main-content",children:[Fe==="home"&&y.jsxs("div",{className:"assets-section",children:[y.jsx("h2",{children:"Admin Dashboard"}),y.jsxs("p",{children:["Welcome, ",E,"! Manage assets, users, requests, and issue reports from the sidebar."]})]}),me&&Fe==="assets"&&y.jsxs("div",{className:"assets-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>st(!1),children:"⬅"}),y.jsx("h2",{children:"Assets Details"})]}),St?y.jsx("p",{children:"Loading assets..."}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"sort-section",children:[y.jsx("label",{htmlFor:"sort",children:"Sort by Asset Name: "}),y.jsxs("select",{id:"sort",value:Ln,onChange:Re,children:[y.jsx("option",{value:"all",children:"All Assets"}),Ct.map(({normalizedName:O,displayName:J})=>y.jsx("option",{value:O,children:J.charAt(0).toUpperCase()+J.slice(1)},O))]})]}),It.length>0?y.jsx("div",{className:"assets-grid",children:It.map(O=>y.jsxs("div",{className:"asset-card",children:[y.jsxs("div",{className:"asset-visible",children:[O.qrCode&&y.jsx("img",{src:`${ie}${O.qrCode}`,alt:"QR Code"}),y.jsxs("div",{className:"asset-code",children:["Asset Code: ",O.assetCode]})]}),y.jsxs("div",{className:"asset-details",children:[y.jsx("h3",{children:O.name}),y.jsxs("p",{children:["Model: ",O.model]}),y.jsxs("p",{children:["Status: ",O.status]}),O.assignedTo&&y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["Assigned To: ",O.assignedTo.username]}),y.jsxs("p",{children:["User ID: ",O.assignedTo.userId]})]})]}),y.jsx("button",{className:"delete-button",onClick:()=>Mt(O),children:"Delete"})]},O._id))}):y.jsx("p",{children:"No assets found."})]})]}),Fe==="users"&&!me&&y.jsxs("div",{className:"assets-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>ye("home"),children:"⬅"}),y.jsx("h2",{children:"Users"})]}),St?y.jsx("p",{children:"Loading users..."}):P.hods.length>0||P.users.length>0?y.jsx("div",{className:"assets-grid",children:[...P.hods,...P.users].map(O=>y.jsxs("div",{className:"user-card-container",children:[y.jsxs("div",{id:`details-card-${O._id}`,className:"details-card",onClick:()=>{const J=document.getElementById(`assets-details-${O._id}`);J&&J.classList.toggle("show")},children:[y.jsx("h3",{children:O.username}),y.jsxs("p",{children:["Email: ",O.email]}),y.jsxs("p",{children:["Role: ",O.role]}),y.jsxs("p",{children:["Department: ",O.departmentname||"N/A"]})]}),y.jsxs("div",{id:`assets-details-${O._id}`,className:"assignment-cards hidden",children:[y.jsx("p",{children:"Assigned Assets: "}),D&&D.filter(J=>J.assignedTo&&J.assignedTo.userId===O._id).length>0?D.filter(J=>J.assignedTo&&J.assignedTo.userId===O._id).map(J=>y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("p",{style:{margin:0},children:J.name}),y.jsx("p",{style:{margin:0},children:J.assetCode}),y.jsx("button",{className:"remove-button",onClick:()=>Xn(O,J._id),children:"Remove"})]},J._id)):"None",y.jsx("button",{className:"assign-button",onClick:()=>ce(O),children:"Assign Asset"}),y.jsx("button",{className:"delete-button",onClick:()=>Ds(O),children:"Delete User"})]})]},O._id))}):y.jsx("p",{children:"No users found."})]}),Fe==="requests"&&Je&&y.jsxs("div",{className:"request-container",children:[y.jsxs("div",{className:"header-section",children:[y.jsx("span",{className:"return-arrow",onClick:()=>te(!1),children:"←"}),y.jsx("h2",{className:"section-title",children:"User Requests"})]}),St?y.jsx("p",{className:"loading-text",children:"Loading requests..."}):z.length>0?y.jsx("div",{className:"requests-grid",children:z.map(O=>y.jsxs("div",{className:"request-card",children:[y.jsxs("h3",{className:"request-user",children:["User: ",O.username]}),y.jsxs("p",{className:"request-asset",children:["Asset: ",O.assetCode]}),y.jsxs("p",{className:"request-status",children:["Status: ",O.status||"HOD Approved"]}),y.jsxs("p",{className:"request-time",children:["Time: ",new Date(O.timestamp).toLocaleString()]}),O.status==="HOD Approved"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"btn-approve",onClick:()=>he(O),children:"Approve"}),y.jsx("button",{className:"btn-reject",onClick:()=>Ht(O),children:"Reject"}),y.jsxs("div",{className:"comment-box",children:[y.jsx("label",{htmlFor:`comment-${O._id}`,className:"comment-label",children:"Rejection Reason"}),y.jsx("textarea",{id:`comment-${O._id}`,className:"comment-input",value:Y[O._id]||"",onChange:J=>$e(Ee=>({...Ee,[O._id]:J.target.value})),placeholder:"Enter reason for rejection"})]})]}),O.status==="Admin Rejected"&&y.jsxs("p",{className:"rejection-note",children:[y.jsx("strong",{children:"Rejection Reason:"})," ",O.rejectionComments]})]},O._id))}):y.jsx("p",{className:"no-requests",children:"No requests found."})]}),Fe==="reports"&&Jt&&y.jsxs("div",{className:"request-container",children:[y.jsxs("div",{className:"header-section",children:[y.jsx("span",{className:"return-arrow",onClick:()=>yt(!1),children:"←"}),y.jsx("h2",{className:"section-title",children:"Issue Reports"})]}),St?y.jsx("p",{className:"loading-text",children:"Loading issue reports..."}):we.length>0?y.jsx("div",{className:"requests-grid",children:we.map(O=>y.jsxs("div",{className:"request-card",children:[y.jsxs("h3",{className:"request-user",children:["User: ",O.username||"Unknown"]}),y.jsxs("p",{className:"request-asset",children:["Asset Code: ",O.assetCode||"N/A"]}),y.jsxs("p",{className:"request-issue",children:["Issue: ",O.message||"No description"]}),y.jsxs("p",{className:"request-status",children:["Status: ",O.status||"HOD Approved"]}),y.jsxs("p",{className:"request-time",children:["Time: ",new Date(O.timestamp).toLocaleString()]}),O.status==="HOD Approved"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"btn-approve",onClick:()=>_t(O),children:"Approve"}),y.jsx("button",{className:"btn-reject",onClick:()=>Kn(O),children:"Reject"}),y.jsxs("div",{className:"comment-box",children:[y.jsx("label",{htmlFor:`comment-${O._id}`,className:"comment-label",children:"Rejection Reason"}),y.jsx("textarea",{id:`comment-${O._id}`,className:"comment-input",value:Y[O._id]||"",onChange:J=>$e(Ee=>({...Ee,[O._id]:J.target.value})),placeholder:"Enter reason for rejection"})]})]}),O.status==="Rejected"&&y.jsxs("p",{className:"rejection-note",children:[y.jsx("strong",{children:"Rejection Reason:"})," ",O.rejectionComments||"None"]})]},O._id))}):y.jsx("p",{className:"no-requests",children:"No issue reports found."})]}),Fe==="maintenance"&&Ze&&y.jsxs("div",{className:"request-container",children:[y.jsxs("div",{className:"header-section",children:[y.jsx("span",{className:"return-arrow",onClick:()=>$(!1),children:"←"}),y.jsx("h2",{className:"section-title",children:"Maintenance"})]}),St?y.jsx("p",{className:"loading-text",children:"Loading maintenance assets..."}):ct.length>0?y.jsx("div",{className:"requests-grid",children:ct.map(O=>y.jsxs("div",{className:"request-card",children:[y.jsxs("div",{className:"request-card-visible",children:[O.qrCode&&y.jsx("img",{src:`${ie}${O.qrCode}`,alt:"QR Code",className:"request-qr-code"}),y.jsxs("p",{className:"request-asset",children:["Asset Code: ",O.assetCode]})]}),y.jsxs("div",{className:"request-card-hover",children:[y.jsx("h3",{className:"request-asset-name",children:O.name}),y.jsxs("p",{className:"request-model",children:["Model: ",O.model]}),y.jsxs("p",{className:"request-status",children:["Status: ",O.status]}),y.jsx("div",{children:y.jsx("button",{className:"btn-approve",onClick:()=>mt(O),children:"Approve"})})]})]},O._id))}):y.jsx("p",{className:"no-requests",children:"No assets under maintenance."})]}),Fe==="notifications"&&Be&&y.jsxs("div",{className:"assets-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>Xe(!1),children:"⬅"}),y.jsx("h2",{children:"Notifications"})]}),St?y.jsx("p",{children:"Loading notifications..."}):ze.filter(O=>O.username===ht).length>0?y.jsx("div",{className:"assets-grid",children:ze.filter(O=>O.username===ht).map((O,J)=>y.jsxs("div",{className:"asset-card",children:[y.jsx("p",{children:O.message}),y.jsxs("p",{children:["Timestamp: ",new Date(O.timestamp).toLocaleString()]})]},J))}):y.jsx("p",{children:"No notifications found."})]}),Te&&y.jsx("div",{className:"popup-overlay",children:y.jsxs("div",{className:"popup-content",children:[y.jsxs("div",{className:"popup-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>Ce(!1),children:"⬅"}),y.jsx("h2",{children:"Add Asset"})]}),y.jsxs("form",{className:"asset-adds",onSubmit:On,children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"assetName",children:"Asset Name"}),y.jsx("input",{type:"text",id:"asset-name",value:re.name,onChange:O=>ve({...re,name:O.target.value}),required:!0})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"assetType",children:"Type"}),y.jsx("input",{type:"text",id:"asset-type",value:re.type,onChange:O=>ve({...re,type:O.target.value}),required:!0})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"assetBrand",children:"Brand"}),y.jsx("input",{type:"text",id:"asset-brand",value:re.brand,onChange:O=>ve({...re,brand:O.target.value}),required:!0})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"assetModel",children:"Model"}),y.jsx("input",{type:"text",id:"asset-model",value:re.model,onChange:O=>ve({...re,model:O.target.value}),required:!0})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"dateOfBuying",children:"Date of Buying"}),y.jsx("input",{type:"date",id:"date-of-buying",value:re.dateOfBuying,onChange:O=>ve({...re,dateOfBuying:O.target.value}),required:!0})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"assetStatus",children:"Status"}),y.jsxs("select",{id:"asset-status",value:re.status,onChange:O=>ve({...re,status:O.target.value}),required:!0,children:[y.jsx("option",{value:"Available",children:"Available"}),y.jsx("option",{value:"Under Maintenance",children:"Under Maintenance"})]})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"departmentid",children:"Department ID"}),y.jsx("input",{type:"text",id:"department-id",value:re.departmentid,onChange:O=>ve({...re,departmentid:O.target.value}),required:!0})]}),y.jsx("button",{type:"submit",className:"submit-button",children:"Add Asset"})]})]})}),Me&&y.jsx("div",{className:"popup-overlay",children:y.jsxs("div",{className:"popup-content",children:[y.jsxs("div",{className:"popup-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>xt(!1),children:"⬅"}),y.jsx("h2",{children:"Add User"})]}),y.jsxs("form",{className:"asset-adds",onSubmit:tn,children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"userEmail",children:"Email"}),y.jsx("input",{type:"email",id:"user-email",value:le.email,onChange:O=>U({...le,email:O.target.value}),required:!0})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"username",children:"Username"}),y.jsx("input",{type:"text",id:"user-username",value:le.username,onChange:O=>U({...le,username:O.target.value}),required:!0})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"password",children:"Password"}),y.jsx("input",{type:"password",id:"user-password",value:le.password,onChange:O=>U({...le,password:O.target.value}),required:!0})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"userRole",children:"Role"}),y.jsxs("select",{id:"user-role",value:le.role,onChange:O=>U({...le,role:O.target.value}),required:!0,children:[y.jsx("option",{value:"user",children:"User"}),y.jsx("option",{value:"hod",children:"HOD"})]})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"userDepartmentid",children:"Department ID"}),y.jsx("input",{type:"text",id:"user-department-id",value:le.departmentid,onChange:O=>U({...le,departmentid:O.target.value}),required:!0})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"departmentname",children:"Department"}),y.jsx("input",{type:"text",id:"department-name",value:le.departmentname,onChange:O=>U({...le,departmentname:O.target.value}),required:!0})]}),y.jsx("button",{type:"submit",className:"submit-button",children:"Add User"})]})]})}),Ge&&Q&&y.jsx("div",{className:"popup-overlay",children:y.jsxs("div",{className:"popup-content",children:[y.jsxs("div",{className:"popup-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>se(!1),children:"⬅"}),y.jsxs("h2",{children:["Assign Asset to ",Q.username]})]}),y.jsxs("form",{onSubmit:pr,children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"asset-select",children:"Select Asset"}),y.jsxs("select",{id:"asset-select",value:Ne?Ne.assetCode:"",onChange:O=>{const J=D.find(Ee=>Ee.assetCode===O.target.value);et(J)},required:!0,children:[y.jsx("option",{value:"",children:"Select an asset..."}),D.filter(O=>O.status==="Available").map(O=>y.jsxs("option",{value:O.assetCode,children:[O.name," (",O.assetCode,")"]},O._id))]})]}),y.jsx("button",{type:"submit",className:"submit-button",children:"Assign"})]})]})}),sr&&y.jsx("div",{className:"popup-overlay",children:y.jsxs("div",{className:"popup-content",children:[y.jsxs("div",{className:"popup-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>ot(!1),children:"⬅"}),y.jsx("h2",{children:"Bulk Upload Assets"})]}),y.jsxs("form",{onSubmit:xr,children:[y.jsxs("div",{className:"input-group",children:[y.jsx("h3",{className:"bulk-details",children:"Details Format"}),y.jsx("p",{className:"bulk-format",children:"Name"}),y.jsx("p",{className:"bulk-format",children:"Type"}),y.jsx("p",{className:"bulk-format",children:"brand"}),y.jsx("p",{className:"bulk-format",children:"Model"}),y.jsx("p",{className:"bulk-format",children:"Date of Buying"}),y.jsx("p",{className:"bulk-format",children:"Status"}),y.jsx("label",{htmlFor:"bulkUploadFile",children:"Upload CSV File"}),y.jsx("input",{type:"file",id:"bulk-upload-file",accept:".csv",onChange:O=>on(O.target.files[0]),required:!0})]}),y.jsx("button",{type:"submit",className:"submit-button",children:"Upload"})]})]})})]})]})]})};var be;(function(x){x[x.QR_CODE=0]="QR_CODE",x[x.AZTEC=1]="AZTEC",x[x.CODABAR=2]="CODABAR",x[x.CODE_39=3]="CODE_39",x[x.CODE_93=4]="CODE_93",x[x.CODE_128=5]="CODE_128",x[x.DATA_MATRIX=6]="DATA_MATRIX",x[x.MAXICODE=7]="MAXICODE",x[x.ITF=8]="ITF",x[x.EAN_13=9]="EAN_13",x[x.EAN_8=10]="EAN_8",x[x.PDF_417=11]="PDF_417",x[x.RSS_14=12]="RSS_14",x[x.RSS_EXPANDED=13]="RSS_EXPANDED",x[x.UPC_A=14]="UPC_A",x[x.UPC_E=15]="UPC_E",x[x.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(be||(be={}));var I1=new Map([[be.QR_CODE,"QR_CODE"],[be.AZTEC,"AZTEC"],[be.CODABAR,"CODABAR"],[be.CODE_39,"CODE_39"],[be.CODE_93,"CODE_93"],[be.CODE_128,"CODE_128"],[be.DATA_MATRIX,"DATA_MATRIX"],[be.MAXICODE,"MAXICODE"],[be.ITF,"ITF"],[be.EAN_13,"EAN_13"],[be.EAN_8,"EAN_8"],[be.PDF_417,"PDF_417"],[be.RSS_14,"RSS_14"],[be.RSS_EXPANDED,"RSS_EXPANDED"],[be.UPC_A,"UPC_A"],[be.UPC_E,"UPC_E"],[be.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),T1;(function(x){x[x.UNKNOWN=0]="UNKNOWN",x[x.URL=1]="URL"})(T1||(T1={}));function td(x){return Object.values(be).includes(x)}var ba;(function(x){x[x.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",x[x.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ba||(ba={}));var nd=function(){function x(){}return x.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",x.SCAN_DEFAULT_FPS=2,x.DEFAULT_DISABLE_FLIP=!1,x.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,x.DEFAULT_SUPPORTED_SCAN_TYPE=[ba.SCAN_TYPE_CAMERA,ba.SCAN_TYPE_FILE],x}(),Q1=function(){function x(m,g){this.format=m,this.formatName=g}return x.prototype.toString=function(){return this.formatName},x.create=function(m){if(!I1.has(m))throw"".concat(m," not in html5QrcodeSupportedFormatsTextMap");return new x(m,I1.get(m))},x}(),_1=function(){function x(){}return x.createFromText=function(m){var g={text:m};return{decodedText:m,result:g}},x.createFromQrcodeResult=function(m){return{decodedText:m.text,result:m}},x}(),cu;(function(x){x[x.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",x[x.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",x[x.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(cu||(cu={}));var rd=function(){function x(){}return x.createFrom=function(m){return{errorMessage:m,type:cu.UNKWOWN_ERROR}},x}(),sd=function(){function x(m){this.verbose=m}return x.prototype.log=function(m){this.verbose&&console.log(m)},x.prototype.warn=function(m){this.verbose&&console.warn(m)},x.prototype.logError=function(m,g){(this.verbose||g===!0)&&console.error(m)},x.prototype.logErrors=function(m){if(m.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(m)},x}();function is(x){return typeof x>"u"||x===null}var bi=function(){function x(){}return x.codeParseError=function(m){return"QR code parse error, error = ".concat(m)},x.errorGettingUserMedia=function(m){return"Error getting userMedia, error = ".concat(m)},x.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},x.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},x.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},x.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},x.scannerPaused=function(){return"Scanner paused"},x}(),J1=function(){function x(){}return x.isMediaStreamConstraintsValid=function(m,g){if(typeof m!="object"){var S=typeof m;return g.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(S,"."),!0),!1}for(var v=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],E=new Set(v),D=Object.keys(m),V=0,P=D;V<P.length;V++){var T=P[V];if(E.has(T))return g.logError("".concat(T," is not supported videoConstaints."),!0),!1}return!0},x}(),mo={exports:{}},id=mo.exports,R1;function od(){return R1||(R1=1,function(x,m){(function(g,S){S(m)})(id,function(g){function S(C){return C==null}var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,e){C.__proto__=e}||function(C,e){for(var n in e)e.hasOwnProperty(n)&&(C[n]=e[n])};function E(C,e){v(C,e);function n(){this.constructor=C}C.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function D(C,e){var n=Object.setPrototypeOf;n?n(C,e):C.__proto__=e}function V(C,e){e===void 0&&(e=C.constructor);var n=Error.captureStackTrace;n&&n(C,e)}var P=function(C){E(e,C);function e(n){var r=this.constructor,i=C.call(this,n)||this;return Object.defineProperty(i,"name",{value:r.name,enumerable:!1}),D(i,r.prototype),V(i),i}return e}(Error);class T extends P{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}T.kind="Exception";class z extends T{}z.kind="ArgumentException";class F extends T{}F.kind="IllegalArgumentException";class we{constructor(e){if(this.binarizer=e,e===null)throw new F("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,r,i){const o=this.binarizer.getLuminanceSource().crop(e,n,r,i);return new we(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new we(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new we(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class Ae extends T{static getChecksumInstance(){return new Ae}}Ae.kind="ChecksumException";class ze{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class pe{static arraycopy(e,n,r,i,o){for(;o--;)r[i++]=e[n++]}static currentTimeMillis(){return Date.now()}}class me extends T{}me.kind="IndexOutOfBoundsException";class st extends me{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}st.kind="ArrayIndexOutOfBoundsException";class Te{static fill(e,n){for(let r=0,i=e.length;r<i;r++)e[r]=n}static fillWithin(e,n,r,i){Te.rangeCheck(e.length,n,r);for(let o=n;o<r;o++)e[o]=i}static rangeCheck(e,n,r){if(n>r)throw new F("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new st(n);if(r>e)throw new st(r)}static asList(...e){return e}static create(e,n,r){return Array.from({length:e}).map(o=>Array.from({length:n}).fill(r))}static createInt32Array(e,n,r){return Array.from({length:e}).map(o=>Int32Array.from({length:n}).fill(r))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let r=0,i=e.length;r<i;r++)if(e[r]!==n[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const r of e)n=31*n+r;return n}static fillUint8Array(e,n){for(let r=0;r!==e.length;r++)e[r]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)}static copyOfRange(e,n,r){const i=r-n,o=new Int32Array(i);return pe.arraycopy(e,n,o,0,i),o}static binarySearch(e,n,r){r===void 0&&(r=Te.numberComparator);let i=0,o=e.length-1;for(;i<=o;){const a=o+i>>1,u=r(n,e[a]);if(u>0)i=a+1;else if(u<0)o=a-1;else return a}return-i-1}static numberComparator(e,n){return e-n}}class Ce{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}Ce.MIN_VALUE_32_BITS=-2147483648,Ce.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Me{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=Me.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=Me.makeArray(e);pe.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const r=this.bits;let i=Math.floor(e/32),o=r[i];o&=~((1<<(e&31))-1);const a=r.length;for(;o===0;){if(++i===a)return n;o=r[i]}const u=i*32+Ce.numberOfTrailingZeros(o);return u>n?n:u}getNextUnset(e){const n=this.size;if(e>=n)return n;const r=this.bits;let i=Math.floor(e/32),o=~r[i];o&=~((1<<(e&31))-1);const a=r.length;for(;o===0;){if(++i===a)return n;o=~r[i]}const u=i*32+Ce.numberOfTrailingZeros(o);return u>n?n:u}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new F;if(n===e)return;n--;const r=Math.floor(e/32),i=Math.floor(n/32),o=this.bits;for(let a=r;a<=i;a++){const u=a>r?0:e&31,d=(2<<(a<i?31:n&31))-(1<<u);o[a]|=d}}clear(){const e=this.bits.length,n=this.bits;for(let r=0;r<e;r++)n[r]=0}isRange(e,n,r){if(n<e||e<0||n>this.size)throw new F;if(n===e)return!0;n--;const i=Math.floor(e/32),o=Math.floor(n/32),a=this.bits;for(let u=i;u<=o;u++){const f=u>i?0:e&31,w=(2<<(u<o?31:n&31))-(1<<f)&4294967295;if((a[u]&w)!==(r?w:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new F("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let r=0;r<n;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new F("Sizes don't match");const n=this.bits;for(let r=0,i=n.length;r<i;r++)n[r]^=e.bits[r]}toBytes(e,n,r,i){for(let o=0;o<i;o++){let a=0;for(let u=0;u<8;u++)this.get(e)&&(a|=1<<7-u),e++;n[r+o]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,i=this.bits;for(let o=0;o<r;o++){let a=i[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[n-o]=a}if(this.size!==r*32){const o=r*32-this.size;let a=e[0]>>>o;for(let u=1;u<r;u++){const f=e[u];a|=f<<32-o,e[u-1]=a,a=f>>>o}e[r-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Me))return!1;const n=e;return this.size===n.size&&Te.equals(this.bits,n.bits)}hashCode(){return 31*this.size+Te.hashCode(this.bits)}toString(){let e="";for(let n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new Me(this.size,this.bits.slice())}}var xt;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(xt||(xt={}));var Ge=xt;class se extends T{static getFormatInstance(){return new se}}se.kind="FormatException";var Je;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(Je||(Je={}));class te{constructor(e,n,r,...i){this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=i,te.VALUE_IDENTIFIER_TO_ECI.set(e,this),te.NAME_TO_ECI.set(r,this);const o=this.values;for(let a=0,u=o.length;a!==u;a++){const f=o[a];te.VALUES_TO_ECI.set(f,this)}for(const a of i)te.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new se("incorect value");const n=te.VALUES_TO_ECI.get(e);if(n===void 0)throw new se("incorect value");return n}static getCharacterSetECIByName(e){const n=te.NAME_TO_ECI.get(e);if(n===void 0)throw new se("incorect value");return n}equals(e){if(!(e instanceof te))return!1;const n=e;return this.getName()===n.getName()}}te.VALUE_IDENTIFIER_TO_ECI=new Map,te.VALUES_TO_ECI=new Map,te.NAME_TO_ECI=new Map,te.Cp437=new te(Je.Cp437,Int32Array.from([0,2]),"Cp437"),te.ISO8859_1=new te(Je.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),te.ISO8859_2=new te(Je.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),te.ISO8859_3=new te(Je.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),te.ISO8859_4=new te(Je.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),te.ISO8859_5=new te(Je.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),te.ISO8859_6=new te(Je.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),te.ISO8859_7=new te(Je.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),te.ISO8859_8=new te(Je.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),te.ISO8859_9=new te(Je.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),te.ISO8859_10=new te(Je.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),te.ISO8859_11=new te(Je.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),te.ISO8859_13=new te(Je.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),te.ISO8859_14=new te(Je.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),te.ISO8859_15=new te(Je.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),te.ISO8859_16=new te(Je.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),te.SJIS=new te(Je.SJIS,20,"SJIS","Shift_JIS"),te.Cp1250=new te(Je.Cp1250,21,"Cp1250","windows-1250"),te.Cp1251=new te(Je.Cp1251,22,"Cp1251","windows-1251"),te.Cp1252=new te(Je.Cp1252,23,"Cp1252","windows-1252"),te.Cp1256=new te(Je.Cp1256,24,"Cp1256","windows-1256"),te.UnicodeBigUnmarked=new te(Je.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),te.UTF8=new te(Je.UTF8,26,"UTF8","UTF-8"),te.ASCII=new te(Je.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),te.Big5=new te(Je.Big5,28,"Big5"),te.GB18030=new te(Je.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),te.EUC_KR=new te(Je.EUC_KR,30,"EUC_KR","EUC-KR");class Jt extends T{}Jt.kind="UnsupportedOperationException";class yt{static decode(e,n){const r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!yt.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof te?e:te.getCharacterSetECIByName(e)}static decodeFallback(e,n){const r=this.encodingCharacterSet(n);if(yt.isDecodeFallbackSupported(r)){let i="";for(let o=0,a=e.length;o<a;o++){let u=e[o].toString(16);u.length<2&&(u="0"+u),i+="%"+u}return decodeURIComponent(i)}if(r.equals(te.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Jt(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(te.UTF8)||e.equals(te.ISO8859_1)||e.equals(te.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),i=[];for(let o=0;o<r.length;o++)i.push(r[o].charCodeAt(0));return new Uint8Array(i)}}class Be{static castAsNonUtf8Char(e,n=null){const r=n?n.getName():this.ISO88591;return yt.decode(new Uint8Array([e]),r)}static guessEncoding(e,n){if(n!=null&&n.get(Ge.CHARACTER_SET)!==void 0)return n.get(Ge.CHARACTER_SET).toString();const r=e.length;let i=!0,o=!0,a=!0,u=0,f=0,d=0,w=0,A=0,I=0,R=0,k=0,L=0,H=0,Z=0;const de=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let ge=0;ge<r&&(i||o||a);ge++){const ae=e[ge]&255;a&&(u>0?(ae&128)===0?a=!1:u--:(ae&128)!==0&&((ae&64)===0?a=!1:(u++,(ae&32)===0?f++:(u++,(ae&16)===0?d++:(u++,(ae&8)===0?w++:a=!1))))),i&&(ae>127&&ae<160?i=!1:ae>159&&(ae<192||ae===215||ae===247)&&Z++),o&&(A>0?ae<64||ae===127||ae>252?o=!1:A--:ae===128||ae===160||ae>239?o=!1:ae>160&&ae<224?(I++,k=0,R++,R>L&&(L=R)):ae>127?(A++,R=0,k++,k>H&&(H=k)):(R=0,k=0))}return a&&u>0&&(a=!1),o&&A>0&&(o=!1),a&&(de||f+d+w>0)?Be.UTF8:o&&(Be.ASSUME_SHIFT_JIS||L>=3||H>=3)?Be.SHIFT_JIS:i&&o?L===2&&I===2||Z*10>=r?Be.SHIFT_JIS:Be.ISO88591:i?Be.ISO88591:o?Be.SHIFT_JIS:a?Be.UTF8:Be.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let r=-1;function i(a,u,f,d,w,A){if(a==="%%")return"%";if(n[++r]===void 0)return;a=d?parseInt(d.substr(1)):void 0;let I=w?parseInt(w.substr(1)):void 0,R;switch(A){case"s":R=n[r];break;case"c":R=n[r][0];break;case"f":R=parseFloat(n[r]).toFixed(a);break;case"p":R=parseFloat(n[r]).toPrecision(a);break;case"e":R=parseFloat(n[r]).toExponential(a);break;case"x":R=parseInt(n[r]).toString(I||16);break;case"d":R=parseFloat(parseInt(n[r],I||10).toPrecision(a)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(I);let k=parseInt(f),L=f&&f[0]+""=="0"?"0":" ";for(;R.length<k;)R=u!==void 0?R+L:L+R;return R}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)}static getBytes(e,n){return yt.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}Be.SHIFT_JIS=te.SJIS.getName(),Be.GB2312="GB2312",Be.ISO88591=te.ISO8859_1.getName(),Be.EUC_JP="EUC_JP",Be.UTF8=te.UTF8.getName(),Be.PLATFORM_DEFAULT_ENCODING=Be.UTF8,Be.ASSUME_SHIFT_JIS=!1;class Xe{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Be.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,r){for(let i=n;n<n+r;i++)this.append(e[i]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class Ze{constructor(e,n,r,i){if(this.width=e,this.height=n,this.rowSize=r,this.bits=i,n==null&&(n=e),this.height=n,e<1||n<1)throw new F("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,r=e[0].length,i=new Ze(r,n);for(let o=0;o<n;o++){const a=e[o];for(let u=0;u<r;u++)a[u]&&i.set(u,o)}return i}static parseFromString(e,n,r){if(e===null)throw new F("stringRepresentation cannot be null");const i=new Array(e.length);let o=0,a=0,u=-1,f=0,d=0;for(;d<e.length;)if(e.charAt(d)===`
`||e.charAt(d)==="\r"){if(o>a){if(u===-1)u=o-a;else if(o-a!==u)throw new F("row lengths do not match");a=o,f++}d++}else if(e.substring(d,d+n.length)===n)d+=n.length,i[o]=!0,o++;else if(e.substring(d,d+r.length)===r)d+=r.length,i[o]=!1,o++;else throw new F("illegal character encountered: "+e.substring(d));if(o>a){if(u===-1)u=o-a;else if(o-a!==u)throw new F("row lengths do not match");f++}const w=new Ze(u,f);for(let A=0;A<o;A++)i[A]&&w.set(Math.floor(A%u),Math.floor(A/u));return w}get(e,n){const r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new F("input matrix dimensions do not match");const n=new Me(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits;for(let o=0,a=this.height;o<a;o++){const u=o*r,f=e.getRow(o,n).getBitArray();for(let d=0;d<r;d++)i[u+d]^=f[d]}}clear(){const e=this.bits,n=e.length;for(let r=0;r<n;r++)e[r]=0}setRegion(e,n,r,i){if(n<0||e<0)throw new F("Left and top must be nonnegative");if(i<1||r<1)throw new F("Height and width must be at least 1");const o=e+r,a=n+i;if(a>this.height||o>this.width)throw new F("The region must fit inside the matrix");const u=this.rowSize,f=this.bits;for(let d=n;d<a;d++){const w=d*u;for(let A=e;A<o;A++)f[w+Math.floor(A/32)]|=1<<(A&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new Me(this.width):n.clear();const r=this.rowSize,i=this.bits,o=e*r;for(let a=0;a<r;a++)n.setBulk(a*32,i[o+a]);return n}setRow(e,n){pe.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let r=new Me(e),i=new Me(e);for(let o=0,a=Math.floor((n+1)/2);o<a;o++)r=this.getRow(o,r),i=this.getRow(n-1-o,i),r.reverse(),i.reverse(),this.setRow(o,i),this.setRow(n-1-o,r)}getEnclosingRectangle(){const e=this.width,n=this.height,r=this.rowSize,i=this.bits;let o=e,a=n,u=-1,f=-1;for(let d=0;d<n;d++)for(let w=0;w<r;w++){const A=i[d*r+w];if(A!==0){if(d<a&&(a=d),d>f&&(f=d),w*32<o){let I=0;for(;(A<<31-I&4294967295)===0;)I++;w*32+I<o&&(o=w*32+I)}if(w*32+31>u){let I=31;for(;!(A>>>I);)I--;w*32+I>u&&(u=w*32+I)}}}return u<o||f<a?null:Int32Array.from([o,a,u-o+1,f-a+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let r=0;for(;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;const i=r/e;let o=r%e*32;const a=n[r];let u=0;for(;(a<<31-u&4294967295)===0;)u++;return o+=u,Int32Array.from([o,i])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let r=n.length-1;for(;r>=0&&n[r]===0;)r--;if(r<0)return null;const i=Math.floor(r/e);let o=Math.floor(r%e)*32;const a=n[r];let u=31;for(;!(a>>>u);)u--;return o+=u,Int32Array.from([o,i])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Ze))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Te.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Te.hashCode(this.bits),e}toString(e="X ",n="  ",r=`
`){return this.buildToString(e,n,r)}buildToString(e,n,r){let i=new Xe;for(let o=0,a=this.height;o<a;o++){for(let u=0,f=this.width;u<f;u++)i.append(this.get(u,o)?e:n);i.append(r)}return i.toString()}clone(){return new Ze(this.width,this.height,this.rowSize,this.bits.slice())}}class $ extends T{static getNotFoundInstance(){return new $}}$.kind="NotFoundException";class Fe extends ze{constructor(e){super(e),this.luminances=Fe.EMPTY,this.buckets=new Int32Array(Fe.LUMINANCE_BUCKETS)}getBlackRow(e,n){const r=this.getLuminanceSource(),i=r.getWidth();n==null||n.getSize()<i?n=new Me(i):n.clear(),this.initArrays(i);const o=r.getRow(e,this.luminances),a=this.buckets;for(let f=0;f<i;f++)a[(o[f]&255)>>Fe.LUMINANCE_SHIFT]++;const u=Fe.estimateBlackPoint(a);if(i<3)for(let f=0;f<i;f++)(o[f]&255)<u&&n.set(f);else{let f=o[0]&255,d=o[1]&255;for(let w=1;w<i-1;w++){const A=o[w+1]&255;(d*4-f-A)/2<u&&n.set(w),f=d,d=A}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),i=new Ze(n,r);this.initArrays(n);const o=this.buckets;for(let f=1;f<5;f++){const d=Math.floor(r*f/5),w=e.getRow(d,this.luminances),A=Math.floor(n*4/5);for(let I=Math.floor(n/5);I<A;I++){const R=w[I]&255;o[R>>Fe.LUMINANCE_SHIFT]++}}const a=Fe.estimateBlackPoint(o),u=e.getMatrix();for(let f=0;f<r;f++){const d=f*n;for(let w=0;w<n;w++)(u[d+w]&255)<a&&i.set(w,f)}return i}createBinarizer(e){return new Fe(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let r=0;r<Fe.LUMINANCE_BUCKETS;r++)n[r]=0}static estimateBlackPoint(e){const n=e.length;let r=0,i=0,o=0;for(let w=0;w<n;w++)e[w]>o&&(i=w,o=e[w]),e[w]>r&&(r=e[w]);let a=0,u=0;for(let w=0;w<n;w++){const A=w-i,I=e[w]*A*A;I>u&&(a=w,u=I)}if(i>a){const w=i;i=a,a=w}if(a-i<=n/16)throw new $;let f=a-1,d=-1;for(let w=a-1;w>i;w--){const A=w-i,I=A*A*(a-w)*(r-e[w]);I>d&&(f=w,d=I)}return f<<Fe.LUMINANCE_SHIFT}}Fe.LUMINANCE_BITS=5,Fe.LUMINANCE_SHIFT=8-Fe.LUMINANCE_BITS,Fe.LUMINANCE_BUCKETS=1<<Fe.LUMINANCE_BITS,Fe.EMPTY=Uint8ClampedArray.from([0]);class ye extends Fe{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight();if(n>=ye.MINIMUM_DIMENSION&&r>=ye.MINIMUM_DIMENSION){const i=e.getMatrix();let o=n>>ye.BLOCK_SIZE_POWER;(n&ye.BLOCK_SIZE_MASK)!==0&&o++;let a=r>>ye.BLOCK_SIZE_POWER;(r&ye.BLOCK_SIZE_MASK)!==0&&a++;const u=ye.calculateBlackPoints(i,o,a,n,r),f=new Ze(n,r);ye.calculateThresholdForBlock(i,o,a,n,r,u,f),this.matrix=f}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ye(e)}static calculateThresholdForBlock(e,n,r,i,o,a,u){const f=o-ye.BLOCK_SIZE,d=i-ye.BLOCK_SIZE;for(let w=0;w<r;w++){let A=w<<ye.BLOCK_SIZE_POWER;A>f&&(A=f);const I=ye.cap(w,2,r-3);for(let R=0;R<n;R++){let k=R<<ye.BLOCK_SIZE_POWER;k>d&&(k=d);const L=ye.cap(R,2,n-3);let H=0;for(let de=-2;de<=2;de++){const ge=a[I+de];H+=ge[L-2]+ge[L-1]+ge[L]+ge[L+1]+ge[L+2]}const Z=H/25;ye.thresholdBlock(e,k,A,Z,i,u)}}}static cap(e,n,r){return e<n?n:e>r?r:e}static thresholdBlock(e,n,r,i,o,a){for(let u=0,f=r*o+n;u<ye.BLOCK_SIZE;u++,f+=o)for(let d=0;d<ye.BLOCK_SIZE;d++)(e[f+d]&255)<=i&&a.set(n+d,r+u)}static calculateBlackPoints(e,n,r,i,o){const a=o-ye.BLOCK_SIZE,u=i-ye.BLOCK_SIZE,f=new Array(r);for(let d=0;d<r;d++){f[d]=new Int32Array(n);let w=d<<ye.BLOCK_SIZE_POWER;w>a&&(w=a);for(let A=0;A<n;A++){let I=A<<ye.BLOCK_SIZE_POWER;I>u&&(I=u);let R=0,k=255,L=0;for(let Z=0,de=w*i+I;Z<ye.BLOCK_SIZE;Z++,de+=i){for(let ge=0;ge<ye.BLOCK_SIZE;ge++){const ae=e[de+ge]&255;R+=ae,ae<k&&(k=ae),ae>L&&(L=ae)}if(L-k>ye.MIN_DYNAMIC_RANGE)for(Z++,de+=i;Z<ye.BLOCK_SIZE;Z++,de+=i)for(let ge=0;ge<ye.BLOCK_SIZE;ge++)R+=e[de+ge]&255}let H=R>>ye.BLOCK_SIZE_POWER*2;if(L-k<=ye.MIN_DYNAMIC_RANGE&&(H=k/2,d>0&&A>0)){const Z=(f[d-1][A]+2*f[d][A-1]+f[d-1][A-1])/4;k<Z&&(H=Z)}f[d][A]=H}}return f}}ye.BLOCK_SIZE_POWER=3,ye.BLOCK_SIZE=1<<ye.BLOCK_SIZE_POWER,ye.BLOCK_SIZE_MASK=ye.BLOCK_SIZE-1,ye.MINIMUM_DIMENSION=ye.BLOCK_SIZE*5,ye.MIN_DYNAMIC_RANGE=24;class re{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,r,i){throw new Jt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Jt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Jt("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new Xe;for(let r=0;r<this.height;r++){const i=this.getRow(r,e);for(let o=0;o<this.width;o++){const a=i[o]&255;let u;a<64?u="#":a<128?u="+":a<192?u=".":u=" ",n.append(u)}n.append(`
`)}return n.toString()}}class ve extends re{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const r=this.delegate.getRow(e,n),i=this.getWidth();for(let o=0;o<i;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(n);for(let i=0;i<n;i++)r[i]=255-(e[i]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,r,i){return new ve(this.delegate.crop(e,n,r,i))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ve(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ve(this.delegate.rotateCounterClockwise45())}}class le extends re{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=le.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return le.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,r){const i=new Uint8ClampedArray(n*r);for(let o=0,a=0,u=e.length;o<u;o+=4,a++){let f;if(e[o+3]===0)f=255;else{const w=e[o],A=e[o+1],I=e[o+2];f=306*w+601*A+117*I+512>>10}i[a]=f}return i}getRow(e,n){if(e<0||e>=this.getHeight())throw new F("Requested row is outside the image: "+e);const r=this.getWidth(),i=e*r;return n===null?n=this.buffer.slice(i,i+r):(n.length<r&&(n=new Uint8ClampedArray(r)),n.set(this.buffer.slice(i,i+r))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,r,i){return super.crop(e,n,r,i),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),r=n.getContext("2d"),i=e*le.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*a),f=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*a);return n.width=u,n.height=f,r.translate(u/2,f/2),r.rotate(i),r.drawImage(this.canvas,o/-2,a/-2),this.buffer=le.makeBufferFromCanvasImageData(n),this}invert(){return new ve(this)}}le.DEGREE_TO_RADIANS=Math.PI/180;class U{constructor(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Q=(globalThis||Ra||self||window||void 0)&&(globalThis||Ra||self||window||void 0).__awaiter||function(C,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(w){try{d(r.next(w))}catch(A){a(A)}}function f(w){try{d(r.throw(w))}catch(A){a(A)}}function d(w){w.done?o(w.value):i(w.value).then(u,f)}d((r=r.apply(C,e||[])).next())})};class Se{constructor(e,n=500,r){this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Q(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const r of e){const i=r.kind==="video"?"videoinput":r.kind;if(i!=="videoinput")continue;const o=r.deviceId||r.id,a=r.label||`Video device ${n.length+1}`,u=r.groupId,f={deviceId:o,label:a,kind:i,groupId:u};n.push(f)}return n})}getVideoInputDevices(){return Q(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new U(n.deviceId,n.label))})}findDeviceById(e){return Q(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return Q(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return Q(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const i={video:r};return yield this.decodeOnceFromConstraints(i,n)})}decodeOnceFromConstraints(e,n){return Q(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,n)})}decodeOnceFromStream(e,n){return Q(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,n,r){return Q(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,r)})}decodeFromVideoDevice(e,n,r){return Q(this,void 0,void 0,function*(){let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeFromConstraints(o,n,r)})}decodeFromConstraints(e,n,r){return Q(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(i,n,r)})}decodeFromStream(e,n,r){return Q(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(i,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return Q(this,void 0,void 0,function*(){const r=this.prepareVideoElement(n);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((n,r)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Q(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const r=document.getElementById(e);if(!r)throw new z(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new z(`element with id '${e}' must be an ${n} element`);return r}decodeFromImage(e,n){if(!e&&!n)throw new z("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new z("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,r){if(e===void 0&&n===void 0)throw new z("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new z("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)}_decodeFromVideoElementSetup(e){if(!e)throw new z("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new z("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const r=this._decodeOnLoadImage(n);return n.src=e,r}decodeFromVideoUrl(e){if(!e)throw new z("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r}decodeFromVideoUrlContinuously(e,n){if(!e)throw new z("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,n);return r.src=e,i}_decodeOnLoadImage(e){return new Promise((n,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Q(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return Q(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,r=!0){this._stopAsyncDecode=!1;const i=(o,a)=>{if(this._stopAsyncDecode){a(new $("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(e);o(u)}catch(u){const f=n&&u instanceof $,w=(u instanceof Ae||u instanceof se)&&r;if(f||w)return setTimeout(i,this._timeBetweenDecodingAttempts,o,a);a(u)}};return new Promise((o,a)=>i(o,a))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const i=this.decode(e);n(i,null),setTimeout(r,this.timeBetweenScansMillis)}catch(i){n(null,i);const o=i instanceof Ae||i instanceof se,a=i instanceof $;(o||a)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,r){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,r=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),r=new le(n),i=new ye(r);return new we(i)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=i+"px",n.width=r,n.height=i,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Ne{constructor(e,n,r=n==null?0:8*n.length,i,o,a=pe.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=i,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=i,this.format=o,this.resultMetadata=null,a==null?this.timestamp=pe.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(n.length+e.length);pe.arraycopy(n,0,r,0,n.length),pe.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var et;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(et||(et={}));var Y=et,$e;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})($e||($e={}));var ke=$e;class Oe{constructor(e,n,r,i,o=-1,a=-1){this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class St{exp(e){return this.expTable[e]}log(e){if(e===0)throw new F;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class Le{constructor(e,n){if(n.length===0)throw new F;this.field=e;const r=n.length;if(r>1&&n[0]===0){let i=1;for(;i<r&&n[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),pe.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let r;if(e===1){r=0;for(let a=0,u=n.length;a!==u;a++){const f=n[a];r=St.addOrSubtract(r,f)}return r}r=n[0];const i=n.length,o=this.field;for(let a=1;a<i;a++)r=St.addOrSubtract(o.multiply(e,r),n[a]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new F("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){const a=n;n=r,r=a}let i=new Int32Array(r.length);const o=r.length-n.length;pe.arraycopy(r,0,i,0,o);for(let a=o;a<r.length;a++)i[a]=St.addOrSubtract(n[a-o],r[a]);return new Le(this.field,i)}multiply(e){if(!this.field.equals(e.field))throw new F("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,a=new Int32Array(r+o-1),u=this.field;for(let f=0;f<r;f++){const d=n[f];for(let w=0;w<o;w++)a[f+w]=St.addOrSubtract(a[f+w],u.multiply(d,i[w]))}return new Le(u,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,r=this.field,i=new Int32Array(n),o=this.coefficients;for(let a=0;a<n;a++)i[a]=r.multiply(o[a],e);return new Le(r,i)}multiplyByMonomial(e,n){if(e<0)throw new F;if(n===0)return this.field.getZero();const r=this.coefficients,i=r.length,o=new Int32Array(i+e),a=this.field;for(let u=0;u<i;u++)o[u]=a.multiply(r[u],n);return new Le(a,o)}divide(e){if(!this.field.equals(e.field))throw new F("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new F("Divide by 0");const n=this.field;let r=n.getZero(),i=this;const o=e.getCoefficient(e.getDegree()),a=n.inverse(o);for(;i.getDegree()>=e.getDegree()&&!i.isZero();){const u=i.getDegree()-e.getDegree(),f=n.multiply(i.getCoefficient(i.getDegree()),a),d=e.multiplyByMonomial(u,f),w=n.buildMonomial(u,f);r=r.addOrSubtract(w),i=i.addOrSubtract(d)}return[r,i]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){const i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class sr extends T{}sr.kind="ArithmeticException";class ot extends St{constructor(e,n,r){super(),this.primitive=e,this.size=n,this.generatorBase=r;const i=new Int32Array(n);let o=1;for(let u=0;u<n;u++)i[u]=o,o*=2,o>=n&&(o^=e,o&=n-1);this.expTable=i;const a=new Int32Array(n);for(let u=0;u<n-1;u++)a[i[u]]=u;this.logTable=a,this.zero=new Le(this,Int32Array.from([0])),this.one=new Le(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new F;if(n===0)return this.zero;const r=new Int32Array(e+1);return r[0]=n,new Le(this,r)}inverse(e){if(e===0)throw new sr;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Ce.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ot.AZTEC_DATA_12=new ot(4201,4096,1),ot.AZTEC_DATA_10=new ot(1033,1024,1),ot.AZTEC_DATA_6=new ot(67,64,1),ot.AZTEC_PARAM=new ot(19,16,1),ot.QR_CODE_FIELD_256=new ot(285,256,0),ot.DATA_MATRIX_FIELD_256=new ot(301,256,1),ot.AZTEC_DATA_8=ot.DATA_MATRIX_FIELD_256,ot.MAXICODE_FIELD_64=ot.AZTEC_DATA_6;class Gn extends T{}Gn.kind="ReedSolomonException";class on extends T{}on.kind="IllegalStateException";class Ln{constructor(e){this.field=e}decode(e,n){const r=this.field,i=new Le(r,e),o=new Int32Array(n);let a=!0;for(let R=0;R<n;R++){const k=i.evaluateAt(r.exp(R+r.getGeneratorBase()));o[o.length-1-R]=k,k!==0&&(a=!1)}if(a)return;const u=new Le(r,o),f=this.runEuclideanAlgorithm(r.buildMonomial(n,1),u,n),d=f[0],w=f[1],A=this.findErrorLocations(d),I=this.findErrorMagnitudes(w,A);for(let R=0;R<A.length;R++){const k=e.length-1-r.log(A[R]);if(k<0)throw new Gn("Bad error location");e[k]=ot.addOrSubtract(e[k],I[R])}}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){const R=e;e=n,n=R}const i=this.field;let o=e,a=n,u=i.getZero(),f=i.getOne();for(;a.getDegree()>=(r/2|0);){let R=o,k=u;if(o=a,u=f,o.isZero())throw new Gn("r_{i-1} was zero");a=R;let L=i.getZero();const H=o.getCoefficient(o.getDegree()),Z=i.inverse(H);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){const de=a.getDegree()-o.getDegree(),ge=i.multiply(a.getCoefficient(a.getDegree()),Z);L=L.addOrSubtract(i.buildMonomial(de,ge)),a=a.addOrSubtract(o.multiplyByMonomial(de,ge))}if(f=L.multiply(u).addOrSubtract(k),a.getDegree()>=o.getDegree())throw new on("Division algorithm failed to reduce polynomial?")}const d=f.getCoefficient(0);if(d===0)throw new Gn("sigmaTilde(0) was zero");const w=i.inverse(d),A=f.multiplyScalar(w),I=a.multiplyScalar(w);return[A,I]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(n);let i=0;const o=this.field;for(let a=1;a<o.getSize()&&i<n;a++)e.evaluateAt(a)===0&&(r[i]=o.inverse(a),i++);if(i!==n)throw new Gn("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,n){const r=n.length,i=new Int32Array(r),o=this.field;for(let a=0;a<r;a++){const u=o.inverse(n[a]);let f=1;for(let d=0;d<r;d++)if(a!==d){const w=o.multiply(n[d],u),A=(w&1)===0?w|1:w&-2;f=o.multiply(f,A)}i[a]=o.multiply(e.evaluateAt(u),o.inverse(f)),o.getGeneratorBase()!==0&&(i[a]=o.multiply(i[a],u))}return i}}var Vt;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(Vt||(Vt={}));class Ct{decode(e){this.ddata=e;let n=e.getBits(),r=this.extractBits(n),i=this.correctBits(r),o=Ct.convertBoolArrayToByteArray(i),a=Ct.getEncodedData(i),u=new Oe(o,a,null,null);return u.setNumBits(i.length),u}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,r=Vt.UPPER,i=Vt.UPPER,o="",a=0;for(;a<n;)if(i===Vt.BINARY){if(n-a<5)break;let u=Ct.readCode(e,a,5);if(a+=5,u===0){if(n-a<11)break;u=Ct.readCode(e,a,11)+31,a+=11}for(let f=0;f<u;f++){if(n-a<8){a=n;break}const d=Ct.readCode(e,a,8);o+=Be.castAsNonUtf8Char(d),a+=8}i=r}else{let u=i===Vt.DIGIT?4:5;if(n-a<u)break;let f=Ct.readCode(e,a,u);a+=u;let d=Ct.getCharacter(i,f);d.startsWith("CTRL_")?(r=i,i=Ct.getTable(d.charAt(5)),d.charAt(6)==="L"&&(r=i)):(o+=d,i=r)}return o}static getTable(e){switch(e){case"L":return Vt.LOWER;case"P":return Vt.PUNCT;case"M":return Vt.MIXED;case"D":return Vt.DIGIT;case"B":return Vt.BINARY;case"U":default:return Vt.UPPER}}static getCharacter(e,n){switch(e){case Vt.UPPER:return Ct.UPPER_TABLE[n];case Vt.LOWER:return Ct.LOWER_TABLE[n];case Vt.MIXED:return Ct.MIXED_TABLE[n];case Vt.PUNCT:return Ct.PUNCT_TABLE[n];case Vt.DIGIT:return Ct.DIGIT_TABLE[n];default:throw new on("Bad table")}}correctBits(e){let n,r;this.ddata.getNbLayers()<=2?(r=6,n=ot.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=ot.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=ot.AZTEC_DATA_10):(r=12,n=ot.AZTEC_DATA_12);let i=this.ddata.getNbDatablocks(),o=e.length/r;if(o<i)throw new se;let a=e.length%r,u=new Int32Array(o);for(let I=0;I<o;I++,a+=r)u[I]=Ct.readCode(e,a,r);try{new Ln(n).decode(u,o-i)}catch(I){throw new se(I)}let f=(1<<r)-1,d=0;for(let I=0;I<i;I++){let R=u[I];if(R===0||R===f)throw new se;(R===1||R===f-1)&&d++}let w=new Array(i*r-d),A=0;for(let I=0;I<i;I++){let R=u[I];if(R===1||R===f-1)w.fill(R>1,A,A+r-1),A+=r-1;else for(let k=r-1;k>=0;--k)w[A++]=(R&1<<k)!==0}return w}extractBits(e){let n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(n?11:14)+r*4,o=new Int32Array(i),a=new Array(this.totalBitsInLayer(r,n));if(n)for(let u=0;u<o.length;u++)o[u]=u;else{let u=i+1+2*Ce.truncDivision(Ce.truncDivision(i,2)-1,15),f=i/2,d=Ce.truncDivision(u,2);for(let w=0;w<f;w++){let A=w+Ce.truncDivision(w,15);o[f-w-1]=d-A-1,o[f+w]=d+A+1}}for(let u=0,f=0;u<r;u++){let d=(r-u)*4+(n?9:12),w=u*2,A=i-1-w;for(let I=0;I<d;I++){let R=I*2;for(let k=0;k<2;k++)a[f+R+k]=e.get(o[w+k],o[w+I]),a[f+2*d+R+k]=e.get(o[w+I],o[A-k]),a[f+4*d+R+k]=e.get(o[A-k],o[A-I]),a[f+6*d+R+k]=e.get(o[A-I],o[w+k])}f+=d*8}return a}static readCode(e,n,r){let i=0;for(let o=n;o<n+r;o++)i<<=1,e[o]&&(i|=1);return i}static readByte(e,n){let r=e.length-n;return r>=8?Ct.readCode(e,n,8):Ct.readCode(e,n,r)<<8-r}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let r=0;r<n.length;r++)n[r]=Ct.readByte(e,8*r);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ut{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,r,i){const o=e-r,a=n-i;return Math.sqrt(o*o+a*a)}static sum(e){let n=0;for(let r=0,i=e.length;r!==i;r++){const o=e[r];n+=o}return n}}class ht{static floatToIntBits(e){return e}}ht.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ie{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof ie){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*ht.floatToIntBits(this.x)+ht.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]);let o,a,u;if(r>=n&&r>=i?(a=e[0],o=e[1],u=e[2]):i>=r&&i>=n?(a=e[1],o=e[0],u=e[2]):(a=e[2],o=e[0],u=e[1]),this.crossProductZ(o,a,u)<0){const f=o;o=u,u=f}e[0]=o,e[1]=a,e[2]=u}static distance(e,n){return ut.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,r){const i=n.x,o=n.y;return(r.x-i)*(e.y-o)-(r.y-o)*(e.x-i)}}class Rn{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class xn extends Rn{constructor(e,n,r,i,o){super(e,n),this.compact=r,this.nbDatablocks=i,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Xt{constructor(e,n,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=Xt.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);const o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}detect(){let e=this.leftInit,n=this.rightInit,r=this.upInit,i=this.downInit,o=!1,a=!0,u=!1,f=!1,d=!1,w=!1,A=!1;const I=this.width,R=this.height;for(;a;){a=!1;let k=!0;for(;(k||!f)&&n<I;)k=this.containsBlackPoint(r,i,n,!1),k?(n++,a=!0,f=!0):f||n++;if(n>=I){o=!0;break}let L=!0;for(;(L||!d)&&i<R;)L=this.containsBlackPoint(e,n,i,!0),L?(i++,a=!0,d=!0):d||i++;if(i>=R){o=!0;break}let H=!0;for(;(H||!w)&&e>=0;)H=this.containsBlackPoint(r,i,e,!1),H?(e--,a=!0,w=!0):w||e--;if(e<0){o=!0;break}let Z=!0;for(;(Z||!A)&&r>=0;)Z=this.containsBlackPoint(e,n,r,!0),Z?(r--,a=!0,A=!0):A||r--;if(r<0){o=!0;break}a&&(u=!0)}if(!o&&u){const k=n-e;let L=null;for(let ge=1;L===null&&ge<k;ge++)L=this.getBlackPointOnSegment(e,i-ge,e+ge,i);if(L==null)throw new $;let H=null;for(let ge=1;H===null&&ge<k;ge++)H=this.getBlackPointOnSegment(e,r+ge,e+ge,r);if(H==null)throw new $;let Z=null;for(let ge=1;Z===null&&ge<k;ge++)Z=this.getBlackPointOnSegment(n,r+ge,n-ge,r);if(Z==null)throw new $;let de=null;for(let ge=1;de===null&&ge<k;ge++)de=this.getBlackPointOnSegment(n,i-ge,n-ge,i);if(de==null)throw new $;return this.centerEdges(de,L,Z,H)}else throw new $}getBlackPointOnSegment(e,n,r,i){const o=ut.round(ut.distance(e,n,r,i)),a=(r-e)/o,u=(i-n)/o,f=this.image;for(let d=0;d<o;d++){const w=ut.round(e+d*a),A=ut.round(n+d*u);if(f.get(w,A))return new ie(w,A)}return null}centerEdges(e,n,r,i){const o=e.getX(),a=e.getY(),u=n.getX(),f=n.getY(),d=r.getX(),w=r.getY(),A=i.getX(),I=i.getY(),R=Xt.CORR;return o<this.width/2?[new ie(A-R,I+R),new ie(u+R,f+R),new ie(d-R,w-R),new ie(o+R,a-R)]:[new ie(A+R,I+R),new ie(u+R,f-R),new ie(d-R,w+R),new ie(o-R,a-R)]}containsBlackPoint(e,n,r,i){const o=this.image;if(i){for(let a=e;a<=n;a++)if(o.get(a,r))return!0}else for(let a=e;a<=n;a++)if(o.get(r,a))return!0;return!1}}Xt.INIT_SIZE=10,Xt.CORR=1;class dn{static checkAndNudgePoints(e,n){const r=e.getWidth(),i=e.getHeight();let o=!0;for(let a=0;a<n.length&&o;a+=2){const u=Math.floor(n[a]),f=Math.floor(n[a+1]);if(u<-1||u>r||f<-1||f>i)throw new $;o=!1,u===-1?(n[a]=0,o=!0):u===r&&(n[a]=r-1,o=!0),f===-1?(n[a+1]=0,o=!0):f===i&&(n[a+1]=i-1,o=!0)}o=!0;for(let a=n.length-2;a>=0&&o;a-=2){const u=Math.floor(n[a]),f=Math.floor(n[a+1]);if(u<-1||u>r||f<-1||f>i)throw new $;o=!1,u===-1?(n[a]=0,o=!0):u===r&&(n[a]=r-1,o=!0),f===-1?(n[a+1]=0,o=!0):f===i&&(n[a+1]=i-1,o=!0)}}}class an{constructor(e,n,r,i,o,a,u,f,d){this.a11=e,this.a21=n,this.a31=r,this.a12=i,this.a22=o,this.a32=a,this.a13=u,this.a23=f,this.a33=d}static quadrilateralToQuadrilateral(e,n,r,i,o,a,u,f,d,w,A,I,R,k,L,H){const Z=an.quadrilateralToSquare(e,n,r,i,o,a,u,f);return an.squareToQuadrilateral(d,w,A,I,R,k,L,H).times(Z)}transformPoints(e){const n=e.length,r=this.a11,i=this.a12,o=this.a13,a=this.a21,u=this.a22,f=this.a23,d=this.a31,w=this.a32,A=this.a33;for(let I=0;I<n;I+=2){const R=e[I],k=e[I+1],L=o*R+f*k+A;e[I]=(r*R+a*k+d)/L,e[I+1]=(i*R+u*k+w)/L}}transformPointsWithValues(e,n){const r=this.a11,i=this.a12,o=this.a13,a=this.a21,u=this.a22,f=this.a23,d=this.a31,w=this.a32,A=this.a33,I=e.length;for(let R=0;R<I;R++){const k=e[R],L=n[R],H=o*k+f*L+A;e[R]=(r*k+a*L+d)/H,n[R]=(i*k+u*L+w)/H}}static squareToQuadrilateral(e,n,r,i,o,a,u,f){const d=e-r+o-u,w=n-i+a-f;if(d===0&&w===0)return new an(r-e,o-r,e,i-n,a-i,n,0,0,1);{const A=r-o,I=u-o,R=i-a,k=f-a,L=A*k-I*R,H=(d*k-I*w)/L,Z=(A*w-d*R)/L;return new an(r-e+H*r,u-e+Z*u,e,i-n+H*i,f-n+Z*f,n,H,Z,1)}}static quadrilateralToSquare(e,n,r,i,o,a,u,f){return an.squareToQuadrilateral(e,n,r,i,o,a,u,f).buildAdjoint()}buildAdjoint(){return new an(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new an(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class en extends dn{sampleGrid(e,n,r,i,o,a,u,f,d,w,A,I,R,k,L,H,Z,de,ge){const ae=an.quadrilateralToQuadrilateral(i,o,a,u,f,d,w,A,I,R,k,L,H,Z,de,ge);return this.sampleGridWithTransform(e,n,r,ae)}sampleGridWithTransform(e,n,r,i){if(n<=0||r<=0)throw new $;const o=new Ze(n,r),a=new Float32Array(2*n);for(let u=0;u<r;u++){const f=a.length,d=u+.5;for(let w=0;w<f;w+=2)a[w]=w/2+.5,a[w+1]=d;i.transformPoints(a),dn.checkAndNudgePoints(e,a);try{for(let w=0;w<f;w+=2)e.get(Math.floor(a[w]),Math.floor(a[w+1]))&&o.set(w/2,u)}catch{throw new $}}return o}}class On{static setGridSampler(e){On.gridSampler=e}static getInstance(){return On.gridSampler}}On.gridSampler=new en;class tn{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new ie(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class pr{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){let a=r[0];r[0]=r[2],r[2]=a}this.extractParameters(r);let i=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new xn(i,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new $;let n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);let i=0;for(let a=0;a<4;a++){let u=r[(this.shift+a)%4];this.compact?(i<<=7,i+=u>>1&127):(i<<=10,i+=(u>>2&992)+(u>>1&31))}let o=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,n){let r=0;e.forEach((i,o,a)=>{let u=(i>>n-2<<1)+(i&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(let i=0;i<4;i++)if(Ce.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new $}getCorrectedParameterData(e,n){let r,i;n?(r=7,i=2):(r=10,i=4);let o=r-i,a=new Int32Array(r);for(let f=r-1;f>=0;--f)a[f]=e&15,e>>=4;try{new Ln(ot.AZTEC_PARAM).decode(a,o)}catch{throw new $}let u=0;for(let f=0;f<i;f++)u=(u<<4)+a[f];return u}getBullsEyeCorners(e){let n=e,r=e,i=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let A=this.getFirstDifferent(n,a,1,-1),I=this.getFirstDifferent(r,a,1,1),R=this.getFirstDifferent(i,a,-1,1),k=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(k,A)*this.nbCenterLayers/(this.distancePoint(o,n)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(A,I,R,k))break}n=A,r=I,i=R,o=k,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;let u=new ie(n.getX()+.5,n.getY()-.5),f=new ie(r.getX()+.5,r.getY()+.5),d=new ie(i.getX()-.5,i.getY()+.5),w=new ie(o.getX()-.5,o.getY()-.5);return this.expandSquare([u,f,d,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,r,i;try{let u=new Xt(this.image).detect();e=u[0],n=u[1],r=u[2],i=u[3]}catch{let f=this.image.getWidth()/2,d=this.image.getHeight()/2;e=this.getFirstDifferent(new tn(f+7,d-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new tn(f+7,d+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new tn(f-7,d+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new tn(f-7,d-7),!1,-1,-1).toResultPoint()}let o=ut.round((e.getX()+i.getX()+n.getX()+r.getX())/4),a=ut.round((e.getY()+i.getY()+n.getY()+r.getY())/4);try{let u=new Xt(this.image,15,o,a).detect();e=u[0],n=u[1],r=u[2],i=u[3]}catch{e=this.getFirstDifferent(new tn(o+7,a-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new tn(o+7,a+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new tn(o-7,a+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new tn(o-7,a-7),!1,-1,-1).toResultPoint()}return o=ut.round((e.getX()+i.getX()+n.getX()+r.getX())/4),a=ut.round((e.getY()+i.getY()+n.getY()+r.getY())/4),new tn(o,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,r,i,o){let a=On.getInstance(),u=this.getDimension(),f=u/2-this.nbCenterLayers,d=u/2+this.nbCenterLayers;return a.sampleGrid(e,u,u,f,f,d,f,d,d,f,d,n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY())}sampleLine(e,n,r){let i=0,o=this.distanceResultPoint(e,n),a=o/r,u=e.getX(),f=e.getY(),d=a*(n.getX()-e.getX())/o,w=a*(n.getY()-e.getY())/o;for(let A=0;A<r;A++)this.image.get(ut.round(u+A*d),ut.round(f+A*w))&&(i|=1<<r-A-1);return i}isWhiteOrBlackRectangle(e,n,r,i){let o=3;e=new tn(e.getX()-o,e.getY()+o),n=new tn(n.getX()-o,n.getY()-o),r=new tn(r.getX()+o,r.getY()-o),i=new tn(i.getX()+o,i.getY()+o);let a=this.getColor(i,e);if(a===0)return!1;let u=this.getColor(e,n);return u!==a||(u=this.getColor(n,r),u!==a)?!1:(u=this.getColor(r,i),u===a)}getColor(e,n){let r=this.distancePoint(e,n),i=(n.getX()-e.getX())/r,o=(n.getY()-e.getY())/r,a=0,u=e.getX(),f=e.getY(),d=this.image.get(e.getX(),e.getY()),w=Math.ceil(r);for(let I=0;I<w;I++)u+=i,f+=o,this.image.get(ut.round(u),ut.round(f))!==d&&a++;let A=a/r;return A>.1&&A<.9?0:A<=.1===d?1:-1}getFirstDifferent(e,n,r,i){let o=e.getX()+r,a=e.getY()+i;for(;this.isValid(o,a)&&this.image.get(o,a)===n;)o+=r,a+=i;for(o-=r,a-=i;this.isValid(o,a)&&this.image.get(o,a)===n;)o+=r;for(o-=r;this.isValid(o,a)&&this.image.get(o,a)===n;)a+=i;return a-=i,new tn(o,a)}expandSquare(e,n,r){let i=r/(2*n),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,d=new ie(u+i*o,f+i*a),w=new ie(u-i*o,f-i*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;let A=new ie(u+i*o,f+i*a),I=new ie(u-i*o,f-i*a);return[d,A,w,I]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=ut.round(e.getX()),r=ut.round(e.getY());return this.isValid(n,r)}distancePoint(e,n){return ut.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return ut.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ce.truncDivision(this.nbLayers-4,8)+1)+15}}class Xn{decode(e,n=null){let r=null,i=new pr(e.getBlackMatrix()),o=null,a=null;try{let w=i.detectMirror(!1);o=w.getPoints(),this.reportFoundResultPoints(n,o),a=new Ct().decode(w)}catch(w){r=w}if(a==null)try{let w=i.detectMirror(!0);o=w.getPoints(),this.reportFoundResultPoints(n,o),a=new Ct().decode(w)}catch(w){throw r??w}let u=new Ne(a.getText(),a.getRawBytes(),a.getNumBits(),o,Y.AZTEC,pe.currentTimeMillis()),f=a.getByteSegments();f!=null&&u.putMetadata(ke.BYTE_SEGMENTS,f);let d=a.getECLevel();return d!=null&&u.putMetadata(ke.ERROR_CORRECTION_LEVEL,d),u}reportFoundResultPoints(e,n){if(e!=null){let r=e.get(Ge.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach((i,o,a)=>{r.foundPossibleResultPoint(i)})}}reset(){}}class Ds extends Se{constructor(e=500){super(new Xn,e)}}class Mt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(Ge.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),a=this.doDecode(o,n),u=a.getResultMetadata();let f=270;u!==null&&u.get(ke.ORIENTATION)===!0&&(f=f+u.get(ke.ORIENTATION)%360),a.putMetadata(ke.ORIENTATION,f);const d=a.getResultPoints();if(d!==null){const w=o.getHeight();for(let A=0;A<d.length;A++)d[A]=new ie(w-d[A].getY()-1,d[A].getX())}return a}else throw new $}}reset(){}doDecode(e,n){const r=e.getWidth(),i=e.getHeight();let o=new Me(r);const a=n&&n.get(Ge.TRY_HARDER)===!0,u=Math.max(1,i>>(a?8:5));let f;a?f=i:f=15;const d=Math.trunc(i/2);for(let w=0;w<f;w++){const A=Math.trunc((w+1)/2),I=(w&1)===0,R=d+u*(I?A:-A);if(R<0||R>=i)break;try{o=e.getBlackRow(R,o)}catch{continue}for(let k=0;k<2;k++){if(k===1&&(o.reverse(),n&&n.get(Ge.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;n.forEach((H,Z)=>L.set(Z,H)),L.delete(Ge.NEED_RESULT_POINT_CALLBACK),n=L}try{const L=this.decodeRow(R,o,n);if(k===1){L.putMetadata(ke.ORIENTATION,180);const H=L.getResultPoints();H!==null&&(H[0]=new ie(r-H[0].getX()-1,H[0].getY()),H[1]=new ie(r-H[1].getX()-1,H[1].getY()))}return L}catch{}}}throw new $}static recordPattern(e,n,r){const i=r.length;for(let d=0;d<i;d++)r[d]=0;const o=e.getSize();if(n>=o)throw new $;let a=!e.get(n),u=0,f=n;for(;f<o;){if(e.get(f)!==a)r[u]++;else{if(++u===i)break;r[u]=1,a=!a}f++}if(!(u===i||u===i-1&&f===o))throw new $}static recordPatternInReverse(e,n,r){let i=r.length,o=e.get(n);for(;n>0&&i>=0;)e.get(--n)!==o&&(i--,o=!o);if(i>=0)throw new $;Mt.recordPattern(e,n+1,r)}static patternMatchVariance(e,n,r){const i=e.length;let o=0,a=0;for(let d=0;d<i;d++)o+=e[d],a+=n[d];if(o<a)return Number.POSITIVE_INFINITY;const u=o/a;r*=u;let f=0;for(let d=0;d<i;d++){const w=e[d],A=n[d]*u,I=w>A?w-A:A-w;if(I>r)return Number.POSITIVE_INFINITY;f+=I}return f/o}}class he extends Mt{static findStartPattern(e){const n=e.getSize(),r=e.getNextSet(0);let i=0,o=Int32Array.from([0,0,0,0,0,0]),a=r,u=!1;const f=6;for(let d=r;d<n;d++)if(e.get(d)!==u)o[i]++;else{if(i===f-1){let w=he.MAX_AVG_VARIANCE,A=-1;for(let I=he.CODE_START_A;I<=he.CODE_START_C;I++){const R=Mt.patternMatchVariance(o,he.CODE_PATTERNS[I],he.MAX_INDIVIDUAL_VARIANCE);R<w&&(w=R,A=I)}if(A>=0&&e.isRange(Math.max(0,a-(d-a)/2),a,!1))return Int32Array.from([a,d,A]);a+=o[0]+o[1],o=o.slice(2,o.length-1),o[i-1]=0,o[i]=0,i--}else i++;o[i]=1,u=!u}throw new $}static decodeCode(e,n,r){Mt.recordPattern(e,r,n);let i=he.MAX_AVG_VARIANCE,o=-1;for(let a=0;a<he.CODE_PATTERNS.length;a++){const u=he.CODE_PATTERNS[a],f=this.patternMatchVariance(n,u,he.MAX_INDIVIDUAL_VARIANCE);f<i&&(i=f,o=a)}if(o>=0)return o;throw new $}decodeRow(e,n,r){const i=r&&r.get(Ge.ASSUME_GS1)===!0,o=he.findStartPattern(n),a=o[2];let u=0;const f=new Uint8Array(20);f[u++]=a;let d;switch(a){case he.CODE_START_A:d=he.CODE_CODE_A;break;case he.CODE_START_B:d=he.CODE_CODE_B;break;case he.CODE_START_C:d=he.CODE_CODE_C;break;default:throw new se}let w=!1,A=!1,I="",R=o[0],k=o[1];const L=Int32Array.from([0,0,0,0,0,0]);let H=0,Z=0,de=a,ge=0,ae=!0,ft=!1,rt=!1;for(;!w;){const br=A;switch(A=!1,H=Z,Z=he.decodeCode(n,L,k),f[u++]=Z,Z!==he.CODE_STOP&&(ae=!0),Z!==he.CODE_STOP&&(ge++,de+=ge*Z),R=k,k+=L.reduce((xs,qi)=>xs+qi,0),Z){case he.CODE_START_A:case he.CODE_START_B:case he.CODE_START_C:throw new se}switch(d){case he.CODE_CODE_A:if(Z<64)rt===ft?I+=String.fromCharCode(32+Z):I+=String.fromCharCode(32+Z+128),rt=!1;else if(Z<96)rt===ft?I+=String.fromCharCode(Z-64):I+=String.fromCharCode(Z+64),rt=!1;else switch(Z!==he.CODE_STOP&&(ae=!1),Z){case he.CODE_FNC_1:i&&(I.length===0?I+="]C1":I+="");break;case he.CODE_FNC_2:case he.CODE_FNC_3:break;case he.CODE_FNC_4_A:!ft&&rt?(ft=!0,rt=!1):ft&&rt?(ft=!1,rt=!1):rt=!0;break;case he.CODE_SHIFT:A=!0,d=he.CODE_CODE_B;break;case he.CODE_CODE_B:d=he.CODE_CODE_B;break;case he.CODE_CODE_C:d=he.CODE_CODE_C;break;case he.CODE_STOP:w=!0;break}break;case he.CODE_CODE_B:if(Z<96)rt===ft?I+=String.fromCharCode(32+Z):I+=String.fromCharCode(32+Z+128),rt=!1;else switch(Z!==he.CODE_STOP&&(ae=!1),Z){case he.CODE_FNC_1:i&&(I.length===0?I+="]C1":I+="");break;case he.CODE_FNC_2:case he.CODE_FNC_3:break;case he.CODE_FNC_4_B:!ft&&rt?(ft=!0,rt=!1):ft&&rt?(ft=!1,rt=!1):rt=!0;break;case he.CODE_SHIFT:A=!0,d=he.CODE_CODE_A;break;case he.CODE_CODE_A:d=he.CODE_CODE_A;break;case he.CODE_CODE_C:d=he.CODE_CODE_C;break;case he.CODE_STOP:w=!0;break}break;case he.CODE_CODE_C:if(Z<100)Z<10&&(I+="0"),I+=Z;else switch(Z!==he.CODE_STOP&&(ae=!1),Z){case he.CODE_FNC_1:i&&(I.length===0?I+="]C1":I+="");break;case he.CODE_CODE_A:d=he.CODE_CODE_A;break;case he.CODE_CODE_B:d=he.CODE_CODE_B;break;case he.CODE_STOP:w=!0;break}break}br&&(d=d===he.CODE_CODE_A?he.CODE_CODE_B:he.CODE_CODE_A)}const Un=k-R;if(k=n.getNextUnset(k),!n.isRange(k,Math.min(n.getSize(),k+(k-R)/2),!1))throw new $;if(de-=ge*H,de%103!==H)throw new Ae;const cr=I.length;if(cr===0)throw new $;cr>0&&ae&&(d===he.CODE_CODE_C?I=I.substring(0,cr-2):I=I.substring(0,cr-1));const cn=(o[1]+o[0])/2,Tt=R+Un/2,Kt=f.length,Mn=new Uint8Array(Kt);for(let br=0;br<Kt;br++)Mn[br]=f[br];const Kr=[new ie(cn,e),new ie(Tt,e)];return new Ne(I,Mn,0,Kr,Y.CODE_128,new Date().getTime())}}he.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],he.MAX_AVG_VARIANCE=.25,he.MAX_INDIVIDUAL_VARIANCE=.7,he.CODE_SHIFT=98,he.CODE_CODE_C=99,he.CODE_CODE_B=100,he.CODE_CODE_A=101,he.CODE_FNC_1=102,he.CODE_FNC_2=97,he.CODE_FNC_3=96,he.CODE_FNC_4_A=101,he.CODE_FNC_4_B=100,he.CODE_START_A=103,he.CODE_START_B=104,he.CODE_START_C=105,he.CODE_STOP=106;class Ht extends Mt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,r){let i=this.counters;i.fill(0),this.decodeRowResult="";let o=Ht.findAsteriskPattern(n,i),a=n.getNextSet(o[1]),u=n.getSize(),f,d;do{Ht.recordPattern(n,a,i);let L=Ht.toNarrowWidePattern(i);if(L<0)throw new $;f=Ht.patternToChar(L),this.decodeRowResult+=f,d=a;for(let H of i)a+=H;a=n.getNextSet(a)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let L of i)w+=L;let A=a-d-w;if(a!==u&&A*2<w)throw new $;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,H=0;for(let Z=0;Z<L;Z++)H+=Ht.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Z));if(this.decodeRowResult.charAt(L)!==Ht.ALPHABET_STRING.charAt(H%43))throw new Ae;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new $;let I;this.extendedMode?I=Ht.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let R=(o[1]+o[0])/2,k=d+w/2;return new Ne(I,null,0,[new ie(R,e),new ie(k,e)],Y.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let r=e.getSize(),i=e.getNextSet(0),o=0,a=i,u=!1,f=n.length;for(let d=i;d<r;d++)if(e.get(d)!==u)n[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(n)===Ht.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((d-a)/2)),a,!1))return[a,d];a+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,u=!u}throw new $}static toNarrowWidePattern(e){let n=e.length,r=0,i;do{let o=2147483647;for(let f of e)f<o&&f>r&&(o=f);r=o,i=0;let a=0,u=0;for(let f=0;f<n;f++){let d=e[f];d>r&&(u|=1<<n-1-f,i++,a+=d)}if(i===3){for(let f=0;f<n&&i>0;f++){let d=e[f];if(d>r&&(i--,d*2>=a))return-1}return u}}while(i>3);return-1}static patternToChar(e){for(let n=0;n<Ht.CHARACTER_ENCODINGS.length;n++)if(Ht.CHARACTER_ENCODINGS[n]===e)return Ht.ALPHABET_STRING.charAt(n);if(e===Ht.ASTERISK_ENCODING)return"*";throw new $}static decodeExtended(e){let n=e.length,r="";for(let i=0;i<n;i++){let o=e.charAt(i);if(o==="+"||o==="$"||o==="%"||o==="/"){let a=e.charAt(i+1),u="\0";switch(o){case"+":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)+32);else throw new se;break;case"$":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)-64);else throw new se;break;case"%":if(a>="A"&&a<="E")u=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")u=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")u=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")u="\0";else if(a==="V")u="@";else if(a==="W")u="`";else if(a==="X"||a==="Y"||a==="Z")u="";else throw new se;break;case"/":if(a>="A"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")u=":";else throw new se;break}r+=u,i++}else r+=o}return r}}Ht.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ht.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ht.ASTERISK_ENCODING=148;class mt extends Mt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,r){let i=this.decodeStart(n),o=this.decodeEnd(n),a=new Xe;mt.decodeMiddle(n,i[1],o[0],a);let u=a.toString(),f=null;r!=null&&(f=r.get(Ge.ALLOWED_LENGTHS)),f==null&&(f=mt.DEFAULT_ALLOWED_LENGTHS);let d=u.length,w=!1,A=0;for(let k of f){if(d===k){w=!0;break}k>A&&(A=k)}if(!w&&d>A&&(w=!0),!w)throw new se;const I=[new ie(i[1],e),new ie(o[0],e)];return new Ne(u,null,0,I,Y.ITF,new Date().getTime())}static decodeMiddle(e,n,r,i){let o=new Int32Array(10),a=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),a.fill(0),u.fill(0);n<r;){Mt.recordPattern(e,n,o);for(let d=0;d<5;d++){let w=2*d;a[d]=o[w],u[d]=o[w+1]}let f=mt.decodeDigit(a);i.append(f.toString()),f=this.decodeDigit(u),i.append(f.toString()),o.forEach(function(d){n+=d})}}decodeStart(e){let n=mt.skipWhiteSpace(e),r=mt.findGuardPattern(e,n,mt.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,n){let r=this.narrowLineWidth*10;r=r<n?r:n;for(let i=n-1;r>0&&i>=0&&!e.get(i);i--)r--;if(r!==0)throw new $}static skipWhiteSpace(e){const n=e.getSize(),r=e.getNextSet(0);if(r===n)throw new $;return r}decodeEnd(e){e.reverse();try{let n=mt.skipWhiteSpace(e),r;try{r=mt.findGuardPattern(e,n,mt.END_PATTERN_REVERSED[0])}catch(o){o instanceof $&&(r=mt.findGuardPattern(e,n,mt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let i=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-i,r}finally{e.reverse()}}static findGuardPattern(e,n,r){let i=r.length,o=new Int32Array(i),a=e.getSize(),u=!1,f=0,d=n;o.fill(0);for(let w=n;w<a;w++)if(e.get(w)!==u)o[f]++;else{if(f===i-1){if(Mt.patternMatchVariance(o,r,mt.MAX_INDIVIDUAL_VARIANCE)<mt.MAX_AVG_VARIANCE)return[d,w];d+=o[0]+o[1],pe.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,u=!u}throw new $}static decodeDigit(e){let n=mt.MAX_AVG_VARIANCE,r=-1,i=mt.PATTERNS.length;for(let o=0;o<i;o++){let a=mt.PATTERNS[o],u=Mt.patternMatchVariance(e,a,mt.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,r=o):u===n&&(r=-1)}if(r>=0)return r%10;throw new $}}mt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],mt.MAX_AVG_VARIANCE=.38,mt.MAX_INDIVIDUAL_VARIANCE=.5,mt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],mt.START_PATTERN=Int32Array.from([1,1,1,1]),mt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class _t extends Mt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,r,i=0,o=Int32Array.from([0,0,0]);for(;!n;){o=Int32Array.from([0,0,0]),r=_t.findGuardPattern(e,i,!1,this.START_END_PATTERN,o);let a=r[0];i=r[1];let u=a-(i-a);u>=0&&(n=e.isRange(u,a,!1))}return r}static checkChecksum(e){return _t.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return _t.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let i=n-1;i>=0;i-=2){let o=e.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new se;r+=o}r*=3;for(let i=n-2;i>=0;i-=2){let o=e.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new se;r+=o}return(1e3-r)%10}static decodeEnd(e,n){return _t.findGuardPattern(e,n,!1,_t.START_END_PATTERN,new Int32Array(_t.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,r,i){return this.findGuardPattern(e,n,r,i,new Int32Array(i.length))}static findGuardPattern(e,n,r,i,o){let a=e.getSize();n=r?e.getNextUnset(n):e.getNextSet(n);let u=0,f=n,d=i.length,w=r;for(let A=n;A<a;A++)if(e.get(A)!==w)o[u]++;else{if(u===d-1){if(Mt.patternMatchVariance(o,i,_t.MAX_INDIVIDUAL_VARIANCE)<_t.MAX_AVG_VARIANCE)return Int32Array.from([f,A]);f+=o[0]+o[1];let I=o.slice(2,o.length-1);for(let R=0;R<u-1;R++)o[R]=I[R];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,w=!w}throw new $}static decodeDigit(e,n,r,i){this.recordPattern(e,r,n);let o=this.MAX_AVG_VARIANCE,a=-1,u=i.length;for(let f=0;f<u;f++){let d=i[f],w=Mt.patternMatchVariance(n,d,_t.MAX_INDIVIDUAL_VARIANCE);w<o&&(o=w,a=f)}if(a>=0)return a;throw new $}}_t.MAX_AVG_VARIANCE=.48,_t.MAX_INDIVIDUAL_VARIANCE=.7,_t.START_END_PATTERN=Int32Array.from([1,1,1]),_t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),_t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Kn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),a=i.toString(),u=Kn.parseExtensionString(a),f=[new ie((r[0]+r[1])/2,e),new ie(o,e)],d=new Ne(a,null,0,f,Y.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d}decodeMiddle(e,n,r){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),a=n[1],u=0;for(let d=0;d<5&&a<o;d++){let w=_t.decodeDigit(e,i,a,_t.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let A of i)a+=A;w>=10&&(u|=1<<4-d),d!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==5)throw new $;let f=this.determineCheckDigit(u);if(Kn.extensionChecksum(r.toString())!==f)throw new $;return a}static extensionChecksum(e){let n=e.length,r=0;for(let i=n-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(let i=n-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new $}static parseExtensionString(e){if(e.length!==5)return null;let n=Kn.parseExtension5String(e);return n==null?null:new Map([[ke.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let r=parseInt(e.substring(1)),i=(r/100).toString(),o=r%100,a=o<10?"0"+o:o.toString();return n+i+"."+a}}class xr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),a=i.toString(),u=xr.parseExtensionString(a),f=[new ie((r[0]+r[1])/2,e),new ie(o,e)],d=new Ne(a,null,0,f,Y.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d}decodeMiddle(e,n,r){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),a=n[1],u=0;for(let f=0;f<2&&a<o;f++){let d=_t.decodeDigit(e,i,a,_t.L_AND_G_PATTERNS);r+=String.fromCharCode(48+d%10);for(let w of i)a+=w;d>=10&&(u|=1<<1-f),f!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==2)throw new $;if(parseInt(r.toString())%4!==u)throw new $;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[ke.ISSUE_NUMBER,parseInt(e)]])}}class Lr{static decodeRow(e,n,r){let i=_t.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Kn().decodeRow(e,n,i)}catch{return new xr().decodeRow(e,n,i)}}}Lr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class M extends _t{constructor(){super(),this.decodeRowStringBuffer="",M.L_AND_G_PATTERNS=M.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=M.L_PATTERNS[e-10],r=new Int32Array(n.length);for(let i=0;i<n.length;i++)r[i]=n[n.length-i-1];M.L_AND_G_PATTERNS[e]=r}}decodeRow(e,n,r){let i=M.findStartGuardPattern(n),o=r==null?null:r.get(Ge.NEED_RESULT_POINT_CALLBACK);if(o!=null){const ae=new ie((i[0]+i[1])/2,e);o.foundPossibleResultPoint(ae)}let a=this.decodeMiddle(n,i,this.decodeRowStringBuffer),u=a.rowOffset,f=a.resultString;if(o!=null){const ae=new ie(u,e);o.foundPossibleResultPoint(ae)}let d=this.decodeEnd(n,u);if(o!=null){const ae=new ie((d[0]+d[1])/2,e);o.foundPossibleResultPoint(ae)}let w=d[1],A=w+(w-d[0]);if(A>=n.getSize()||!n.isRange(w,A,!1))throw new $;let I=f.toString();if(I.length<8)throw new se;if(!M.checkChecksum(I))throw new Ae;let R=(i[1]+i[0])/2,k=(d[1]+d[0])/2,L=this.getBarcodeFormat(),H=[new ie(R,e),new ie(k,e)],Z=new Ne(I,null,0,H,L,new Date().getTime()),de=0;try{let ae=Lr.decodeRow(e,n,d[1]);Z.putMetadata(ke.UPC_EAN_EXTENSION,ae.getText()),Z.putAllMetadata(ae.getResultMetadata()),Z.addResultPoints(ae.getResultPoints()),de=ae.getText().length}catch{}let ge=r==null?null:r.get(Ge.ALLOWED_EAN_EXTENSIONS);if(ge!=null){let ae=!1;for(let ft in ge)if(de.toString()===ft){ae=!0;break}if(!ae)throw new $}return Z}decodeEnd(e,n){return M.findGuardPattern(e,n,!1,M.START_END_PATTERN,new Int32Array(M.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return M.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return M.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let i=n-1;i>=0;i-=2){let o=e.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new se;r+=o}r*=3;for(let i=n-2;i>=0;i-=2){let o=e.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new se;r+=o}return(1e3-r)%10}}class ce extends M{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),a=n[1],u=0;for(let d=0;d<6&&a<o;d++){let w=M.decodeDigit(e,i,a,M.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let A of i)a+=A;w>=10&&(u|=1<<5-d)}r=ce.determineFirstDigit(r,u),a=M.findGuardPattern(e,a,!0,M.MIDDLE_PATTERN,new Int32Array(M.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<6&&a<o;d++){let w=M.decodeDigit(e,i,a,M.L_PATTERNS);r+=String.fromCharCode(48+w);for(let A of i)a+=A}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return Y.EAN_13}static determineFirstDigit(e,n){for(let r=0;r<10;r++)if(n===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new $}}ce.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Re extends M{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){const i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),a=n[1];for(let f=0;f<4&&a<o;f++){let d=M.decodeDigit(e,i,a,M.L_PATTERNS);r+=String.fromCharCode(48+d);for(let w of i)a+=w}a=M.findGuardPattern(e,a,!0,M.MIDDLE_PATTERN,new Int32Array(M.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<4&&a<o;f++){let d=M.decodeDigit(e,i,a,M.L_PATTERNS);r+=String.fromCharCode(48+d);for(let w of i)a+=w}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return Y.EAN_8}}class It extends M{constructor(){super(...arguments),this.ean13Reader=new ce}getBarcodeFormat(){return Y.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,r))}decodeMiddle(e,n,r){return this.ean13Reader.decodeMiddle(e,n,r)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let r=new Ne(n.substring(1),null,null,e.getResultPoints(),Y.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new $}reset(){this.ean13Reader.reset()}}class ct extends M{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,r){const i=this.decodeMiddleCounters.map(d=>d);i[0]=0,i[1]=0,i[2]=0,i[3]=0;const o=e.getSize();let a=n[1],u=0;for(let d=0;d<6&&a<o;d++){const w=ct.decodeDigit(e,i,a,ct.L_AND_G_PATTERNS);r+=String.fromCharCode(48+w%10);for(let A of i)a+=A;w>=10&&(u|=1<<5-d)}let f=ct.determineNumSysAndCheckDigit(r,u);return{rowOffset:a,resultString:f}}decodeEnd(e,n){return ct.findGuardPatternWithoutCounters(e,n,!0,ct.MIDDLE_END_PATTERN)}checkChecksum(e){return M.checkChecksum(ct.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let r=0;r<=1;r++)for(let i=0;i<10;i++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][i]){let o=String.fromCharCode(48+r),a=String.fromCharCode(48+i);return o+e+a}throw $.getNotFoundInstance()}getBarcodeFormat(){return Y.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new Xe;r.append(e.charAt(0));let i=n[5];switch(i){case 0:case 1:case 2:r.appendChars(n,0,2),r.append(i),r.append("0000"),r.appendChars(n,2,3);break;case 3:r.appendChars(n,0,3),r.append("00000"),r.appendChars(n,3,2);break;case 4:r.appendChars(n,0,4),r.append("00000"),r.append(n[4]);break;default:r.appendChars(n,0,5),r.append("0000"),r.append(i);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}ct.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ct.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Fr extends Mt{constructor(e){super();let n=e==null?null:e.get(Ge.POSSIBLE_FORMATS),r=[];S(n)?(r.push(new ce),r.push(new It),r.push(new Re),r.push(new ct)):(n.indexOf(Y.EAN_13)>-1&&r.push(new ce),n.indexOf(Y.UPC_A)>-1&&r.push(new It),n.indexOf(Y.EAN_8)>-1&&r.push(new Re),n.indexOf(Y.UPC_E)>-1&&r.push(new ct)),this.readers=r}decodeRow(e,n,r){for(let i of this.readers)try{const o=i.decodeRow(e,n,r),a=o.getBarcodeFormat()===Y.EAN_13&&o.getText().charAt(0)==="0",u=r==null?null:r.get(Ge.POSSIBLE_FORMATS),f=u==null||u.includes(Y.UPC_A);if(a&&f){const d=o.getRawBytes(),w=new Ne(o.getText().substring(1),d,d?d.length:null,o.getResultPoints(),Y.UPC_A);return w.putAllMetadata(o.getResultMetadata()),w}return o}catch{}throw new $}reset(){for(let e of this.readers)e.reset()}}class O extends Mt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let r=0;r<n.length;r++)if(Mt.patternMatchVariance(e,n[r],O.MAX_INDIVIDUAL_VARIANCE)<O.MAX_AVG_VARIANCE)return r;throw new $}static count(e){return ut.sum(new Int32Array(e))}static increment(e,n){let r=0,i=n[0];for(let o=1;o<e.length;o++)n[o]>i&&(i=n[o],r=o);e[r]++}static decrement(e,n){let r=0,i=n[0];for(let o=1;o<e.length;o++)n[o]<i&&(i=n[o],r=o);e[r]--}static isFinderPattern(e){let n=e[0]+e[1],r=n+e[2]+e[3],i=n/r;if(i>=O.MIN_FINDER_PATTERN_RATIO&&i<=O.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let u of e)u>a&&(a=u),u<o&&(o=u);return a<10*o}return!1}}O.MAX_AVG_VARIANCE=.2,O.MAX_INDIVIDUAL_VARIANCE=.45,O.MIN_FINDER_PATTERN_RATIO=9.5/12,O.MAX_FINDER_PATTERN_RATIO=12.5/14;class J{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof J))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ee{constructor(e,n,r,i,o){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new ie(r,o)),this.resultPoints.push(new ie(i,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Ee))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class He{constructor(){}static getRSSvalue(e,n,r){let i=0;for(let f of e)i+=f;let o=0,a=0,u=e.length;for(let f=0;f<u-1;f++){let d;for(d=1,a|=1<<f;d<e[f];d++,a&=~(1<<f)){let w=He.combins(i-d-1,u-f-2);if(r&&a===0&&i-d-(u-f-1)>=u-f-1&&(w-=He.combins(i-d-(u-f),u-f-2)),u-f-1>1){let A=0;for(let I=i-d-(u-f-2);I>n;I--)A+=He.combins(i-d-I-1,u-f-3);w-=A*(u-1-f)}else i-d>n&&w--;o+=w}i-=d}return o}static combins(e,n){let r,i;e-n>n?(i=n,r=e-n):(i=e-n,r=n);let o=1,a=1;for(let u=e;u>r;u--)o*=u,a<=i&&(o/=a,a++);for(;a<=i;)o/=a,a++;return o}}class Dt{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let r=12*n,i=new Me(r),o=0,u=e[0].getRightChar().getValue();for(let f=11;f>=0;--f)(u&1<<f)!=0&&i.set(o),o++;for(let f=1;f<e.length;++f){let d=e[f],w=d.getLeftChar().getValue();for(let A=11;A>=0;--A)(w&1<<A)!=0&&i.set(o),o++;if(d.getRightChar()!=null){let A=d.getRightChar().getValue();for(let I=11;I>=0;--I)(A&1<<I)!=0&&i.set(o),o++}}return i}}class Et{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class vn{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class hn extends vn{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===hn.FNC1}}hn.FNC1="$";class mr extends vn{constructor(e,n,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class bn extends vn{constructor(e,n,r){if(super(e),n<0||n>10||r<0||r>10)throw new se;this.firstDigit=n,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===bn.FNC1}isSecondDigitFNC1(){return this.secondDigit===bn.FNC1}isAnyFNC1(){return this.firstDigit===bn.FNC1||this.secondDigit===bn.FNC1}}bn.FNC1=10;class Ie{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new $;let n=e.substring(0,2);for(let o of Ie.TWO_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(2,o[2],e):Ie.processFixedAI(2,o[1],e);if(e.length<3)throw new $;let r=e.substring(0,3);for(let o of Ie.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(3,o[2],e):Ie.processFixedAI(3,o[1],e);for(let o of Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,o[2],e):Ie.processFixedAI(4,o[1],e);if(e.length<4)throw new $;let i=e.substring(0,4);for(let o of Ie.FOUR_DIGIT_DATA_LENGTH)if(o[0]===i)return o[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,o[2],e):Ie.processFixedAI(4,o[1],e);throw new $}static processFixedAI(e,n,r){if(r.length<e)throw new $;let i=r.substring(0,e);if(r.length<e+n)throw new $;let o=r.substring(e,e+n),a=r.substring(e+n),u="("+i+")"+o,f=Ie.parseFieldsInGeneralPurpose(a);return f==null?u:u+f}static processVariableAI(e,n,r){let i=r.substring(0,e),o;r.length<e+n?o=r.length:o=e+n;let a=r.substring(e,o),u=r.substring(o),f="("+i+")"+a,d=Ie.parseFieldsInGeneralPurpose(u);return d==null?f:f+d}}Ie.VARIABLE_LENGTH=[],Ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ie.VARIABLE_LENGTH,20],["22",Ie.VARIABLE_LENGTH,29],["30",Ie.VARIABLE_LENGTH,8],["37",Ie.VARIABLE_LENGTH,8],["90",Ie.VARIABLE_LENGTH,30],["91",Ie.VARIABLE_LENGTH,30],["92",Ie.VARIABLE_LENGTH,30],["93",Ie.VARIABLE_LENGTH,30],["94",Ie.VARIABLE_LENGTH,30],["95",Ie.VARIABLE_LENGTH,30],["96",Ie.VARIABLE_LENGTH,30],["97",Ie.VARIABLE_LENGTH,3],["98",Ie.VARIABLE_LENGTH,30],["99",Ie.VARIABLE_LENGTH,30]],Ie.THREE_DIGIT_DATA_LENGTH=[["240",Ie.VARIABLE_LENGTH,30],["241",Ie.VARIABLE_LENGTH,30],["242",Ie.VARIABLE_LENGTH,6],["250",Ie.VARIABLE_LENGTH,30],["251",Ie.VARIABLE_LENGTH,30],["253",Ie.VARIABLE_LENGTH,17],["254",Ie.VARIABLE_LENGTH,20],["400",Ie.VARIABLE_LENGTH,30],["401",Ie.VARIABLE_LENGTH,30],["402",17],["403",Ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ie.VARIABLE_LENGTH,20],["421",Ie.VARIABLE_LENGTH,15],["422",3],["423",Ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ie.VARIABLE_LENGTH,15],["391",Ie.VARIABLE_LENGTH,18],["392",Ie.VARIABLE_LENGTH,15],["393",Ie.VARIABLE_LENGTH,18],["703",Ie.VARIABLE_LENGTH,30]],Ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ie.VARIABLE_LENGTH,20],["8003",Ie.VARIABLE_LENGTH,30],["8004",Ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ie.VARIABLE_LENGTH,30],["8008",Ie.VARIABLE_LENGTH,12],["8018",18],["8020",Ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ie.VARIABLE_LENGTH,70],["8200",Ie.VARIABLE_LENGTH,70]];class os{constructor(e){this.buffer=new Xe,this.information=e}decodeAllCodes(e,n){let r=n,i=null;do{let o=this.decodeGeneralPurposeField(r,i),a=Ie.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?i=""+o.getRemainingValue():i=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new bn(this.information.getSize(),bn.FNC1,bn.FNC1):new bn(this.information.getSize(),o-1,bn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),r=(n-8)/11,i=(n-8)%11;return new bn(e+7,r,i)}extractNumericValueFromBitArray(e,n){return os.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,r){let i=0;for(let o=0;o<r;++o)e.get(n+o)&&(i|=1<<r-o-1);return i}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new mr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new mr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let r=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new mr(this.current.getPosition(),this.buffer.toString()):n=new mr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Et(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new mr(this.current.getPosition(),this.buffer.toString());return new Et(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Et(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new mr(this.current.getPosition(),this.buffer.toString());return new Et(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Et(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new mr(this.current.getPosition(),this.buffer.toString());return new Et(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Et(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new hn(e+5,hn.FNC1);if(n>=5&&n<15)return new hn(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new hn(e+7,""+(r+1));if(r>=90&&r<116)return new hn(e+7,""+(r+7));let i=this.extractNumericValueFromBitArray(e,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new se}return new hn(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new hn(e+5,hn.FNC1);if(n>=5&&n<15)return new hn(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new hn(e+6,""+(r+33));let i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new on("Decoding invalid alphanumeric value: "+r)}return new hn(e+6,i)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class ki{constructor(e){this.information=e,this.generalDecoder=new os(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Fn extends ki{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,r)}encodeCompressedGtinWithoutAI(e,n,r){for(let i=0;i<4;++i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}Fn.appendCheckDigit(e,r)}static appendCheckDigit(e,n){let r=0;for(let i=0;i<13;i++){let o=e.charAt(i+n).charCodeAt(0)-48;r+=(i&1)===0?3*o:o}r=10-r%10,r===10&&(r=0),e.append(r)}}Fn.GTIN_SIZE=40;class $n extends Fn{constructor(e){super(e)}parseInformation(){let e=new Xe;e.append("(01)");let n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray($n.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,$n.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,$n.HEADER_SIZE+44)}}$n.HEADER_SIZE=4;class ks extends ki{constructor(e){super(e)}parseInformation(){let e=new Xe;return this.getGeneralDecoder().decodeAllCodes(e,ks.HEADER_SIZE)}}ks.HEADER_SIZE=5;class Ms extends Fn{constructor(e){super(e)}encodeCompressedWeight(e,n,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,r);this.addWeightCode(e,i);let o=this.checkWeight(i),a=1e5;for(let u=0;u<5;++u)o/a===0&&e.append("0"),a/=10;e.append(o)}}class wr extends Ms{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=wr.HEADER_SIZE+Ms.GTIN_SIZE+wr.WEIGHT_SIZE)throw new $;let e=new Xe;return this.encodeCompressedGtin(e,wr.HEADER_SIZE),this.encodeCompressedWeight(e,wr.HEADER_SIZE+Ms.GTIN_SIZE,wr.WEIGHT_SIZE),e.toString()}}wr.HEADER_SIZE=5,wr.WEIGHT_SIZE=15;class vo extends wr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class So extends wr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class ir extends Fn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<ir.HEADER_SIZE+Fn.GTIN_SIZE)throw new $;let e=new Xe;this.encodeCompressedGtin(e,ir.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(ir.HEADER_SIZE+Fn.GTIN_SIZE,ir.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(ir.HEADER_SIZE+Fn.GTIN_SIZE+ir.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}ir.HEADER_SIZE=8,ir.LAST_DIGIT_SIZE=2;class Sn extends Fn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Sn.HEADER_SIZE+Fn.GTIN_SIZE)throw new $;let e=new Xe;this.encodeCompressedGtin(e,Sn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+Fn.GTIN_SIZE,Sn.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+Fn.GTIN_SIZE+Sn.LAST_DIGIT_SIZE,Sn.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let i=this.getGeneralDecoder().decodeGeneralPurposeField(Sn.HEADER_SIZE+Fn.GTIN_SIZE+Sn.LAST_DIGIT_SIZE+Sn.FIRST_THREE_DIGITS_SIZE,null);return e.append(i.getNewString()),e.toString()}}Sn.HEADER_SIZE=8,Sn.LAST_DIGIT_SIZE=2,Sn.FIRST_THREE_DIGITS_SIZE=10;class Lt extends Ms{constructor(e,n,r){super(e),this.dateCode=r,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=Lt.HEADER_SIZE+Lt.GTIN_SIZE+Lt.WEIGHT_SIZE+Lt.DATE_SIZE)throw new $;let e=new Xe;return this.encodeCompressedGtin(e,Lt.HEADER_SIZE),this.encodeCompressedWeight(e,Lt.HEADER_SIZE+Lt.GTIN_SIZE,Lt.WEIGHT_SIZE),this.encodeCompressedDate(e,Lt.HEADER_SIZE+Lt.GTIN_SIZE+Lt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,Lt.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let i=r%32;r/=32;let o=r%12+1;r/=12;let a=r;a/10==0&&e.append("0"),e.append(a),o/10==0&&e.append("0"),e.append(o),i/10==0&&e.append("0"),e.append(i)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}Lt.HEADER_SIZE=8,Lt.WEIGHT_SIZE=20,Lt.DATE_SIZE=16;function No(C){try{if(C.get(1))return new $n(C);if(!C.get(2))return new ks(C);switch(os.extractNumericValueFromBitArray(C,1,4)){case 4:return new vo(C);case 5:return new So(C)}switch(os.extractNumericValueFromBitArray(C,1,5)){case 12:return new ir(C);case 13:return new Sn(C)}switch(os.extractNumericValueFromBitArray(C,1,7)){case 56:return new Lt(C,"310","11");case 57:return new Lt(C,"320","11");case 58:return new Lt(C,"310","13");case 59:return new Lt(C,"320","13");case 60:return new Lt(C,"310","15");case 61:return new Lt(C,"320","15");case 62:return new Lt(C,"310","17");case 63:return new Lt(C,"320","17")}}catch(e){throw console.log(e),new on("unknown decoder: "+C)}}class Rt{constructor(e,n,r,i){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=i}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof Rt?Rt.equalsOrNull(e.leftchar,n.leftchar)&&Rt.equalsOrNull(e.rightchar,n.rightchar)&&Rt.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:Rt.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Mi{constructor(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Mi?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let r;return e.forEach((i,o)=>{n.forEach(a=>{i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r}}class ne extends O{constructor(e){super(...arguments),this.pairs=new Array(ne.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return ne.constructResult(this.decodeRow2pairs(e,n))}catch(i){this.verbose&&console.log(i)}return this.pairs.length=0,this.startFromEven=!0,ne.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(o){if(o instanceof $){if(!this.pairs.length)throw new $;r=!0}}if(this.checkChecksum())return this.pairs;let i;if(this.rows.length?i=!0:i=!1,this.storeRow(e,!1),i){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new $}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let r=n;r<this.rows.length;r++){let i=this.rows[r];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(i.getPairs()),!ne.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(i);try{return this.checkRows(o,r+1)}catch(a){this.verbose&&console.log(a)}}throw new $}static isValidSequence(e){for(let n of ne.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let r=!0;for(let i=0;i<e.length;i++)if(e[i].getFinderPattern().getValue()!=n[i]){r=!1;break}if(r)return!0}return!1}storeRow(e,n){let r=0,i=!1,o=!1;for(;r<this.rows.length;){let a=this.rows[r];if(a.getRowNumber()>e){o=a.isEquivalent(this.pairs);break}i=a.isEquivalent(this.pairs),r++}o||i||ne.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Mi(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let r of n)if(r.getPairs().length!==e.length){for(let i of r.getPairs())for(let o of e)if(Rt.equals(i,o))break}}static isPartialRow(e,n){for(let r of n){let i=!0;for(let o of e){let a=!1;for(let u of r.getPairs())if(o.equals(u)){a=!0;break}if(!a){i=!1;break}}if(i)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=Dt.buildBitArray(e),i=No(n).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],a[0],a[1]];return new Ne(i,null,null,u,Y.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let i=r.getChecksumPortion(),o=2;for(let u=1;u<this.pairs.size();++u){let f=this.pairs.get(u);i+=f.getLeftChar().getChecksumPortion(),o++;let d=f.getRightChar();d!=null&&(i+=d.getChecksumPortion(),o++)}return i%=211,211*(o-4)+i==n.getValue()}static getNextSecondBar(e,n){let r;return e.get(n)?(r=e.getNextUnset(n),r=e.getNextSet(r)):(r=e.getNextSet(n),r=e.getNextUnset(r)),r}retrieveNextPair(e,n,r){let i=n.length%2==0;this.startFromEven&&(i=!i);let o,a=!0,u=-1;do this.findNextPair(e,n,u),o=this.parseFoundFinderPattern(e,r,i),o==null?u=ne.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let f=this.decodeDataCharacter(e,o,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new $;let d;try{d=this.decodeDataCharacter(e,o,i,!1)}catch(w){d=null,this.verbose&&console.log(w)}return new Rt(f,d,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),a;r>=0?a=r:this.isEmptyPair(n)?a=0:a=n[n.length-1].getFinderPattern().getStartEnd()[1];let u=n.length%2!=0;this.startFromEven&&(u=!u);let f=!1;for(;a<o&&(f=!e.get(a),!!f);)a++;let d=0,w=a;for(let A=a;A<o;A++)if(e.get(A)!=f)i[d]++;else{if(d==3){if(u&&ne.reverseCounters(i),ne.isFinderPattern(i)){this.startEnd[0]=w,this.startEnd[1]=A;return}u&&ne.reverseCounters(i),w+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,d--}else d++;i[d]=1,f=!f}throw new $}static reverseCounters(e){let n=e.length;for(let r=0;r<n/2;++r){let i=e[r];e[r]=e[n-r-1],e[n-r-1]=i}}parseFoundFinderPattern(e,n,r){let i,o,a;if(r){let d=this.startEnd[0]-1;for(;d>=0&&!e.get(d);)d--;d++,i=this.startEnd[0]-d,o=d,a=this.startEnd[1]}else o=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),i=a-this.startEnd[1];let u=this.getDecodeFinderCounters();pe.arraycopy(u,0,u,1,u.length-1),u[0]=i;let f;try{f=this.parseFinderValue(u,ne.FINDER_PATTERNS)}catch{return null}return new Ee(f,[o,a],o,a,n)}decodeDataCharacter(e,n,r,i){let o=this.getDataCharacterCounters();for(let Tt=0;Tt<o.length;Tt++)o[Tt]=0;if(i)ne.recordPatternInReverse(e,n.getStartEnd()[0],o);else{ne.recordPattern(e,n.getStartEnd()[1],o);for(let Tt=0,Kt=o.length-1;Tt<Kt;Tt++,Kt--){let Mn=o[Tt];o[Tt]=o[Kt],o[Kt]=Mn}}let a=17,u=ut.sum(new Int32Array(o))/a,f=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(u-f)/f>.3)throw new $;let d=this.getOddCounts(),w=this.getEvenCounts(),A=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Tt=0;Tt<o.length;Tt++){let Kt=1*o[Tt]/u,Mn=Kt+.5;if(Mn<1){if(Kt<.3)throw new $;Mn=1}else if(Mn>8){if(Kt>8.7)throw new $;Mn=8}let Kr=Tt/2;(Tt&1)==0?(d[Kr]=Mn,A[Kr]=Kt-Mn):(w[Kr]=Mn,I[Kr]=Kt-Mn)}this.adjustOddEvenCounts(a);let R=4*n.getValue()+(r?0:2)+(i?0:1)-1,k=0,L=0;for(let Tt=d.length-1;Tt>=0;Tt--){if(ne.isNotA1left(n,r,i)){let Kt=ne.WEIGHTS[R][2*Tt];L+=d[Tt]*Kt}k+=d[Tt]}let H=0;for(let Tt=w.length-1;Tt>=0;Tt--)if(ne.isNotA1left(n,r,i)){let Kt=ne.WEIGHTS[R][2*Tt+1];H+=w[Tt]*Kt}let Z=L+H;if((k&1)!=0||k>13||k<4)throw new $;let de=(13-k)/2,ge=ne.SYMBOL_WIDEST[de],ae=9-ge,ft=He.getRSSvalue(d,ge,!0),rt=He.getRSSvalue(w,ae,!1),Un=ne.EVEN_TOTAL_SUBSET[de],cr=ne.GSUM[de],cn=ft*Un+rt+cr;return new J(cn,Z)}static isNotA1left(e,n,r){return!(e.getValue()==0&&n&&r)}adjustOddEvenCounts(e){let n=ut.sum(new Int32Array(this.getOddCounts())),r=ut.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;n>13?o=!0:n<4&&(i=!0);let a=!1,u=!1;r>13?u=!0:r<4&&(a=!0);let f=n+r-e,d=(n&1)==1,w=(r&1)==0;if(f==1)if(d){if(w)throw new $;o=!0}else{if(!w)throw new $;u=!0}else if(f==-1)if(d){if(w)throw new $;i=!0}else{if(!w)throw new $;a=!0}else if(f==0){if(d){if(!w)throw new $;n<r?(i=!0,u=!0):(o=!0,a=!0)}else if(w)throw new $}else throw new $;if(i){if(o)throw new $;ne.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&ne.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(u)throw new $;ne.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&ne.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ne.SYMBOL_WIDEST=[7,5,4,3,1],ne.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ne.GSUM=[0,348,1388,2948,3988],ne.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ne.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ne.FINDER_PAT_A=0,ne.FINDER_PAT_B=1,ne.FINDER_PAT_C=2,ne.FINDER_PAT_D=3,ne.FINDER_PAT_E=4,ne.FINDER_PAT_F=5,ne.FINDER_PATTERN_SEQUENCES=[[ne.FINDER_PAT_A,ne.FINDER_PAT_A],[ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B],[ne.FINDER_PAT_A,ne.FINDER_PAT_C,ne.FINDER_PAT_B,ne.FINDER_PAT_D],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_C],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_D,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_D],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_E],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F]],ne.MAX_PAIRS=11;class Io extends J{constructor(e,n,r){super(e,n),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Pt extends O{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,r){const i=this.decodePair(n,!1,e,r);Pt.addOrTally(this.possibleLeftPairs,i),n.reverse();let o=this.decodePair(n,!0,e,r);Pt.addOrTally(this.possibleRightPairs,o),n.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&Pt.checkChecksum(a,u))return Pt.constructResult(a,u)}throw new $}static addOrTally(e,n){if(n==null)return;let r=!1;for(let i of e)if(i.getValue()===n.getValue()){i.incrementCount(),r=!0;break}r||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let r=4537077*e.getValue()+n.getValue(),i=new String(r).toString(),o=new Xe;for(let d=13-i.length;d>0;d--)o.append("0");o.append(i);let a=0;for(let d=0;d<13;d++){let w=o.charAt(d).charCodeAt(0)-48;a+=(d&1)===0?3*w:w}a=10-a%10,a===10&&(a=0),o.append(a.toString());let u=e.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Ne(o.toString(),null,0,[u[0],u[1],f[0],f[1]],Y.RSS_14,new Date().getTime())}static checkChecksum(e,n){let r=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,i=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,r===i}decodePair(e,n,r,i){try{let o=this.findFinderPattern(e,n),a=this.parseFoundFinderPattern(e,r,n,o),u=i==null?null:i.get(Ge.NEED_RESULT_POINT_CALLBACK);if(u!=null){let w=(o[0]+o[1])/2;n&&(w=e.getSize()-1-w),u.foundPossibleResultPoint(new ie(w,r))}let f=this.decodeDataCharacter(e,a,!0),d=this.decodeDataCharacter(e,a,!1);return new Io(1597*f.getValue()+d.getValue(),f.getChecksumPortion()+4*d.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,n,r){let i=this.getDataCharacterCounters();for(let H=0;H<i.length;H++)i[H]=0;if(r)Mt.recordPatternInReverse(e,n.getStartEnd()[0],i);else{Mt.recordPattern(e,n.getStartEnd()[1]+1,i);for(let H=0,Z=i.length-1;H<Z;H++,Z--){let de=i[H];i[H]=i[Z],i[Z]=de}}let o=r?16:15,a=ut.sum(new Int32Array(i))/o,u=this.getOddCounts(),f=this.getEvenCounts(),d=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let H=0;H<i.length;H++){let Z=i[H]/a,de=Math.floor(Z+.5);de<1?de=1:de>8&&(de=8);let ge=Math.floor(H/2);(H&1)===0?(u[ge]=de,d[ge]=Z-de):(f[ge]=de,w[ge]=Z-de)}this.adjustOddEvenCounts(r,o);let A=0,I=0;for(let H=u.length-1;H>=0;H--)I*=9,I+=u[H],A+=u[H];let R=0,k=0;for(let H=f.length-1;H>=0;H--)R*=9,R+=f[H],k+=f[H];let L=I+3*R;if(r){if((A&1)!==0||A>12||A<4)throw new $;let H=(12-A)/2,Z=Pt.OUTSIDE_ODD_WIDEST[H],de=9-Z,ge=He.getRSSvalue(u,Z,!1),ae=He.getRSSvalue(f,de,!0),ft=Pt.OUTSIDE_EVEN_TOTAL_SUBSET[H],rt=Pt.OUTSIDE_GSUM[H];return new J(ge*ft+ae+rt,L)}else{if((k&1)!==0||k>10||k<4)throw new $;let H=(10-k)/2,Z=Pt.INSIDE_ODD_WIDEST[H],de=9-Z,ge=He.getRSSvalue(u,Z,!0),ae=He.getRSSvalue(f,de,!1),ft=Pt.INSIDE_ODD_TOTAL_SUBSET[H],rt=Pt.INSIDE_GSUM[H];return new J(ae*ft+ge+rt,L)}}findFinderPattern(e,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),o=!1,a=0;for(;a<i&&(o=!e.get(a),n!==o);)a++;let u=0,f=a;for(let d=a;d<i;d++)if(e.get(d)!==o)r[u]++;else{if(u===3){if(O.isFinderPattern(r))return[f,d];f+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,o=!o}throw new $}parseFoundFinderPattern(e,n,r,i){let o=e.get(i[0]),a=i[0]-1;for(;a>=0&&o!==e.get(a);)a--;a++;const u=i[0]-a,f=this.getDecodeFinderCounters(),d=new Int32Array(f.length);pe.arraycopy(f,0,d,1,f.length-1),d[0]=u;const w=this.parseFinderValue(d,Pt.FINDER_PATTERNS);let A=a,I=i[1];return r&&(A=e.getSize()-1-A,I=e.getSize()-1-I),new Ee(w,[a,i[1]],A,I,n)}adjustOddEvenCounts(e,n){let r=ut.sum(new Int32Array(this.getOddCounts())),i=ut.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1,u=!1,f=!1;e?(r>12?a=!0:r<4&&(o=!0),i>12?f=!0:i<4&&(u=!0)):(r>11?a=!0:r<5&&(o=!0),i>10?f=!0:i<4&&(u=!0));let d=r+i-n,w=(r&1)===(e?1:0),A=(i&1)===1;if(d===1)if(w){if(A)throw new $;a=!0}else{if(!A)throw new $;f=!0}else if(d===-1)if(w){if(A)throw new $;o=!0}else{if(!A)throw new $;u=!0}else if(d===0){if(w){if(!A)throw new $;r<i?(o=!0,f=!0):(a=!0,u=!0)}else if(A)throw new $}else throw new $;if(o){if(a)throw new $;O.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&O.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new $;O.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&O.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Pt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Pt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Pt.OUTSIDE_GSUM=[0,161,961,2015,2715],Pt.INSIDE_GSUM=[0,336,1036,1516],Pt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Pt.INSIDE_ODD_WIDEST=[2,4,6,8],Pt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class as extends Mt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const r=e?e.get(Ge.POSSIBLE_FORMATS):null,i=e&&e.get(Ge.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(Y.EAN_13)||r.includes(Y.UPC_A)||r.includes(Y.EAN_8)||r.includes(Y.UPC_E))&&this.readers.push(new Fr(e)),r.includes(Y.CODE_39)&&this.readers.push(new Ht(i)),r.includes(Y.CODE_128)&&this.readers.push(new he),r.includes(Y.ITF)&&this.readers.push(new mt),r.includes(Y.RSS_14)&&this.readers.push(new Pt),r.includes(Y.RSS_EXPANDED)&&this.readers.push(new ne(this.verbose))):(this.readers.push(new Fr(e)),this.readers.push(new Ht),this.readers.push(new Fr(e)),this.readers.push(new he),this.readers.push(new mt),this.readers.push(new Pt),this.readers.push(new ne(this.verbose)))}decodeRow(e,n,r){for(let i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(e,n,r)}catch{}throw new $}reset(){this.readers.forEach(e=>e.reset())}}class To extends Se{constructor(e=500,n){super(new as(n),e,n)}}class wt{constructor(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class at{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class gt{constructor(e,n,r,i,o,a){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=a;let u=0;const f=a.getECCodewords(),d=a.getECBlocks();for(let w of d)u+=w.getCount()*(w.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if((e&1)!==0||(n&1)!==0)throw new se;for(let r of gt.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===n)return r;throw new se}toString(){return""+this.versionNumber}static buildVersions(){return[new gt(1,10,10,8,8,new wt(5,new at(1,3))),new gt(2,12,12,10,10,new wt(7,new at(1,5))),new gt(3,14,14,12,12,new wt(10,new at(1,8))),new gt(4,16,16,14,14,new wt(12,new at(1,12))),new gt(5,18,18,16,16,new wt(14,new at(1,18))),new gt(6,20,20,18,18,new wt(18,new at(1,22))),new gt(7,22,22,20,20,new wt(20,new at(1,30))),new gt(8,24,24,22,22,new wt(24,new at(1,36))),new gt(9,26,26,24,24,new wt(28,new at(1,44))),new gt(10,32,32,14,14,new wt(36,new at(1,62))),new gt(11,36,36,16,16,new wt(42,new at(1,86))),new gt(12,40,40,18,18,new wt(48,new at(1,114))),new gt(13,44,44,20,20,new wt(56,new at(1,144))),new gt(14,48,48,22,22,new wt(68,new at(1,174))),new gt(15,52,52,24,24,new wt(42,new at(2,102))),new gt(16,64,64,14,14,new wt(56,new at(2,140))),new gt(17,72,72,16,16,new wt(36,new at(4,92))),new gt(18,80,80,18,18,new wt(48,new at(4,114))),new gt(19,88,88,20,20,new wt(56,new at(4,144))),new gt(20,96,96,22,22,new wt(68,new at(4,174))),new gt(21,104,104,24,24,new wt(56,new at(6,136))),new gt(22,120,120,18,18,new wt(68,new at(6,175))),new gt(23,132,132,20,20,new wt(62,new at(8,163))),new gt(24,144,144,22,22,new wt(62,new at(8,156),new at(2,155))),new gt(25,8,18,6,16,new wt(7,new at(1,5))),new gt(26,8,32,6,14,new wt(11,new at(1,10))),new gt(27,12,26,10,24,new wt(14,new at(1,16))),new gt(28,12,36,10,16,new wt(18,new at(1,22))),new gt(29,16,36,14,16,new wt(24,new at(1,32))),new gt(30,16,48,14,22,new wt(28,new at(1,49)))]}}gt.VERSIONS=gt.buildVersions();class Yn{constructor(e){const n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new se;this.version=Yn.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Ze(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),r=e.getWidth();return gt.getVersionForDimensions(n,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,r=4,i=0;const o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let u=!1,f=!1,d=!1,w=!1;do if(r===o&&i===0&&!u)e[n++]=this.readCorner1(o,a)&255,r-=2,i+=2,u=!0;else if(r===o-2&&i===0&&(a&3)!==0&&!f)e[n++]=this.readCorner2(o,a)&255,r-=2,i+=2,f=!0;else if(r===o+4&&i===2&&(a&7)===0&&!d)e[n++]=this.readCorner3(o,a)&255,r-=2,i+=2,d=!0;else if(r===o-2&&i===0&&(a&7)===4&&!w)e[n++]=this.readCorner4(o,a)&255,r-=2,i+=2,w=!0;else{do r<o&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,o,a)&255),r-=2,i+=2;while(r>=0&&i<a);r+=1,i+=3;do r>=0&&i<a&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,o,a)&255),r+=2,i-=2;while(r<o&&i>=0);r+=3,i+=1}while(r<o||i<a);if(n!==this.version.getTotalCodewords())throw new se;return e}readModule(e,n,r,i){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,r,i){let o=0;return this.readModule(e-2,n-2,r,i)&&(o|=1),o<<=1,this.readModule(e-2,n-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,n-2,r,i)&&(o|=1),o<<=1,this.readModule(e-1,n-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,n,r,i)&&(o|=1),o<<=1,this.readModule(e,n-2,r,i)&&(o|=1),o<<=1,this.readModule(e,n-1,r,i)&&(o|=1),o<<=1,this.readModule(e,n,r,i)&&(o|=1),o}readCorner1(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}readCorner2(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner3(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner4(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new F("Dimension of bitMatrix must match the version size");const i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=n/i|0,u=r/o|0,f=a*i,d=u*o,w=new Ze(d,f);for(let A=0;A<a;++A){const I=A*i;for(let R=0;R<u;++R){const k=R*o;for(let L=0;L<i;++L){const H=A*(i+2)+1+L,Z=I+L;for(let de=0;de<o;++de){const ge=R*(o+2)+1+de;if(e.get(ge,H)){const ae=k+de;w.set(ae,Z)}}}}}return w}}class Pi{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const r=n.getECBlocks();let i=0;const o=r.getECBlocks();for(let L of o)i+=L.getCount();const a=new Array(i);let u=0;for(let L of o)for(let H=0;H<L.getCount();H++){const Z=L.getDataCodewords(),de=r.getECCodewords()+Z;a[u++]=new Pi(Z,new Uint8Array(de))}const d=a[0].codewords.length-r.getECCodewords(),w=d-1;let A=0;for(let L=0;L<w;L++)for(let H=0;H<u;H++)a[H].codewords[L]=e[A++];const I=n.getVersionNumber()===24,R=I?8:u;for(let L=0;L<R;L++)a[L].codewords[d-1]=e[A++];const k=a[0].codewords.length;for(let L=d;L<k;L++)for(let H=0;H<u;H++){const Z=I?(H+8)%u:H,de=I&&Z>7?L-1:L;a[Z].codewords[de]=e[A++]}if(A!==e.length)throw new F;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Bi{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new F(""+e);let n=0,r=this.bitOffset,i=this.byteOffset;const o=this.bytes;if(r>0){const a=8-r,u=e<a?e:a,f=a-u,d=255>>8-u<<f;n=(o[i]&d)>>f,e-=u,r+=u,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)n=n<<8|o[i]&255,i++,e-=8;if(e>0){const a=8-e,u=255>>a<<a;n=n<<e|(o[i]&u)>>a,r+=e}}return this.bitOffset=r,this.byteOffset=i,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ln;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(ln||(ln={}));class or{static decode(e){const n=new Bi(e),r=new Xe,i=new Xe,o=new Array;let a=ln.ASCII_ENCODE;do if(a===ln.ASCII_ENCODE)a=this.decodeAsciiSegment(n,r,i);else{switch(a){case ln.C40_ENCODE:this.decodeC40Segment(n,r);break;case ln.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case ln.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case ln.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case ln.BASE256_ENCODE:this.decodeBase256Segment(n,r,o);break;default:throw new se}a=ln.ASCII_ENCODE}while(a!==ln.PAD_ENCODE&&n.available()>0);return i.length()>0&&r.append(i.toString()),new Oe(e,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,n,r){let i=!1;do{let o=e.readBits(8);if(o===0)throw new se;if(o<=128)return i&&(o+=128),n.append(String.fromCharCode(o-1)),ln.ASCII_ENCODE;if(o===129)return ln.PAD_ENCODE;if(o<=229){const a=o-130;a<10&&n.append("0"),n.append(""+a)}else switch(o){case 230:return ln.C40_ENCODE;case 231:return ln.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return ln.ANSIX12_ENCODE;case 239:return ln.TEXT_ENCODE;case 240:return ln.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new se;break}}while(e.available()>0);return ln.ASCII_ENCODE}static decodeC40Segment(e,n){let r=!1;const i=[];let o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(let u=0;u<3;u++){const f=i[u];switch(o){case 0:if(f<3)o=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){const d=this.C40_BASIC_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else throw new se;break;case 1:r?(n.append(String.fromCharCode(f+128)),r=!1):n.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){const d=this.C40_SHIFT2_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else switch(f){case 27:n.append("");break;case 30:r=!0;break;default:throw new se}o=0;break;case 3:r?(n.append(String.fromCharCode(f+224)),r=!1):n.append(String.fromCharCode(f+96)),o=0;break;default:throw new se}}}while(e.available()>0)}static decodeTextSegment(e,n){let r=!1,i=[],o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(let u=0;u<3;u++){const f=i[u];switch(o){case 0:if(f<3)o=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){const d=this.TEXT_BASIC_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else throw new se;break;case 1:r?(n.append(String.fromCharCode(f+128)),r=!1):n.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){const d=this.TEXT_SHIFT2_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else switch(f){case 27:n.append("");break;case 30:r=!0;break;default:throw new se}o=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){const d=this.TEXT_SHIFT3_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d),o=0}else throw new se;break;default:throw new se}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const r=[];do{if(e.available()===8)return;const i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(let o=0;o<3;o++){const a=r[o];switch(a){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(a<14)n.append(String.fromCharCode(a+44));else if(a<40)n.append(String.fromCharCode(a+51));else throw new se;break}}}while(e.available()>0)}static parseTwoBytes(e,n,r){let i=(e<<8)+n-1,o=Math.floor(i/1600);r[0]=o,i-=o*1600,o=Math.floor(i/40),r[1]=o,r[2]=i-o*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let i=e.readBits(6);if(i===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(i&32)===0&&(i|=64),n.append(String.fromCharCode(i))}}while(e.available()>0)}static decodeBase256Segment(e,n,r){let i=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),i++);let a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),i++),a<0)throw new se;const u=new Uint8Array(a);for(let f=0;f<a;f++){if(e.available()<8)throw new se;u[f]=this.unrandomize255State(e.readBits(8),i++)}r.push(u);try{n.append(yt.decode(u,Be.ISO88591))}catch(f){throw new on("Platform does not support required encoding: "+f.message)}}static unrandomize255State(e,n){const r=149*n%255+1,i=e-r;return i>=0?i:i+256}}or.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],or.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],or.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],or.TEXT_SHIFT2_SET_CHARS=or.C40_SHIFT2_SET_CHARS,or.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ii{constructor(){this.rsDecoder=new Ln(ot.DATA_MATRIX_FIELD_256)}decode(e){const n=new Yn(e),r=n.getVersion(),i=n.readCodewords(),o=Pi.getDataBlocks(i,r);let a=0;for(let d of o)a+=d.getNumDataCodewords();const u=new Uint8Array(a),f=o.length;for(let d=0;d<f;d++){const w=o[d],A=w.getCodewords(),I=w.getNumDataCodewords();this.correctErrors(A,I);for(let R=0;R<I;R++)u[R*f+d]=A[R]}return or.decode(u)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new Ae}for(let i=0;i<n;i++)e[i]=r[i]}}class Bt{constructor(e){this.image=e,this.rectangleDetector=new Xt(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new $;n=this.shiftToModuleCenter(n);const r=n[0],i=n[1],o=n[2],a=n[3];let u=this.transitionsBetween(r,a)+1,f=this.transitionsBetween(o,a)+1;(u&1)===1&&(u+=1),(f&1)===1&&(f+=1),4*u<7*f&&4*f<7*u&&(u=f=Math.max(u,f));let d=Bt.sampleGrid(this.image,r,i,o,a,u,f);return new Rn(d,[r,i,o,a])}static shiftPoint(e,n,r){let i=(n.getX()-e.getX())/(r+1),o=(n.getY()-e.getY())/(r+1);return new ie(e.getX()+i,e.getY()+o)}static moveAway(e,n,r){let i=e.getX(),o=e.getY();return i<n?i-=1:i+=1,o<r?o-=1:o+=1,new ie(i,o)}detectSolid1(e){let n=e[0],r=e[1],i=e[3],o=e[2],a=this.transitionsBetween(n,r),u=this.transitionsBetween(r,i),f=this.transitionsBetween(i,o),d=this.transitionsBetween(o,n),w=a,A=[o,n,r,i];return w>u&&(w=u,A[0]=n,A[1]=r,A[2]=i,A[3]=o),w>f&&(w=f,A[0]=r,A[1]=i,A[2]=o,A[3]=n),w>d&&(A[0]=i,A[1]=o,A[2]=n,A[3]=r),A}detectSolid2(e){let n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o),u=Bt.shiftPoint(r,i,(a+1)*4),f=Bt.shiftPoint(i,r,(a+1)*4),d=this.transitionsBetween(u,n),w=this.transitionsBetween(f,o);return d<w?(e[0]=n,e[1]=r,e[2]=i,e[3]=o):(e[0]=r,e[1]=i,e[2]=o,e[3]=n),e}correctTopRight(e){let n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o),u=this.transitionsBetween(r,o),f=Bt.shiftPoint(n,r,(u+1)*4),d=Bt.shiftPoint(i,r,(a+1)*4);a=this.transitionsBetween(f,o),u=this.transitionsBetween(d,o);let w=new ie(o.getX()+(i.getX()-r.getX())/(a+1),o.getY()+(i.getY()-r.getY())/(a+1)),A=new ie(o.getX()+(n.getX()-r.getX())/(u+1),o.getY()+(n.getY()-r.getY())/(u+1));if(!this.isValid(w))return this.isValid(A)?A:null;if(!this.isValid(A))return w;let I=this.transitionsBetween(f,w)+this.transitionsBetween(d,w),R=this.transitionsBetween(f,A)+this.transitionsBetween(d,A);return I>R?w:A}shiftToModuleCenter(e){let n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o)+1,u=this.transitionsBetween(i,o)+1,f=Bt.shiftPoint(n,r,u*4),d=Bt.shiftPoint(i,r,a*4);a=this.transitionsBetween(f,o)+1,u=this.transitionsBetween(d,o)+1,(a&1)===1&&(a+=1),(u&1)===1&&(u+=1);let w=(n.getX()+r.getX()+i.getX()+o.getX())/4,A=(n.getY()+r.getY()+i.getY()+o.getY())/4;n=Bt.moveAway(n,w,A),r=Bt.moveAway(r,w,A),i=Bt.moveAway(i,w,A),o=Bt.moveAway(o,w,A);let I,R;return f=Bt.shiftPoint(n,r,u*4),f=Bt.shiftPoint(f,o,a*4),I=Bt.shiftPoint(r,n,u*4),I=Bt.shiftPoint(I,i,a*4),d=Bt.shiftPoint(i,o,u*4),d=Bt.shiftPoint(d,r,a*4),R=Bt.shiftPoint(o,i,u*4),R=Bt.shiftPoint(R,n,a*4),[f,I,d,R]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,r,i,o,a,u){return On.getInstance().sampleGrid(e,a,u,.5,.5,a-.5,.5,a-.5,u-.5,.5,u-.5,n.getX(),n.getY(),o.getX(),o.getY(),i.getX(),i.getY(),r.getX(),r.getY())}transitionsBetween(e,n){let r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(n.getX()),a=Math.trunc(n.getY()),u=Math.abs(a-i)>Math.abs(o-r);if(u){let L=r;r=i,i=L,L=o,o=a,a=L}let f=Math.abs(o-r),d=Math.abs(a-i),w=-f/2,A=i<a?1:-1,I=r<o?1:-1,R=0,k=this.image.get(u?i:r,u?r:i);for(let L=r,H=i;L!==o;L+=I){let Z=this.image.get(u?H:L,u?L:H);if(Z!==k&&(R++,k=Z),w+=d,w>0){if(H===a)break;H+=A,w-=f}}return R}}class ar{constructor(){this.decoder=new ii}decode(e,n=null){let r,i;if(n!=null&&n.has(Ge.PURE_BARCODE)){const d=ar.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(d),i=ar.NO_POINTS}else{const d=new Bt(e.getBlackMatrix()).detect();r=this.decoder.decode(d.getBits()),i=d.getPoints()}const o=r.getRawBytes(),a=new Ne(r.getText(),o,8*o.length,i,Y.DATA_MATRIX,pe.currentTimeMillis()),u=r.getByteSegments();u!=null&&a.putMetadata(ke.BYTE_SEGMENTS,u);const f=r.getECLevel();return f!=null&&a.putMetadata(ke.ERROR_CORRECTION_LEVEL,f),a}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new $;const i=this.moduleSize(n,e);let o=n[1];const a=r[1];let u=n[0];const d=(r[0]-u+1)/i,w=(a-o+1)/i;if(d<=0||w<=0)throw new $;const A=i/2;o+=A,u+=A;const I=new Ze(d,w);for(let R=0;R<w;R++){const k=o+R*i;for(let L=0;L<d;L++)e.get(u+L*i,k)&&I.set(L,R)}return I}static moduleSize(e,n){const r=n.getWidth();let i=e[0];const o=e[1];for(;i<r&&n.get(i,o);)i++;if(i===r)throw new $;const a=i-e[0];if(a===0)throw new $;return a}}ar.NO_POINTS=[];class Ba extends Se{constructor(e=500){super(new ar,e)}}var ls;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(ls||(ls={}));class Ot{constructor(e,n,r){this.value=e,this.stringValue=n,this.bits=r,Ot.FOR_BITS.set(r,this),Ot.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Ot.L;case"M":return Ot.M;case"Q":return Ot.Q;case"H":return Ot.H;default:throw new z(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Ot))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=Ot.FOR_BITS.size)throw new F;return Ot.FOR_BITS.get(e)}}Ot.FOR_BITS=new Map,Ot.FOR_VALUE=new Map,Ot.L=new Ot(ls.L,"L",1),Ot.M=new Ot(ls.M,"M",0),Ot.Q=new Ot(ls.Q,"Q",3),Ot.H=new Ot(ls.H,"H",2);class mn{constructor(e){this.errorCorrectionLevel=Ot.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return Ce.bitCount(e^n)}static decodeFormatInformation(e,n){const r=mn.doDecodeFormatInformation(e,n);return r!==null?r:mn.doDecodeFormatInformation(e^mn.FORMAT_INFO_MASK_QR,n^mn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let r=Number.MAX_SAFE_INTEGER,i=0;for(const o of mn.FORMAT_INFO_DECODE_LOOKUP){const a=o[0];if(a===e||a===n)return new mn(o[1]);let u=mn.numBitsDiffering(e,a);u<r&&(i=o[1],r=u),e!==n&&(u=mn.numBitsDiffering(n,a),u<r&&(i=o[1],r=u))}return r<=3?new mn(i):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof mn))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}mn.FORMAT_INFO_MASK_QR=21522,mn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class W{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const r of n)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ve{constructor(e,n,...r){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=r;let i=0;const o=r[0].getECCodewordsPerBlock(),a=r[0].getECBlocks();for(const u of a)i+=u.getCount()*(u.getDataCodewords()+o);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new se;try{return this.getVersionForNumber((e-17)/4)}catch{throw new se}}static getVersionForNumber(e){if(e<1||e>40)throw new F;return Ve.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,r=0;for(let i=0;i<Ve.VERSION_DECODE_INFO.length;i++){const o=Ve.VERSION_DECODE_INFO[i];if(o===e)return Ve.getVersionForNumber(i+7);const a=mn.numBitsDiffering(e,o);a<n&&(r=i+7,n=a)}return n<=3?Ve.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new Ze(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let i=0;i<r;i++){const o=this.alignmentPatternCenters[i]-2;for(let a=0;a<r;a++)i===0&&(a===0||a===r-1)||i===r-1&&a===0||n.setRegion(this.alignmentPatternCenters[a]-2,o,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Ve.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ve.VERSIONS=[new Ve(1,new Int32Array(0),new W(7,new _(1,19)),new W(10,new _(1,16)),new W(13,new _(1,13)),new W(17,new _(1,9))),new Ve(2,Int32Array.from([6,18]),new W(10,new _(1,34)),new W(16,new _(1,28)),new W(22,new _(1,22)),new W(28,new _(1,16))),new Ve(3,Int32Array.from([6,22]),new W(15,new _(1,55)),new W(26,new _(1,44)),new W(18,new _(2,17)),new W(22,new _(2,13))),new Ve(4,Int32Array.from([6,26]),new W(20,new _(1,80)),new W(18,new _(2,32)),new W(26,new _(2,24)),new W(16,new _(4,9))),new Ve(5,Int32Array.from([6,30]),new W(26,new _(1,108)),new W(24,new _(2,43)),new W(18,new _(2,15),new _(2,16)),new W(22,new _(2,11),new _(2,12))),new Ve(6,Int32Array.from([6,34]),new W(18,new _(2,68)),new W(16,new _(4,27)),new W(24,new _(4,19)),new W(28,new _(4,15))),new Ve(7,Int32Array.from([6,22,38]),new W(20,new _(2,78)),new W(18,new _(4,31)),new W(18,new _(2,14),new _(4,15)),new W(26,new _(4,13),new _(1,14))),new Ve(8,Int32Array.from([6,24,42]),new W(24,new _(2,97)),new W(22,new _(2,38),new _(2,39)),new W(22,new _(4,18),new _(2,19)),new W(26,new _(4,14),new _(2,15))),new Ve(9,Int32Array.from([6,26,46]),new W(30,new _(2,116)),new W(22,new _(3,36),new _(2,37)),new W(20,new _(4,16),new _(4,17)),new W(24,new _(4,12),new _(4,13))),new Ve(10,Int32Array.from([6,28,50]),new W(18,new _(2,68),new _(2,69)),new W(26,new _(4,43),new _(1,44)),new W(24,new _(6,19),new _(2,20)),new W(28,new _(6,15),new _(2,16))),new Ve(11,Int32Array.from([6,30,54]),new W(20,new _(4,81)),new W(30,new _(1,50),new _(4,51)),new W(28,new _(4,22),new _(4,23)),new W(24,new _(3,12),new _(8,13))),new Ve(12,Int32Array.from([6,32,58]),new W(24,new _(2,92),new _(2,93)),new W(22,new _(6,36),new _(2,37)),new W(26,new _(4,20),new _(6,21)),new W(28,new _(7,14),new _(4,15))),new Ve(13,Int32Array.from([6,34,62]),new W(26,new _(4,107)),new W(22,new _(8,37),new _(1,38)),new W(24,new _(8,20),new _(4,21)),new W(22,new _(12,11),new _(4,12))),new Ve(14,Int32Array.from([6,26,46,66]),new W(30,new _(3,115),new _(1,116)),new W(24,new _(4,40),new _(5,41)),new W(20,new _(11,16),new _(5,17)),new W(24,new _(11,12),new _(5,13))),new Ve(15,Int32Array.from([6,26,48,70]),new W(22,new _(5,87),new _(1,88)),new W(24,new _(5,41),new _(5,42)),new W(30,new _(5,24),new _(7,25)),new W(24,new _(11,12),new _(7,13))),new Ve(16,Int32Array.from([6,26,50,74]),new W(24,new _(5,98),new _(1,99)),new W(28,new _(7,45),new _(3,46)),new W(24,new _(15,19),new _(2,20)),new W(30,new _(3,15),new _(13,16))),new Ve(17,Int32Array.from([6,30,54,78]),new W(28,new _(1,107),new _(5,108)),new W(28,new _(10,46),new _(1,47)),new W(28,new _(1,22),new _(15,23)),new W(28,new _(2,14),new _(17,15))),new Ve(18,Int32Array.from([6,30,56,82]),new W(30,new _(5,120),new _(1,121)),new W(26,new _(9,43),new _(4,44)),new W(28,new _(17,22),new _(1,23)),new W(28,new _(2,14),new _(19,15))),new Ve(19,Int32Array.from([6,30,58,86]),new W(28,new _(3,113),new _(4,114)),new W(26,new _(3,44),new _(11,45)),new W(26,new _(17,21),new _(4,22)),new W(26,new _(9,13),new _(16,14))),new Ve(20,Int32Array.from([6,34,62,90]),new W(28,new _(3,107),new _(5,108)),new W(26,new _(3,41),new _(13,42)),new W(30,new _(15,24),new _(5,25)),new W(28,new _(15,15),new _(10,16))),new Ve(21,Int32Array.from([6,28,50,72,94]),new W(28,new _(4,116),new _(4,117)),new W(26,new _(17,42)),new W(28,new _(17,22),new _(6,23)),new W(30,new _(19,16),new _(6,17))),new Ve(22,Int32Array.from([6,26,50,74,98]),new W(28,new _(2,111),new _(7,112)),new W(28,new _(17,46)),new W(30,new _(7,24),new _(16,25)),new W(24,new _(34,13))),new Ve(23,Int32Array.from([6,30,54,78,102]),new W(30,new _(4,121),new _(5,122)),new W(28,new _(4,47),new _(14,48)),new W(30,new _(11,24),new _(14,25)),new W(30,new _(16,15),new _(14,16))),new Ve(24,Int32Array.from([6,28,54,80,106]),new W(30,new _(6,117),new _(4,118)),new W(28,new _(6,45),new _(14,46)),new W(30,new _(11,24),new _(16,25)),new W(30,new _(30,16),new _(2,17))),new Ve(25,Int32Array.from([6,32,58,84,110]),new W(26,new _(8,106),new _(4,107)),new W(28,new _(8,47),new _(13,48)),new W(30,new _(7,24),new _(22,25)),new W(30,new _(22,15),new _(13,16))),new Ve(26,Int32Array.from([6,30,58,86,114]),new W(28,new _(10,114),new _(2,115)),new W(28,new _(19,46),new _(4,47)),new W(28,new _(28,22),new _(6,23)),new W(30,new _(33,16),new _(4,17))),new Ve(27,Int32Array.from([6,34,62,90,118]),new W(30,new _(8,122),new _(4,123)),new W(28,new _(22,45),new _(3,46)),new W(30,new _(8,23),new _(26,24)),new W(30,new _(12,15),new _(28,16))),new Ve(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new _(3,117),new _(10,118)),new W(28,new _(3,45),new _(23,46)),new W(30,new _(4,24),new _(31,25)),new W(30,new _(11,15),new _(31,16))),new Ve(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new _(7,116),new _(7,117)),new W(28,new _(21,45),new _(7,46)),new W(30,new _(1,23),new _(37,24)),new W(30,new _(19,15),new _(26,16))),new Ve(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new _(5,115),new _(10,116)),new W(28,new _(19,47),new _(10,48)),new W(30,new _(15,24),new _(25,25)),new W(30,new _(23,15),new _(25,16))),new Ve(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new _(13,115),new _(3,116)),new W(28,new _(2,46),new _(29,47)),new W(30,new _(42,24),new _(1,25)),new W(30,new _(23,15),new _(28,16))),new Ve(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new _(17,115)),new W(28,new _(10,46),new _(23,47)),new W(30,new _(10,24),new _(35,25)),new W(30,new _(19,15),new _(35,16))),new Ve(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new _(17,115),new _(1,116)),new W(28,new _(14,46),new _(21,47)),new W(30,new _(29,24),new _(19,25)),new W(30,new _(11,15),new _(46,16))),new Ve(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new _(13,115),new _(6,116)),new W(28,new _(14,46),new _(23,47)),new W(30,new _(44,24),new _(7,25)),new W(30,new _(59,16),new _(1,17))),new Ve(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new _(12,121),new _(7,122)),new W(28,new _(12,47),new _(26,48)),new W(30,new _(39,24),new _(14,25)),new W(30,new _(22,15),new _(41,16))),new Ve(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new _(6,121),new _(14,122)),new W(28,new _(6,47),new _(34,48)),new W(30,new _(46,24),new _(10,25)),new W(30,new _(2,15),new _(64,16))),new Ve(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new _(17,122),new _(4,123)),new W(28,new _(29,46),new _(14,47)),new W(30,new _(49,24),new _(10,25)),new W(30,new _(24,15),new _(46,16))),new Ve(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new _(4,122),new _(18,123)),new W(28,new _(13,46),new _(32,47)),new W(30,new _(48,24),new _(14,25)),new W(30,new _(42,15),new _(32,16))),new Ve(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new _(20,117),new _(4,118)),new W(28,new _(40,47),new _(7,48)),new W(30,new _(43,24),new _(22,25)),new W(30,new _(10,15),new _(67,16))),new Ve(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new _(19,118),new _(6,119)),new W(28,new _(18,47),new _(31,48)),new W(30,new _(34,24),new _(34,25)),new W(30,new _(20,15),new _(61,16)))];var nn;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(nn||(nn={}));class lt{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let r=0;r<n;r++)for(let i=0;i<n;i++)this.isMasked(r,i)&&e.flip(i,r)}}lt.values=new Map([[nn.DATA_MASK_000,new lt(nn.DATA_MASK_000,(C,e)=>(C+e&1)===0)],[nn.DATA_MASK_001,new lt(nn.DATA_MASK_001,(C,e)=>(C&1)===0)],[nn.DATA_MASK_010,new lt(nn.DATA_MASK_010,(C,e)=>e%3===0)],[nn.DATA_MASK_011,new lt(nn.DATA_MASK_011,(C,e)=>(C+e)%3===0)],[nn.DATA_MASK_100,new lt(nn.DATA_MASK_100,(C,e)=>(Math.floor(C/2)+Math.floor(e/3)&1)===0)],[nn.DATA_MASK_101,new lt(nn.DATA_MASK_101,(C,e)=>C*e%6===0)],[nn.DATA_MASK_110,new lt(nn.DATA_MASK_110,(C,e)=>C*e%6<3)],[nn.DATA_MASK_111,new lt(nn.DATA_MASK_111,(C,e)=>(C+e+C*e%3&1)===0)]]);class _o{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new se;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const n=this.bitMatrix.getHeight();let r=0;const i=n-7;for(let o=n-1;o>=i;o--)r=this.copyBit(8,o,r);for(let o=n-8;o<n;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=mn.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new se}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Ve.getVersionForNumber(n);let r=0;const i=e-11;for(let a=5;a>=0;a--)for(let u=e-9;u>=i;u--)r=this.copyBit(u,a,r);let o=Ve.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(let a=5;a>=0;a--)for(let u=e-9;u>=i;u--)r=this.copyBit(a,u,r);if(o=Ve.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new se}copyBit(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),r=lt.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);const o=n.buildFunctionPattern();let a=!0;const u=new Uint8Array(n.getTotalCodewords());let f=0,d=0,w=0;for(let A=i-1;A>0;A-=2){A===6&&A--;for(let I=0;I<i;I++){const R=a?i-1-I:I;for(let k=0;k<2;k++)o.get(A-k,R)||(w++,d<<=1,this.bitMatrix.get(A-k,R)&&(d|=1),w===8&&(u[f++]=d,w=0,d=0))}a=!a}if(f!==n.getTotalCodewords())throw new se;return u}remask(){if(this.parsedFormatInfo===null)return;const e=lt.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,r=e.getWidth();n<r;n++)for(let i=n+1,o=e.getHeight();i<o;i++)e.get(n,i)!==e.get(i,n)&&(e.flip(i,n),e.flip(n,i))}}class oi{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,r){if(e.length!==n.getTotalCodewords())throw new F;const i=n.getECBlocksForLevel(r);let o=0;const a=i.getECBlocks();for(const k of a)o+=k.getCount();const u=new Array(o);let f=0;for(const k of a)for(let L=0;L<k.getCount();L++){const H=k.getDataCodewords(),Z=i.getECCodewordsPerBlock()+H;u[f++]=new oi(H,new Uint8Array(Z))}const d=u[0].codewords.length;let w=u.length-1;for(;w>=0&&u[w].codewords.length!==d;)w--;w++;const A=d-i.getECCodewordsPerBlock();let I=0;for(let k=0;k<A;k++)for(let L=0;L<f;L++)u[L].codewords[k]=e[I++];for(let k=w;k<f;k++)u[k].codewords[A]=e[I++];const R=u[0].codewords.length;for(let k=A;k<R;k++)for(let L=0;L<f;L++){const H=L<w?k:k+1;u[L].codewords[H]=e[I++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var jn;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(jn||(jn={}));class We{constructor(e,n,r,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=i,We.FOR_BITS.set(i,this),We.FOR_VALUE.set(e,this)}static forBits(e){const n=We.FOR_BITS.get(e);if(n===void 0)throw new F;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof We))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}We.FOR_BITS=new Map,We.FOR_VALUE=new Map,We.TERMINATOR=new We(jn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),We.NUMERIC=new We(jn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),We.ALPHANUMERIC=new We(jn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),We.STRUCTURED_APPEND=new We(jn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),We.BYTE=new We(jn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),We.ECI=new We(jn.ECI,"ECI",Int32Array.from([0,0,0]),7),We.KANJI=new We(jn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),We.FNC1_FIRST_POSITION=new We(jn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),We.FNC1_SECOND_POSITION=new We(jn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),We.HANZI=new We(jn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ft{static decode(e,n,r,i){const o=new Bi(e);let a=new Xe;const u=new Array;let f=-1,d=-1;try{let w=null,A=!1,I;do{if(o.available()<4)I=We.TERMINATOR;else{const R=o.readBits(4);I=We.forBits(R)}switch(I){case We.TERMINATOR:break;case We.FNC1_FIRST_POSITION:case We.FNC1_SECOND_POSITION:A=!0;break;case We.STRUCTURED_APPEND:if(o.available()<16)throw new se;f=o.readBits(8),d=o.readBits(8);break;case We.ECI:const R=Ft.parseECIValue(o);if(w=te.getCharacterSetECIByValue(R),w===null)throw new se;break;case We.HANZI:const k=o.readBits(4),L=o.readBits(I.getCharacterCountBits(n));k===Ft.GB2312_SUBSET&&Ft.decodeHanziSegment(o,a,L);break;default:const H=o.readBits(I.getCharacterCountBits(n));switch(I){case We.NUMERIC:Ft.decodeNumericSegment(o,a,H);break;case We.ALPHANUMERIC:Ft.decodeAlphanumericSegment(o,a,H,A);break;case We.BYTE:Ft.decodeByteSegment(o,a,H,w,u,i);break;case We.KANJI:Ft.decodeKanjiSegment(o,a,H);break;default:throw new se}break}}while(I!==We.TERMINATOR)}catch{throw new se}return new Oe(e,a.toString(),u.length===0?null:u,r===null?null:r.toString(),f,d)}static decodeHanziSegment(e,n,r){if(r*13>e.available())throw new se;const i=new Uint8Array(2*r);let o=0;for(;r>0;){const a=e.readBits(13);let u=a/96<<8&4294967295|a%96;u<959?u+=41377:u+=42657,i[o]=u>>8&255,i[o+1]=u&255,o+=2,r--}try{n.append(yt.decode(i,Be.GB2312))}catch(a){throw new se(a)}}static decodeKanjiSegment(e,n,r){if(r*13>e.available())throw new se;const i=new Uint8Array(2*r);let o=0;for(;r>0;){const a=e.readBits(13);let u=a/192<<8&4294967295|a%192;u<7936?u+=33088:u+=49472,i[o]=u>>8,i[o+1]=u,o+=2,r--}try{n.append(yt.decode(i,Be.SHIFT_JIS))}catch(a){throw new se(a)}}static decodeByteSegment(e,n,r,i,o,a){if(8*r>e.available())throw new se;const u=new Uint8Array(r);for(let d=0;d<r;d++)u[d]=e.readBits(8);let f;i===null?f=Be.guessEncoding(u,a):f=i.getName();try{n.append(yt.decode(u,f))}catch(d){throw new se(d)}o.push(u)}static toAlphaNumericChar(e){if(e>=Ft.ALPHANUMERIC_CHARS.length)throw new se;return Ft.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,r,i){const o=n.length();for(;r>1;){if(e.available()<11)throw new se;const a=e.readBits(11);n.append(Ft.toAlphaNumericChar(Math.floor(a/45))),n.append(Ft.toAlphaNumericChar(a%45)),r-=2}if(r===1){if(e.available()<6)throw new se;n.append(Ft.toAlphaNumericChar(e.readBits(6)))}if(i)for(let a=o;a<n.length();a++)n.charAt(a)==="%"&&(a<n.length()-1&&n.charAt(a+1)==="%"?n.deleteCharAt(a+1):n.setCharAt(a,""))}static decodeNumericSegment(e,n,r){for(;r>=3;){if(e.available()<10)throw new se;const i=e.readBits(10);if(i>=1e3)throw new se;n.append(Ft.toAlphaNumericChar(Math.floor(i/100))),n.append(Ft.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(Ft.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new se;const i=e.readBits(7);if(i>=100)throw new se;n.append(Ft.toAlphaNumericChar(Math.floor(i/10))),n.append(Ft.toAlphaNumericChar(i%10))}else if(r===1){if(e.available()<4)throw new se;const i=e.readBits(4);if(i>=10)throw new se;n.append(Ft.toAlphaNumericChar(i))}}static parseECIValue(e){const n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){const r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){const r=e.readBits(16);return(n&31)<<16&4294967295|r}throw new se}}Ft.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ft.GB2312_SUBSET=1;class Li{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Fi{constructor(){this.rsDecoder=new Ln(ot.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(Ze.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const r=new _o(e);let i=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){i=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,n);return o.setOther(new Li(!0)),o}catch(o){throw i!==null?i:o}}decodeBitMatrixParser(e,n){const r=e.readVersion(),i=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),a=oi.getDataBlocks(o,r,i);let u=0;for(const w of a)u+=w.getNumDataCodewords();const f=new Uint8Array(u);let d=0;for(const w of a){const A=w.getCodewords(),I=w.getNumDataCodewords();this.correctErrors(A,I);for(let R=0;R<I;R++)f[d++]=A[R]}return Ft.decode(f,r,i,n)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new Ae}for(let i=0;i<n;i++)e[i]=r[i]}}class us extends ie{constructor(e,n,r){super(e,n),this.estimatedModuleSize=r}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const i=(this.getX()+n)/2,o=(this.getY()+e)/2,a=(this.estimatedModuleSize+r)/2;return new us(i,o,a)}}class lr{constructor(e,n,r,i,o,a,u){this.image=e,this.startX=n,this.startY=r,this.width=i,this.height=o,this.moduleSize=a,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,r=this.width,i=e+r,o=this.startY+n/2,a=new Int32Array(3),u=this.image;for(let f=0;f<n;f++){const d=o+((f&1)===0?Math.floor((f+1)/2):-Math.floor((f+1)/2));a[0]=0,a[1]=0,a[2]=0;let w=e;for(;w<i&&!u.get(w,d);)w++;let A=0;for(;w<i;){if(u.get(w,d))if(A===1)a[1]++;else if(A===2){if(this.foundPatternCross(a)){const I=this.handlePossibleCenter(a,d,w);if(I!==null)return I}a[0]=a[2],a[1]=1,a[2]=0,A=1}else a[++A]++;else A===1&&A++,a[A]++;w++}if(this.foundPatternCross(a)){const I=this.handlePossibleCenter(a,d,i);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,r=n/2;for(let i=0;i<3;i++)if(Math.abs(n-e[i])>=r)return!1;return!0}crossCheckVertical(e,n,r,i){const o=this.image,a=o.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let f=e;for(;f>=0&&o.get(n,f)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&!o.get(n,f)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<a&&o.get(n,f)&&u[1]<=r;)u[1]++,f++;if(f===a||u[1]>r)return NaN;for(;f<a&&!o.get(n,f)&&u[2]<=r;)u[2]++,f++;if(u[2]>r)return NaN;const d=u[0]+u[1]+u[2];return 5*Math.abs(d-i)>=2*i?NaN:this.foundPatternCross(u)?lr.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,r){const i=e[0]+e[1]+e[2],o=lr.centerFromEnd(e,r),a=this.crossCheckVertical(n,o,2*e[1],i);if(!isNaN(a)){const u=(e[0]+e[1]+e[2])/3;for(const d of this.possibleCenters)if(d.aboutEquals(u,a,o))return d.combineEstimate(a,o,u);const f=new us(o,a,u);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null}}class yr extends ie{constructor(e,n,r,i){super(e,n),this.estimatedModuleSize=r,this.count=i,i===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const i=this.count+1,o=(this.count*this.getX()+n)/i,a=(this.count*this.getY()+e)/i,u=(this.count*this.estimatedModuleSize+r)/i;return new yr(o,a,u,i)}}class jr{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Yt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(Ge.TRY_HARDER)!==void 0,r=e!=null&&e.get(Ge.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),a=i.getWidth();let u=Math.floor(3*o/(4*Yt.MAX_MODULES));(u<Yt.MIN_SKIP||n)&&(u=Yt.MIN_SKIP);let f=!1;const d=new Int32Array(5);for(let A=u-1;A<o&&!f;A+=u){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;let I=0;for(let R=0;R<a;R++)if(i.get(R,A))(I&1)===1&&I++,d[I]++;else if((I&1)===0)if(I===4)if(Yt.foundPatternCross(d)){if(this.handlePossibleCenter(d,A,R,r)===!0)if(u=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>d[2]&&(A+=L-d[2]-u,R=a-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,I=3;continue}I=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,I=3;else d[++I]++;else d[I]++;Yt.foundPatternCross(d)&&this.handlePossibleCenter(d,A,a,r)===!0&&(u=d[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return ie.orderBestPatterns(w),new jr(w)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let o=0;o<5;o++){const a=e[o];if(a===0)return!1;n+=a}if(n<7)return!1;const r=n/7,i=r/2;return Math.abs(r-e[0])<i&&Math.abs(r-e[1])<i&&Math.abs(3*r-e[2])<3*i&&Math.abs(r-e[3])<i&&Math.abs(r-e[4])<i}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,r,i){const o=this.getCrossCheckStateCount();let a=0;const u=this.image;for(;e>=a&&n>=a&&u.get(n-a,e-a);)o[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!u.get(n-a,e-a)&&o[1]<=r;)o[1]++,a++;if(e<a||n<a||o[1]>r)return!1;for(;e>=a&&n>=a&&u.get(n-a,e-a)&&o[0]<=r;)o[0]++,a++;if(o[0]>r)return!1;const f=u.getHeight(),d=u.getWidth();for(a=1;e+a<f&&n+a<d&&u.get(n+a,e+a);)o[2]++,a++;if(e+a>=f||n+a>=d)return!1;for(;e+a<f&&n+a<d&&!u.get(n+a,e+a)&&o[3]<r;)o[3]++,a++;if(e+a>=f||n+a>=d||o[3]>=r)return!1;for(;e+a<f&&n+a<d&&u.get(n+a,e+a)&&o[4]<r;)o[4]++,a++;if(o[4]>=r)return!1;const w=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(w-i)<2*i&&Yt.foundPatternCross(o)}crossCheckVertical(e,n,r,i){const o=this.image,a=o.getHeight(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&o.get(n,f);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(n,f)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&o.get(n,f)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<a&&o.get(n,f);)u[2]++,f++;if(f===a)return NaN;for(;f<a&&!o.get(n,f)&&u[3]<r;)u[3]++,f++;if(f===a||u[3]>=r)return NaN;for(;f<a&&o.get(n,f)&&u[4]<r;)u[4]++,f++;if(u[4]>=r)return NaN;const d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-i)>=2*i?NaN:Yt.foundPatternCross(u)?Yt.centerFromEnd(u,f):NaN}crossCheckHorizontal(e,n,r,i){const o=this.image,a=o.getWidth(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&o.get(f,n);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(f,n)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&o.get(f,n)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<a&&o.get(f,n);)u[2]++,f++;if(f===a)return NaN;for(;f<a&&!o.get(f,n)&&u[3]<r;)u[3]++,f++;if(f===a||u[3]>=r)return NaN;for(;f<a&&o.get(f,n)&&u[4]<r;)u[4]++,f++;if(u[4]>=r)return NaN;const d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-i)>=i?NaN:Yt.foundPatternCross(u)?Yt.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,r,i){const o=e[0]+e[1]+e[2]+e[3]+e[4];let a=Yt.centerFromEnd(e,r),u=this.crossCheckVertical(n,Math.floor(a),e[2],o);if(!isNaN(u)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(u),e[2],o),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(u),Math.floor(a),e[2],o)))){const f=o/7;let d=!1;const w=this.possibleCenters;for(let A=0,I=w.length;A<I;A++){const R=w[A];if(R.aboutEquals(f,u,a)){w[A]=R.combineEstimate(u,a,f),d=!0;break}}if(!d){const A=new yr(a,u,f);w.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const r of this.possibleCenters)if(r.getCount()>=Yt.CENTER_QUORUM)if(n==null)n=r;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-r.getX())-Math.abs(n.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const r=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=Yt.CENTER_QUORUM&&(e++,n+=a.getEstimatedModuleSize());if(e<3)return!1;const i=n/r;let o=0;for(const a of this.possibleCenters)o+=Math.abs(a.getEstimatedModuleSize()-i);return o<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new $;const n=this.possibleCenters;let r;if(e>3){let i=0,o=0;for(const f of this.possibleCenters){const d=f.getEstimatedModuleSize();i+=d,o+=d*d}r=i/e;let a=Math.sqrt(o/e-r*r);n.sort((f,d)=>{const w=Math.abs(d.getEstimatedModuleSize()-r),A=Math.abs(f.getEstimatedModuleSize()-r);return w<A?-1:w>A?1:0});const u=Math.max(.2*r,a);for(let f=0;f<n.length&&n.length>3;f++){const d=n[f];Math.abs(d.getEstimatedModuleSize()-r)>u&&(n.splice(f,1),f--)}}if(n.length>3){let i=0;for(const o of n)i+=o.getEstimatedModuleSize();r=i/n.length,n.sort((o,a)=>{if(a.getCount()===o.getCount()){const u=Math.abs(a.getEstimatedModuleSize()-r),f=Math.abs(o.getEstimatedModuleSize()-r);return u<f?1:u>f?-1:0}else return a.getCount()-o.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}Yt.CENTER_QUORUM=2,Yt.MIN_SKIP=3,Yt.MAX_MODULES=57;class _r{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Ge.NEED_RESULT_POINT_CALLBACK);const r=new Yt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const n=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(n,r,i);if(o<1)throw new $("No pattern found in proccess finder.");const a=_r.computeDimension(n,r,i,o),u=Ve.getProvisionalVersionForDimension(a),f=u.getDimensionForVersion()-7;let d=null;if(u.getAlignmentPatternCenters().length>0){const R=r.getX()-n.getX()+i.getX(),k=r.getY()-n.getY()+i.getY(),L=1-3/f,H=Math.floor(n.getX()+L*(R-n.getX())),Z=Math.floor(n.getY()+L*(k-n.getY()));for(let de=4;de<=16;de<<=1)try{d=this.findAlignmentInRegion(o,H,Z,de);break}catch(ge){if(!(ge instanceof $))throw ge}}const w=_r.createTransform(n,r,i,d,a),A=_r.sampleGrid(this.image,w,a);let I;return d===null?I=[i,n,r]:I=[i,n,r,d],new Rn(A,I)}static createTransform(e,n,r,i,o){const a=o-3.5;let u,f,d,w;return i!==null?(u=i.getX(),f=i.getY(),d=a-3,w=d):(u=n.getX()-e.getX()+r.getX(),f=n.getY()-e.getY()+r.getY(),d=a,w=a),an.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,d,w,3.5,a,e.getX(),e.getY(),n.getX(),n.getY(),u,f,r.getX(),r.getY())}static sampleGrid(e,n,r){return On.getInstance().sampleGridWithTransform(e,r,r,n)}static computeDimension(e,n,r,i){const o=ut.round(ie.distance(e,n)/i),a=ut.round(ie.distance(e,r)/i);let u=Math.floor((o+a)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new $("Dimensions could be not found.")}return u}calculateModuleSize(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,n){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,r,i){let o=this.sizeOfBlackWhiteBlackRun(e,n,r,i),a=1,u=e-(r-e);u<0?(a=e/(e-u),u=0):u>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);let f=Math.floor(n-(i-n)*a);return a=1,f<0?(a=n/(n-f),f=0):f>=this.image.getHeight()&&(a=(this.image.getHeight()-1-n)/(f-n),f=this.image.getHeight()-1),u=Math.floor(e+(u-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,n,u,f),o-1}sizeOfBlackWhiteBlackRun(e,n,r,i){const o=Math.abs(i-n)>Math.abs(r-e);if(o){let R=e;e=n,n=R,R=r,r=i,i=R}const a=Math.abs(r-e),u=Math.abs(i-n);let f=-a/2;const d=e<r?1:-1,w=n<i?1:-1;let A=0;const I=r+d;for(let R=e,k=n;R!==I;R+=d){const L=o?k:R,H=o?R:k;if(A===1===this.image.get(L,H)){if(A===2)return ut.distance(R,k,e,n);A++}if(f+=u,f>0){if(k===i)break;k+=w,f-=a}}return A===2?ut.distance(r+d,i,e,n):NaN}findAlignmentInRegion(e,n,r,i){const o=Math.floor(i*e),a=Math.max(0,n-o),u=Math.min(this.image.getWidth()-1,n+o);if(u-a<e*3)throw new $("Alignment top exceeds estimated module size.");const f=Math.max(0,r-o),d=Math.min(this.image.getHeight()-1,r+o);if(d-f<e*3)throw new $("Alignment bottom exceeds estimated module size.");return new lr(this.image,a,f,u-a,d-f,e,this.resultPointCallback).find()}}class Dn{constructor(){this.decoder=new Fi}getDecoder(){return this.decoder}decode(e,n){let r,i;if(n!=null&&n.get(Ge.PURE_BARCODE)!==void 0){const f=Dn.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(f,n),i=Dn.NO_POINTS}else{const f=new _r(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(f.getBits(),n),i=f.getPoints()}r.getOther()instanceof Li&&r.getOther().applyMirroredCorrection(i);const o=new Ne(r.getText(),r.getRawBytes(),void 0,i,Y.QR_CODE,void 0),a=r.getByteSegments();a!==null&&o.putMetadata(ke.BYTE_SEGMENTS,a);const u=r.getECLevel();return u!==null&&o.putMetadata(ke.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(o.putMetadata(ke.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(ke.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new $;const i=this.moduleSize(n,e);let o=n[1],a=r[1],u=n[0],f=r[0];if(u>=f||o>=a)throw new $;if(a-o!==f-u&&(f=u+(a-o),f>=e.getWidth()))throw new $;const d=Math.round((f-u+1)/i),w=Math.round((a-o+1)/i);if(d<=0||w<=0)throw new $;if(w!==d)throw new $;const A=Math.floor(i/2);o+=A,u+=A;const I=u+Math.floor((d-1)*i)-f;if(I>0){if(I>A)throw new $;u-=I}const R=o+Math.floor((w-1)*i)-a;if(R>0){if(R>A)throw new $;o-=R}const k=new Ze(d,w);for(let L=0;L<w;L++){const H=o+Math.floor(L*i);for(let Z=0;Z<d;Z++)e.get(u+Math.floor(Z*i),H)&&k.set(Z,L)}return k}static moduleSize(e,n){const r=n.getHeight(),i=n.getWidth();let o=e[0],a=e[1],u=!0,f=0;for(;o<i&&a<r;){if(u!==n.get(o,a)){if(++f===5)break;u=!u}o++,a++}if(o===i||a===r)throw new $;return(o-e[0])/7}}Dn.NO_POINTS=new Array;class Qe{PDF417Common(){}static getBitCountSum(e){return ut.sum(e)}static toIntArray(e){if(e==null||!e.length)return Qe.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let r=0;for(const i of e)n[r++]=i;return n}static getCodeword(e){const n=Te.binarySearch(Qe.SYMBOL_TABLE,e&262143);return n<0?-1:(Qe.CODEWORD_TABLE[n]-1)%Qe.NUMBER_OF_CODEWORDS}}Qe.NUMBER_OF_CODEWORDS=929,Qe.MAX_CODEWORDS_IN_BARCODE=Qe.NUMBER_OF_CODEWORDS-1,Qe.MIN_ROWS_IN_BARCODE=3,Qe.MAX_ROWS_IN_BARCODE=90,Qe.MODULES_IN_CODEWORD=17,Qe.MODULES_IN_STOP_PATTERN=18,Qe.BARS_IN_MODULE=8,Qe.EMPTY_INT_ARRAY=new Int32Array([]),Qe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Qe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ro{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class nt{static detectMultiple(e,n,r){let i=e.getBlackMatrix(),o=nt.detect(r,i);return o.length||(i=i.clone(),i.rotate180(),o=nt.detect(r,i)),new Ro(i,o)}static detect(e,n){const r=new Array;let i=0,o=0,a=!1;for(;i<n.getHeight();){const u=nt.findVertices(n,i,o);if(u[0]==null&&u[3]==null){if(!a)break;a=!1,o=0;for(const f of r)f[1]!=null&&(i=Math.trunc(Math.max(i,f[1].getY()))),f[3]!=null&&(i=Math.max(i,Math.trunc(f[3].getY())));i+=nt.ROW_STEP;continue}if(a=!0,r.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),i=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),i=Math.trunc(u[4].getY()))}return r}static findVertices(e,n,r){const i=e.getHeight(),o=e.getWidth(),a=new Array(8);return nt.copyToResult(a,nt.findRowsWithPattern(e,i,o,n,r,nt.START_PATTERN),nt.INDEXES_START_PATTERN),a[4]!=null&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),nt.copyToResult(a,nt.findRowsWithPattern(e,i,o,n,r,nt.STOP_PATTERN),nt.INDEXES_STOP_PATTERN),a}static copyToResult(e,n,r){for(let i=0;i<r.length;i++)e[r[i]]=n[i]}static findRowsWithPattern(e,n,r,i,o,a){const u=new Array(4);let f=!1;const d=new Int32Array(a.length);for(;i<n;i+=nt.ROW_STEP){let A=nt.findGuardPattern(e,o,i,r,!1,a,d);if(A!=null){for(;i>0;){const I=nt.findGuardPattern(e,o,--i,r,!1,a,d);if(I!=null)A=I;else{i++;break}}u[0]=new ie(A[0],i),u[1]=new ie(A[1],i),f=!0;break}}let w=i+1;if(f){let A=0,I=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;w<n;w++){const R=nt.findGuardPattern(e,I[0],w,r,!1,a,d);if(R!=null&&Math.abs(I[0]-R[0])<nt.MAX_PATTERN_DRIFT&&Math.abs(I[1]-R[1])<nt.MAX_PATTERN_DRIFT)I=R,A=0;else{if(A>nt.SKIPPED_ROW_COUNT_MAX)break;A++}}w-=A+1,u[2]=new ie(I[0],w),u[3]=new ie(I[1],w)}return w-i<nt.BARCODE_MIN_HEIGHT&&Te.fill(u,null),u}static findGuardPattern(e,n,r,i,o,a,u){Te.fillWithin(u,0,u.length,0);let f=n,d=0;for(;e.get(f,r)&&f>0&&d++<nt.MAX_PIXEL_DRIFT;)f--;let w=f,A=0,I=a.length;for(let R=o;w<i;w++)if(e.get(w,r)!==R)u[A]++;else{if(A===I-1){if(nt.patternMatchVariance(u,a,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return new Int32Array([f,w]);f+=u[0]+u[1],pe.arraycopy(u,2,u,0,A-1),u[A-1]=0,u[A]=0,A--}else A++;u[A]=1,R=!R}return A===I-1&&nt.patternMatchVariance(u,a,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE?new Int32Array([f,w-1]):null}static patternMatchVariance(e,n,r){let i=e.length,o=0,a=0;for(let d=0;d<i;d++)o+=e[d],a+=n[d];if(o<a)return 1/0;let u=o/a;r*=u;let f=0;for(let d=0;d<i;d++){let w=e[d],A=n[d]*u,I=w>A?w-A:A-w;if(I>r)return 1/0;f+=I}return f/o}}nt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),nt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),nt.MAX_AVG_VARIANCE=.42,nt.MAX_INDIVIDUAL_VARIANCE=.8,nt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),nt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),nt.MAX_PIXEL_DRIFT=3,nt.MAX_PATTERN_DRIFT=5,nt.SKIPPED_ROW_COUNT_MAX=25,nt.ROW_STEP=5,nt.BARCODE_MIN_HEIGHT=10;class wn{constructor(e,n){if(n.length===0)throw new F;this.field=e;let r=n.length;if(r>1&&n[0]===0){let i=1;for(;i<r&&n[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),pe.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let i=0;for(let o of this.coefficients)i=this.field.add(i,o);return i}let n=this.coefficients[0],r=this.coefficients.length;for(let i=1;i<r;i++)n=this.field.add(this.field.multiply(e,n),this.coefficients[i]);return n}add(e){if(!this.field.equals(e.field))throw new F("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){let a=n;n=r,r=a}let i=new Int32Array(r.length),o=r.length-n.length;pe.arraycopy(r,0,i,0,o);for(let a=o;a<r.length;a++)i[a]=this.field.add(n[a-o],r[a]);return new wn(this.field,i)}subtract(e){if(!this.field.equals(e.field))throw new F("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof wn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new F("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new wn(this.field,new Int32Array([0]));let n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,a=new Int32Array(r+o-1);for(let u=0;u<r;u++){let f=n[u];for(let d=0;d<o;d++)a[u+d]=this.field.add(a[u+d],this.field.multiply(f,i[d]))}return new wn(this.field,a)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new wn(this.field,n)}multiplyScalar(e){if(e===0)return new wn(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,r=new Int32Array(n);for(let i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new wn(this.field,r)}multiplyByMonomial(e,n){if(e<0)throw new F;if(n===0)return new wn(this.field,new Int32Array([0]));let r=this.coefficients.length,i=new Int32Array(r+e);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],n);return new wn(this.field,i)}toString(){let e=new Xe;for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class Oo{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new F;return this.logTable[e]}inverse(e){if(e===0)throw new sr;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class cs extends Oo{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let i=0;i<e;i++)this.expTable[i]=r,r=r*n%e;for(let i=0;i<e-1;i++)this.logTable[this.expTable[i]]=i;this.zero=new wn(this,new Int32Array([0])),this.one=new wn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new F;if(n===0)return this.zero;let r=new Int32Array(e+1);return r[0]=n,new wn(this,r)}}cs.PDF417_GF=new cs(Qe.NUMBER_OF_CODEWORDS,3);class ji{constructor(){this.field=cs.PDF417_GF}decode(e,n,r){let i=new wn(this.field,e),o=new Int32Array(n),a=!1;for(let k=n;k>0;k--){let L=i.evaluateAt(this.field.exp(k));o[n-k]=L,L!==0&&(a=!0)}if(!a)return 0;let u=this.field.getOne();if(r!=null)for(const k of r){let L=this.field.exp(e.length-1-k),H=new wn(this.field,new Int32Array([this.field.subtract(0,L),1]));u=u.multiply(H)}let f=new wn(this.field,o),d=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),f,n),w=d[0],A=d[1],I=this.findErrorLocations(w),R=this.findErrorMagnitudes(A,w,I);for(let k=0;k<I.length;k++){let L=e.length-1-this.field.log(I[k]);if(L<0)throw Ae.getChecksumInstance();e[L]=this.field.subtract(e[L],R[k])}return I.length}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){let I=e;e=n,n=I}let i=e,o=n,a=this.field.getZero(),u=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let I=i,R=a;if(i=o,a=u,i.isZero())throw Ae.getChecksumInstance();o=I;let k=this.field.getZero(),L=i.getCoefficient(i.getDegree()),H=this.field.inverse(L);for(;o.getDegree()>=i.getDegree()&&!o.isZero();){let Z=o.getDegree()-i.getDegree(),de=this.field.multiply(o.getCoefficient(o.getDegree()),H);k=k.add(this.field.buildMonomial(Z,de)),o=o.subtract(i.multiplyByMonomial(Z,de))}u=k.multiply(a).subtract(R).negative()}let f=u.getCoefficient(0);if(f===0)throw Ae.getChecksumInstance();let d=this.field.inverse(f),w=u.multiply(d),A=o.multiply(d);return[w,A]}findErrorLocations(e){let n=e.getDegree(),r=new Int32Array(n),i=0;for(let o=1;o<this.field.getSize()&&i<n;o++)e.evaluateAt(o)===0&&(r[i]=this.field.inverse(o),i++);if(i!==n)throw Ae.getChecksumInstance();return r}findErrorMagnitudes(e,n,r){let i=n.getDegree(),o=new Int32Array(i);for(let d=1;d<=i;d++)o[i-d]=this.field.multiply(d,n.getCoefficient(d));let a=new wn(this.field,o),u=r.length,f=new Int32Array(u);for(let d=0;d<u;d++){let w=this.field.inverse(r[d]),A=this.field.subtract(0,e.evaluateAt(w)),I=this.field.inverse(a.evaluateAt(w));f[d]=this.field.multiply(A,I)}return f}}class Xr{constructor(e,n,r,i,o){e instanceof Xr?this.constructor_2(e):this.constructor_1(e,n,r,i,o)}constructor_1(e,n,r,i,o){const a=n==null||r==null,u=i==null||o==null;if(a&&u)throw new $;a?(n=new ie(0,i.getY()),r=new ie(0,o.getY())):u&&(i=new ie(e.getWidth()-1,n.getY()),o=new ie(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(n.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Xr(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,r){let i=this.topLeft,o=this.bottomLeft,a=this.topRight,u=this.bottomRight;if(e>0){let f=r?this.topLeft:this.topRight,d=Math.trunc(f.getY()-e);d<0&&(d=0);let w=new ie(f.getX(),d);r?i=w:a=w}if(n>0){let f=r?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+n);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);let w=new ie(f.getX(),d);r?o=w:u=w}return new Xr(this.image,i,o,a,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ps{constructor(e,n,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Rr{constructor(){this.buffer=""}static form(e,n){let r=-1;function i(a,u,f,d,w,A){if(a==="%%")return"%";if(n[++r]===void 0)return;a=d?parseInt(d.substr(1)):void 0;let I=w?parseInt(w.substr(1)):void 0,R;switch(A){case"s":R=n[r];break;case"c":R=n[r][0];break;case"f":R=parseFloat(n[r]).toFixed(a);break;case"p":R=parseFloat(n[r]).toPrecision(a);break;case"e":R=parseFloat(n[r]).toExponential(a);break;case"x":R=parseInt(n[r]).toString(I||16);break;case"d":R=parseFloat(parseInt(n[r],I||10).toPrecision(a)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(I);let k=parseInt(f),L=f&&f[0]+""=="0"?"0":" ";for(;R.length<k;)R=u!==void 0?R+L:L+R;return R}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)}format(e,...n){this.buffer+=Rr.form(e,n)}toString(){return this.buffer}}class Cr{constructor(e){this.boundingBox=new Xr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let r=1;r<Cr.MAX_NEARBY_DISTANCE;r++){let i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(n=this.codewords[i],n!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(n=this.codewords[i],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Rr;let n=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,r.getRowNumber(),r.getValue())}return e.toString()}}Cr.MAX_NEARBY_DISTANCE=5;class Ur{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[r,i]of this.values.entries()){const o={getKey:()=>r,getValue:()=>i};o.getValue()>e?(e=o.getValue(),n=[],n.push(o.getKey())):o.getValue()===e&&n.push(o.getKey())}return Qe.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class bo extends Cr{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,d=1,w=0;for(let A=a;A<u;A++){if(n[A]==null)continue;let I=n[A],R=I.getRowNumber()-f;if(R===0)w++;else if(R===1)d=Math.max(d,w),w=1,f=I.getRowNumber();else if(R<0||I.getRowNumber()>=e.getRowCount()||R>A)n[A]=null;else{let k;d>2?k=(d-2)*R:k=R;let L=k>=A;for(let H=1;H<=k&&!L;H++)L=n[A-H]!=null;L?n[A]=null:(f=I.getRowNumber(),w=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let i=r.getRowNumber();if(i>=n.length)continue;n[i]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.getCodewords(),f=-1;for(let d=o;d<a;d++){if(u[d]==null)continue;let w=u[d];w.setRowNumberAsRowIndicatorColumn();let A=w.getRowNumber()-f;A===0||(A===1?f=w.getRowNumber():w.getRowNumber()>=e.getRowCount()?u[d]=null:f=w.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new Ur,r=new Ur,i=new Ur,o=new Ur;for(let u of e){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let f=u.getValue()%30,d=u.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:r.setValue(f*3+1);break;case 1:o.setValue(f/3),i.setValue(f%3);break;case 2:n.setValue(f+1);break}}if(n.getValue().length===0||r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||n.getValue()[0]<1||r.getValue()[0]+i.getValue()[0]<Qe.MIN_ROWS_IN_BARCODE||r.getValue()[0]+i.getValue()[0]>Qe.MAX_ROWS_IN_BARCODE)return null;let a=new Ps(n.getValue()[0],r.getValue()[0],i.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,n){for(let r=0;r<e.length;r++){let i=e[r];if(e[r]==null)continue;let o=i.getValue()%30,a=i.getRowNumber();if(a>n.getRowCount()){e[r]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(e[r]=null);break;case 2:o+1!==n.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Bs{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Qe.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let r=this.detectionResultColumns[n].getCodewords();for(let i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(n,i,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(let i=1;i<=this.barcodeColumnCount;i++){let o=this.detectionResultColumns[i].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let i=n[r].getRowNumber(),o=0;for(let a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){let u=this.detectionResultColumns[a].getCodewords()[r];u!=null&&(o=Bs.adjustRowNumberIfValid(i,o,u),u.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let i=n[r].getRowNumber(),o=0;for(let a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){let u=this.detectionResultColumns[a].getCodewords()[r];u!=null&&(o=Bs.adjustRowNumberIfValid(i,o,u),u.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,r){if(!this.detectionResultColumns[e-1])return;let i=r[n],o=this.detectionResultColumns[e-1].getCodewords(),a=o;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let u=new Array(14);u[2]=o[n],u[3]=a[n],n>0&&(u[0]=r[n-1],u[4]=o[n-1],u[5]=a[n-1]),n>1&&(u[8]=r[n-2],u[10]=o[n-2],u[11]=a[n-2]),n<r.length-1&&(u[1]=r[n+1],u[6]=o[n+1],u[7]=a[n+1]),n<r.length-2&&(u[9]=r[n+2],u[12]=o[n+2],u[13]=a[n+2]);for(let f of u)if(Bs.adjustRowNumber(i,f))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Rr;for(let r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(let i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){n.format("    |   ");continue}let o=this.detectionResultColumns[i].getCodewords()[r];if(o==null){n.format("    |   ");continue}n.format(" %3d|%3d",o.getRowNumber(),o.getValue())}n.format("%n")}return n.toString()}}class Yr{constructor(e,n,r,i){this.rowNumber=Yr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Yr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Yr.BARCODE_ROW_UNKNOWN=-1;class yn{static initialize(){for(let e=0;e<Qe.SYMBOL_TABLE.length;e++){let n=Qe.SYMBOL_TABLE[e],r=n&1;for(let i=0;i<Qe.BARS_IN_MODULE;i++){let o=0;for(;(n&1)===r;)o+=1,n>>=1;r=n&1,yn.RATIOS_TABLE[e]||(yn.RATIOS_TABLE[e]=new Array(Qe.BARS_IN_MODULE)),yn.RATIOS_TABLE[e][Qe.BARS_IN_MODULE-i-1]=Math.fround(o/Qe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=yn.getDecodedCodewordValue(yn.sampleBitCounts(e));return n!==-1?n:yn.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=ut.sum(e),r=new Int32Array(Qe.BARS_IN_MODULE),i=0,o=0;for(let a=0;a<Qe.MODULES_IN_CODEWORD;a++){let u=n/(2*Qe.MODULES_IN_CODEWORD)+a*n/Qe.MODULES_IN_CODEWORD;o+e[i]<=u&&(o+=e[i],i++),r[i]++}return r}static getDecodedCodewordValue(e){let n=yn.getBitValue(e);return Qe.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let r=0;r<e.length;r++)for(let i=0;i<e[r];i++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=ut.sum(e),r=new Array(Qe.BARS_IN_MODULE);if(n>1)for(let a=0;a<r.length;a++)r[a]=Math.fround(e[a]/n);let i=ht.MAX_VALUE,o=-1;this.bSymbolTableReady||yn.initialize();for(let a=0;a<yn.RATIOS_TABLE.length;a++){let u=0,f=yn.RATIOS_TABLE[a];for(let d=0;d<Qe.BARS_IN_MODULE;d++){let w=Math.fround(f[d]-r[d]);if(u+=Math.fround(w*w),u>=i)break}u<i&&(i=u,o=Qe.SYMBOL_TABLE[a])}return o}}yn.bSymbolTableReady=!1,yn.RATIOS_TABLE=new Array(Qe.SYMBOL_TABLE.length).map(C=>new Array(Qe.BARS_IN_MODULE));class ai{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Ui{static parseLong(e,n=void 0){return parseInt(e,n)}}class Or extends T{}Or.kind="NullPointerException";class Vi{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,r){if(e==null)throw new Or;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new me;if(r===0)return;for(let i=0;i<r;i++)this.write(e[n+i])}flush(){}close(){}}class li extends T{}class Do extends Vi{constructor(e=32){if(super(),this.count=0,e<0)throw new F("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new li;r=Ce.MAX_VALUE}this.buf=Te.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,r){if(n<0||n>e.length||r<0||n+r-e.length>0)throw new me;this.ensureCapacity(this.count+r),pe.arraycopy(e,n,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Te.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var At;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(At||(At={}));function Ls(){if(typeof window<"u")return window.BigInt||null;if(typeof Ra<"u")return Ra.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Fs;function rn(C){if(typeof Fs>"u"&&(Fs=Ls()),Fs===null)throw new Error("BigInt is not supported!");return Fs(C)}function fs(){let C=[];C[0]=rn(1);let e=rn(900);C[1]=e;for(let n=2;n<16;n++)C[n]=C[n-1]*e;return C}class q{static decode(e,n){let r=new Xe(""),i=te.ISO8859_1;r.enableDecoding(i);let o=1,a=e[o++],u=new ai;for(;o<e[0];){switch(a){case q.TEXT_COMPACTION_MODE_LATCH:o=q.textCompaction(e,o,r);break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:o=q.byteCompaction(a,e,i,o,r);break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case q.NUMERIC_COMPACTION_MODE_LATCH:o=q.numericCompaction(e,o,r);break;case q.ECI_CHARSET:te.getCharacterSetECIByValue(e[o++]);break;case q.ECI_GENERAL_PURPOSE:o+=2;break;case q.ECI_USER_DEFINED:o++;break;case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=q.decodeMacroBlock(e,o,u);break;case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:throw new se;default:o--,o=q.textCompaction(e,o,r);break}if(o<e.length)a=e[o++];else throw se.getFormatInstance()}if(r.length()===0)throw se.getFormatInstance();let f=new Oe(null,r.toString(),null,n);return f.setOther(u),f}static decodeMacroBlock(e,n,r){if(n+q.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw se.getFormatInstance();let i=new Int32Array(q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<q.NUMBER_OF_SEQUENCE_CODEWORDS;u++,n++)i[u]=e[n];r.setSegmentIndex(Ce.parseInt(q.decodeBase900toBase10(i,q.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Xe;n=q.textCompaction(e,n,o),r.setFileId(o.toString());let a=-1;for(e[n]===q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=n+1);n<e[0];)switch(e[n]){case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Xe;n=q.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let f=new Xe;n=q.textCompaction(e,n+1,f),r.setSender(f.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let d=new Xe;n=q.textCompaction(e,n+1,d),r.setAddressee(d.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new Xe;n=q.numericCompaction(e,n+1,w),r.setSegmentCount(Ce.parseInt(w.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let A=new Xe;n=q.numericCompaction(e,n+1,A),r.setTimestamp(Ui.parseLong(A.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Xe;n=q.numericCompaction(e,n+1,I),r.setChecksum(Ce.parseInt(I.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let R=new Xe;n=q.numericCompaction(e,n+1,R),r.setFileSize(Ui.parseLong(R.toString()));break;default:throw se.getFormatInstance()}break;case q.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw se.getFormatInstance()}if(a!==-1){let u=n-a;r.isLastSegment()&&u--,r.setOptionalData(Te.copyOfRange(e,a,a+u))}return n}static textCompaction(e,n,r){let i=new Int32Array((e[0]-n)*2),o=new Int32Array((e[0]-n)*2),a=0,u=!1;for(;n<e[0]&&!u;){let f=e[n++];if(f<q.TEXT_COMPACTION_MODE_LATCH)i[a]=f/30,i[a+1]=f%30,a+=2;else switch(f){case q.TEXT_COMPACTION_MODE_LATCH:i[a++]=q.TEXT_COMPACTION_MODE_LATCH;break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:n--,u=!0;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[n++],o[a]=f,a++;break}}return q.decodeTextCompaction(i,o,a,r),n}static decodeTextCompaction(e,n,r,i){let o=At.ALPHA,a=At.ALPHA,u=0;for(;u<r;){let f=e[u],d="";switch(o){case At.ALPHA:if(f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case q.LL:o=At.LOWER;break;case q.ML:o=At.MIXED;break;case q.PS:a=o,o=At.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=At.ALPHA;break}break;case At.LOWER:if(f<26)d=String.fromCharCode(97+f);else switch(f){case 26:d=" ";break;case q.AS:a=o,o=At.ALPHA_SHIFT;break;case q.ML:o=At.MIXED;break;case q.PS:a=o,o=At.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=At.ALPHA;break}break;case At.MIXED:if(f<q.PL)d=q.MIXED_CHARS[f];else switch(f){case q.PL:o=At.PUNCT;break;case 26:d=" ";break;case q.LL:o=At.LOWER;break;case q.AL:o=At.ALPHA;break;case q.PS:a=o,o=At.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=At.ALPHA;break}break;case At.PUNCT:if(f<q.PAL)d=q.PUNCT_CHARS[f];else switch(f){case q.PAL:o=At.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=At.ALPHA;break}break;case At.ALPHA_SHIFT:if(o=a,f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case q.TEXT_COMPACTION_MODE_LATCH:o=At.ALPHA;break}break;case At.PUNCT_SHIFT:if(o=a,f<q.PAL)d=q.PUNCT_CHARS[f];else switch(f){case q.PAL:o=At.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=At.ALPHA;break}break}d!==""&&i.append(d),u++}}static byteCompaction(e,n,r,i,o){let a=new Do,u=0,f=0,d=!1;switch(e){case q.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),A=n[i++];for(;i<n[0]&&!d;)switch(w[u++]=A,f=900*f+A,A=n[i++],A){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:i--,d=!0;break;default:if(u%5===0&&u>0){for(let I=0;I<6;++I)a.write(Number(rn(f)>>rn(8*(5-I))));f=0,u=0}break}i===n[0]&&A<q.TEXT_COMPACTION_MODE_LATCH&&(w[u++]=A);for(let I=0;I<u;I++)a.write(w[I]);break;case q.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!d;){let I=n[i++];if(I<q.TEXT_COMPACTION_MODE_LATCH)u++,f=900*f+I;else switch(I){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:i--,d=!0;break}if(u%5===0&&u>0){for(let R=0;R<6;++R)a.write(Number(rn(f)>>rn(8*(5-R))));f=0,u=0}}break}return o.append(yt.decode(a.toByteArray(),r)),i}static numericCompaction(e,n,r){let i=0,o=!1,a=new Int32Array(q.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!o;){let u=e[n++];if(n===e[0]&&(o=!0),u<q.TEXT_COMPACTION_MODE_LATCH)a[i]=u,i++;else switch(u){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:n--,o=!0;break}(i%q.MAX_NUMERIC_CODEWORDS===0||u===q.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(r.append(q.decodeBase900toBase10(a,i)),i=0)}return n}static decodeBase900toBase10(e,n){let r=rn(0);for(let o=0;o<n;o++)r+=q.EXP900[n-o-1]*rn(e[o]);let i=r.toString();if(i.charAt(0)!=="1")throw new se;return i.substring(1)}}q.TEXT_COMPACTION_MODE_LATCH=900,q.BYTE_COMPACTION_MODE_LATCH=901,q.NUMERIC_COMPACTION_MODE_LATCH=902,q.BYTE_COMPACTION_MODE_LATCH_6=924,q.ECI_USER_DEFINED=925,q.ECI_GENERAL_PURPOSE=926,q.ECI_CHARSET=927,q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,q.MACRO_PDF417_TERMINATOR=922,q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,q.MAX_NUMERIC_CODEWORDS=15,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,q.PL=25,q.LL=27,q.AS=27,q.ML=28,q.AL=28,q.PS=29,q.PAL=29,q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",q.EXP900=Ls()?fs():[],q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class it{constructor(){}static decode(e,n,r,i,o,a,u){let f=new Xr(e,n,r,i,o),d=null,w=null,A;for(let k=!0;;k=!1){if(n!=null&&(d=it.getRowIndicatorColumn(e,f,n,!0,a,u)),i!=null&&(w=it.getRowIndicatorColumn(e,f,i,!1,a,u)),A=it.merge(d,w),A==null)throw $.getNotFoundInstance();let L=A.getBoundingBox();if(k&&L!=null&&(L.getMinY()<f.getMinY()||L.getMaxY()>f.getMaxY()))f=L;else break}A.setBoundingBox(f);let I=A.getBarcodeColumnCount()+1;A.setDetectionResultColumn(0,d),A.setDetectionResultColumn(I,w);let R=d!=null;for(let k=1;k<=I;k++){let L=R?k:I-k;if(A.getDetectionResultColumn(L)!==void 0)continue;let H;L===0||L===I?H=new bo(f,L===0):H=new Cr(f),A.setDetectionResultColumn(L,H);let Z=-1,de=Z;for(let ge=f.getMinY();ge<=f.getMaxY();ge++){if(Z=it.getStartColumn(A,L,ge,R),Z<0||Z>f.getMaxX()){if(de===-1)continue;Z=de}let ae=it.detectCodeword(e,f.getMinX(),f.getMaxX(),R,Z,ge,a,u);ae!=null&&(H.setCodeword(ge,ae),de=Z,a=Math.min(a,ae.getWidth()),u=Math.max(u,ae.getWidth()))}}return it.createDecoderResult(A)}static merge(e,n){if(e==null&&n==null)return null;let r=it.getBarcodeMetadata(e,n);if(r==null)return null;let i=Xr.merge(it.adjustBoundingBox(e),it.adjustBoundingBox(n));return new Bs(r,i)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let r=it.getMax(n),i=0;for(let u of n)if(i+=r-u,u>0)break;let o=e.getCodewords();for(let u=0;i>0&&o[u]==null;u++)i--;let a=0;for(let u=n.length-1;u>=0&&(a+=r-n[u],!(n[u]>0));u--);for(let u=o.length-1;a>0&&o[u]==null;u--)a--;return e.getBoundingBox().addMissingRows(i,a,e.isLeft())}static getMax(e){let n=-1;for(let r of e)n=Math.max(n,r);return n}static getBarcodeMetadata(e,n){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let i;return n==null||(i=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r}static getRowIndicatorColumn(e,n,r,i,o,a){let u=new bo(n,i);for(let f=0;f<2;f++){let d=f===0?1:-1,w=Math.trunc(Math.trunc(r.getX()));for(let A=Math.trunc(Math.trunc(r.getY()));A<=n.getMaxY()&&A>=n.getMinY();A+=d){let I=it.detectCodeword(e,0,e.getWidth(),i,w,A,o,a);I!=null&&(u.setCodeword(A,I),i?w=I.getStartX():w=I.getEndX())}}return u}static adjustCodewordCount(e,n){let r=n[0][1],i=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-it.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(o<1||o>Qe.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();r.setValue(o)}else i[0]!==o&&r.setValue(o)}static createDecoderResult(e){let n=it.createBarcodeMatrix(e);it.adjustCodewordCount(e,n);let r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array;for(let f=0;f<e.getBarcodeRowCount();f++)for(let d=0;d<e.getBarcodeColumnCount();d++){let w=n[f][d+1].getValue(),A=f*e.getBarcodeColumnCount()+d;w.length===0?r.push(A):w.length===1?i[A]=w[0]:(a.push(A),o.push(w))}let u=new Array(o.length);for(let f=0;f<u.length;f++)u[f]=o[f];return it.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Qe.toIntArray(r),Qe.toIntArray(a),u)}static createDecoderResultFromAmbiguousValues(e,n,r,i,o){let a=new Int32Array(i.length),u=100;for(;u-- >0;){for(let f=0;f<a.length;f++)n[i[f]]=o[f][a[f]];try{return it.decodeCodewords(n,e,r)}catch(f){if(!(f instanceof Ae))throw f}if(a.length===0)throw Ae.getChecksumInstance();for(let f=0;f<a.length;f++)if(a[f]<o[f].length-1){a[f]++;break}else if(a[f]=0,f===a.length-1)throw Ae.getChecksumInstance()}throw Ae.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let i=0;i<n.length;i++)for(let o=0;o<n[i].length;o++)n[i][o]=new Ur;let r=0;for(let i of e.getDetectionResultColumns()){if(i!=null){for(let o of i.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=0){if(a>=n.length)continue;n[a][r].setValue(o.getValue())}}}r++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,r,i){let o=i?1:-1,a=null;if(it.isValidBarcodeColumn(e,n-o)&&(a=e.getDetectionResultColumn(n-o).getCodeword(r)),a!=null)return i?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(n).getCodewordNearby(r),a!=null)return i?a.getStartX():a.getEndX();if(it.isValidBarcodeColumn(e,n-o)&&(a=e.getDetectionResultColumn(n-o).getCodewordNearby(r)),a!=null)return i?a.getEndX():a.getStartX();let u=0;for(;it.isValidBarcodeColumn(e,n-o);){n-=o;for(let f of e.getDetectionResultColumn(n).getCodewords())if(f!=null)return(i?f.getEndX():f.getStartX())+o*u*(f.getEndX()-f.getStartX());u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,r,i,o,a,u,f){o=it.adjustCodewordStartColumn(e,n,r,i,o,a);let d=it.getModuleBitCount(e,n,r,i,o,a);if(d==null)return null;let w,A=ut.sum(d);if(i)w=o+A;else{for(let k=0;k<d.length/2;k++){let L=d[k];d[k]=d[d.length-1-k],d[d.length-1-k]=L}w=o,o=w-A}if(!it.checkCodewordSkew(A,u,f))return null;let I=yn.getDecodedValue(d),R=Qe.getCodeword(I);return R===-1?null:new Yr(o,w,it.getCodewordBucketNumber(I),R)}static getModuleBitCount(e,n,r,i,o,a){let u=o,f=new Int32Array(8),d=0,w=i?1:-1,A=i;for(;(i?u<r:u>=n)&&d<f.length;)e.get(u,a)===A?(f[d]++,u+=w):(d++,A=!A);return d===f.length||u===(i?r:n)&&d===f.length-1?f:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,r,i,o,a){let u=o,f=i?-1:1;for(let d=0;d<2;d++){for(;(i?u>=n:u<r)&&i===e.get(u,a);){if(Math.abs(o-u)>it.CODEWORD_SKEW_SIZE)return o;u+=f}f=-f,i=!i}return u}static checkCodewordSkew(e,n,r){return n-it.CODEWORD_SKEW_SIZE<=e&&e<=r+it.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,r){if(e.length===0)throw se.getFormatInstance();let i=1<<n+1,o=it.correctErrors(e,r,i);it.verifyCodewordCount(e,i);let a=q.decode(e,""+n);return a.setErrorsCorrected(o),a.setErasures(r.length),a}static correctErrors(e,n,r){if(n!=null&&n.length>r/2+it.MAX_ERRORS||r<0||r>it.MAX_EC_CODEWORDS)throw Ae.getChecksumInstance();return it.errorCorrection.decode(e,r,n)}static verifyCodewordCount(e,n){if(e.length<4)throw se.getFormatInstance();let r=e[0];if(r>e.length)throw se.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw se.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),r=0,i=n.length-1;for(;!((e&1)!==r&&(r=e&1,i--,i<0));)n[i]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return it.getCodewordBucketNumber(it.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new Rr;for(let r=0;r<e.length;r++){n.format("Row %2d: ",r);for(let i=0;i<e[r].length;i++){let o=e[r][i];o.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}n.format("%n")}return n.toString()}}it.CODEWORD_SKEW_SIZE=2,it.MAX_ERRORS=3,it.MAX_EC_CODEWORDS=512,it.errorCorrection=new ji;class Cn{decode(e,n=null){let r=Cn.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw $.getNotFoundInstance();return r[0]}decodeMultiple(e,n=null){try{return Cn.decode(e,n,!0)}catch(r){throw r instanceof se||r instanceof Ae?$.getNotFoundInstance():r}}static decode(e,n,r){const i=new Array,o=nt.detectMultiple(e,n,r);for(const a of o.getPoints()){const u=it.decode(o.getBits(),a[4],a[5],a[6],a[7],Cn.getMinCodewordWidth(a),Cn.getMaxCodewordWidth(a)),f=new Ne(u.getText(),u.getRawBytes(),void 0,a,Y.PDF_417);f.putMetadata(ke.ERROR_CORRECTION_LEVEL,u.getECLevel());const d=u.getOther();d!=null&&f.putMetadata(ke.PDF417_EXTRA_METADATA,d),i.push(f)}return i.map(a=>a)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?Ce.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Cn.getMaxWidth(e[0],e[4]),Cn.getMaxWidth(e[6],e[2])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN),Math.max(Cn.getMaxWidth(e[1],e[5]),Cn.getMaxWidth(e[7],e[3])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Cn.getMinWidth(e[0],e[4]),Cn.getMinWidth(e[6],e[2])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN),Math.min(Cn.getMinWidth(e[1],e[5]),Cn.getMinWidth(e[7],e[3])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN)))}reset(){}}class ds extends T{}ds.kind="ReaderException";class ui{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!S(e)&&e.get(Ge.TRY_HARDER)===!0,r=S(e)?null:e.get(Ge.POSSIBLE_FORMATS),i=new Array;if(!S(r)){const o=r.some(a=>a===Y.UPC_A||a===Y.UPC_E||a===Y.EAN_13||a===Y.EAN_8||a===Y.CODABAR||a===Y.CODE_39||a===Y.CODE_93||a===Y.CODE_128||a===Y.ITF||a===Y.RSS_14||a===Y.RSS_EXPANDED);o&&!n&&i.push(new as(e,this.verbose)),r.includes(Y.QR_CODE)&&i.push(new Dn),r.includes(Y.DATA_MATRIX)&&i.push(new ar),r.includes(Y.AZTEC)&&i.push(new Xn),r.includes(Y.PDF_417)&&i.push(new Cn),o&&n&&i.push(new as(e,this.verbose))}i.length===0&&(n||i.push(new as(e,this.verbose)),i.push(new Dn),i.push(new ar),i.push(new Xn),i.push(new Cn),n&&i.push(new as(e,this.verbose))),this.readers=i}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ds("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(r){if(r instanceof ds)continue}throw new $("No MultiFormat Readers were able to detect the code.")}}class js extends Se{constructor(e=null,n=500){const r=new ui;r.setHints(e),super(r,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class ci extends Se{constructor(e=500){super(new Cn,e)}}class ko extends Se{constructor(e=500){super(new Dn,e)}}var Hi;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(Hi||(Hi={}));var un=Hi;class zi{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Le(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let r=n[n.length-1];const i=this.field;for(let o=n.length;o<=e;o++){const a=r.multiply(new Le(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));n.push(a),r=a}}return n[e]}encode(e,n){if(n===0)throw new F("No error correction bytes");const r=e.length-n;if(r<=0)throw new F("No data bytes provided");const i=this.buildGenerator(n),o=new Int32Array(r);pe.arraycopy(e,0,o,0,r);let a=new Le(this.field,o);a=a.multiplyByMonomial(n,1);const f=a.divide(i)[1].getCoefficients(),d=n-f.length;for(let w=0;w<d;w++)e[r+w]=0;pe.arraycopy(f,0,e,r+d,f.length)}}class jt{constructor(){}static applyMaskPenaltyRule1(e){return jt.applyMaskPenaltyRule1Internal(e,!0)+jt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const r=e.getArray(),i=e.getWidth(),o=e.getHeight();for(let a=0;a<o-1;a++){const u=r[a];for(let f=0;f<i-1;f++){const d=u[f];d===u[f+1]&&d===r[a+1][f]&&d===r[a+1][f+1]&&n++}}return jt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const r=e.getArray(),i=e.getWidth(),o=e.getHeight();for(let a=0;a<o;a++)for(let u=0;u<i;u++){const f=r[a];u+6<i&&f[u]===1&&f[u+1]===0&&f[u+2]===1&&f[u+3]===1&&f[u+4]===1&&f[u+5]===0&&f[u+6]===1&&(jt.isWhiteHorizontal(f,u-4,u)||jt.isWhiteHorizontal(f,u+7,u+11))&&n++,a+6<o&&r[a][u]===1&&r[a+1][u]===0&&r[a+2][u]===1&&r[a+3][u]===1&&r[a+4][u]===1&&r[a+5][u]===0&&r[a+6][u]===1&&(jt.isWhiteVertical(r,u,a-4,a)||jt.isWhiteVertical(r,u,a+7,a+11))&&n++}return n*jt.N3}static isWhiteHorizontal(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let i=n;i<r;i++)if(e[i]===1)return!1;return!0}static isWhiteVertical(e,n,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(let o=r;o<i;o++)if(e[o][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const r=e.getArray(),i=e.getWidth(),o=e.getHeight();for(let f=0;f<o;f++){const d=r[f];for(let w=0;w<i;w++)d[w]===1&&n++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-a)*10/a)*jt.N4}static getDataMaskBit(e,n,r){let i,o;switch(e){case 0:i=r+n&1;break;case 1:i=r&1;break;case 2:i=n%3;break;case 3:i=(r+n)%3;break;case 4:i=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:o=r*n,i=(o&1)+o%3;break;case 6:o=r*n,i=(o&1)+o%3&1;break;case 7:o=r*n,i=o%3+(r+n&1)&1;break;default:throw new F("Invalid mask pattern: "+e)}return i===0}static applyMaskPenaltyRule1Internal(e,n){let r=0;const i=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),a=e.getArray();for(let u=0;u<i;u++){let f=0,d=-1;for(let w=0;w<o;w++){const A=n?a[u][w]:a[w][u];A===d?f++:(f>=5&&(r+=jt.N1+(f-5)),f=1,d=A)}f>=5&&(r+=jt.N1+(f-5))}return r}}jt.N1=3,jt.N2=3,jt.N3=40,jt.N4=10;class fi{constructor(e,n){this.width=e,this.height=n;const r=new Array(n);for(let i=0;i!==n;i++)r[i]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,r){this.bytes[n][e]=r}setBoolean(e,n,r){this.bytes[n][e]=r?1:0}clear(e){for(const n of this.bytes)Te.fill(n,e)}equals(e){if(!(e instanceof fi))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r],a=n.bytes[r];for(let u=0,f=this.width;u<f;++u)if(o[u]!==a[u])return!1}return!0}toString(){const e=new Xe;for(let n=0,r=this.height;n<r;++n){const i=this.bytes[n];for(let o=0,a=this.width;o<a;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Zr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Xe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Zr.NUM_MASK_PATTERNS}}Zr.NUM_MASK_PATTERNS=8;class bt extends T{}bt.kind="WriterException";class Ye{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,r,i,o){Ye.clearMatrix(o),Ye.embedBasicPatterns(r,o),Ye.embedTypeInfo(n,i,o),Ye.maybeEmbedVersionInfo(r,o),Ye.embedDataBits(e,i,o)}static embedBasicPatterns(e,n){Ye.embedPositionDetectionPatternsAndSeparators(n),Ye.embedDarkDotAtLeftBottomCorner(n),Ye.maybeEmbedPositionAdjustmentPatterns(e,n),Ye.embedTimingPatterns(n)}static embedTypeInfo(e,n,r){const i=new Me;Ye.makeTypeInfoBits(e,n,i);for(let o=0,a=i.getSize();o<a;++o){const u=i.get(i.getSize()-1-o),f=Ye.TYPE_INFO_COORDINATES[o],d=f[0],w=f[1];if(r.setBoolean(d,w,u),o<8){const A=r.getWidth()-o-1;r.setBoolean(A,8,u)}else{const I=r.getHeight()-7+(o-8);r.setBoolean(8,I,u)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const r=new Me;Ye.makeVersionInfoBits(e,r);let i=6*3-1;for(let o=0;o<6;++o)for(let a=0;a<3;++a){const u=r.get(i);i--,n.setBoolean(o,n.getHeight()-11+a,u),n.setBoolean(n.getHeight()-11+a,o,u)}}static embedDataBits(e,n,r){let i=0,o=-1,a=r.getWidth()-1,u=r.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);u>=0&&u<r.getHeight();){for(let f=0;f<2;++f){const d=a-f;if(!Ye.isEmpty(r.get(d,u)))continue;let w;i<e.getSize()?(w=e.get(i),++i):w=!1,n!==255&&jt.getDataMaskBit(n,d,u)&&(w=!w),r.setBoolean(d,u,w)}u+=o}o=-o,u+=o,a-=2}if(i!==e.getSize())throw new bt("Not all bits consumed: "+i+"/"+e.getSize())}static findMSBSet(e){return 32-Ce.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new F("0 polynomial");const r=Ye.findMSBSet(n);for(e<<=r-1;Ye.findMSBSet(e)>=r;)e^=n<<Ye.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,n,r){if(!Zr.isValidMaskPattern(n))throw new bt("Invalid mask pattern");const i=e.getBits()<<3|n;r.appendBits(i,5);const o=Ye.calculateBCHCode(i,Ye.TYPE_INFO_POLY);r.appendBits(o,10);const a=new Me;if(a.appendBits(Ye.TYPE_INFO_MASK_PATTERN,15),r.xor(a),r.getSize()!==15)throw new bt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const r=Ye.calculateBCHCode(e.getVersionNumber(),Ye.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new bt("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const r=(n+1)%2;Ye.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),Ye.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new bt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,r){for(let i=0;i<8;++i){if(!Ye.isEmpty(r.get(e+i,n)))throw new bt;r.setNumber(e+i,n,0)}}static embedVerticalSeparationPattern(e,n,r){for(let i=0;i<7;++i){if(!Ye.isEmpty(r.get(e,n+i)))throw new bt;r.setNumber(e,n+i,0)}}static embedPositionAdjustmentPattern(e,n,r){for(let i=0;i<5;++i){const o=Ye.POSITION_ADJUSTMENT_PATTERN[i];for(let a=0;a<5;++a)r.setNumber(e+a,n+i,o[a])}}static embedPositionDetectionPattern(e,n,r){for(let i=0;i<7;++i){const o=Ye.POSITION_DETECTION_PATTERN[i];for(let a=0;a<7;++a)r.setNumber(e+a,n+i,o[a])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Ye.POSITION_DETECTION_PATTERN[0].length;Ye.embedPositionDetectionPattern(0,0,e),Ye.embedPositionDetectionPattern(e.getWidth()-n,0,e),Ye.embedPositionDetectionPattern(0,e.getWidth()-n,e);const r=8;Ye.embedHorizontalSeparationPattern(0,r-1,e),Ye.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Ye.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const i=7;Ye.embedVerticalSeparationPattern(i,0,e),Ye.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),Ye.embedVerticalSeparationPattern(i,e.getHeight()-i,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,i=Ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,a=i.length;o!==a;o++){const u=i[o];if(u>=0)for(let f=0;f!==a;f++){const d=i[f];d>=0&&Ye.isEmpty(n.get(d,u))&&Ye.embedPositionAdjustmentPattern(d-2,u-2,n)}}}}Ye.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ye.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ye.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ye.VERSION_INFO_POLY=7973,Ye.TYPE_INFO_POLY=1335,Ye.TYPE_INFO_MASK_PATTERN=21522;class La{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class kt{constructor(){}static calculateMaskPenalty(e){return jt.applyMaskPenaltyRule1(e)+jt.applyMaskPenaltyRule2(e)+jt.applyMaskPenaltyRule3(e)+jt.applyMaskPenaltyRule4(e)}static encode(e,n,r=null){let i=kt.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(un.CHARACTER_SET)!==void 0;o&&(i=r.get(un.CHARACTER_SET).toString());const a=this.chooseMode(e,i),u=new Me;if(a===We.BYTE&&(o||kt.DEFAULT_BYTE_MODE_ENCODING!==i)){const ge=te.getCharacterSetECIByName(i);ge!==void 0&&this.appendECI(ge,u)}this.appendModeInfo(a,u);const f=new Me;this.appendBytes(e,a,f,i);let d;if(r!==null&&r.get(un.QR_VERSION)!==void 0){const ge=Number.parseInt(r.get(un.QR_VERSION).toString(),10);d=Ve.getVersionForNumber(ge);const ae=this.calculateBitsNeeded(a,u,f,d);if(!this.willFit(ae,d,n))throw new bt("Data too big for requested version")}else d=this.recommendVersion(n,a,u,f);const w=new Me;w.appendBitArray(u);const A=a===We.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(A,d,a,w),w.appendBitArray(f);const I=d.getECBlocksForLevel(n),R=d.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(R,w);const k=this.interleaveWithECBytes(w,d.getTotalCodewords(),R,I.getNumBlocks()),L=new Zr;L.setECLevel(n),L.setMode(a),L.setVersion(d);const H=d.getDimensionForVersion(),Z=new fi(H,H),de=this.chooseMaskPattern(k,n,d,Z);return L.setMaskPattern(de),Ye.buildMatrix(k,n,d,de,Z),L.setMatrix(Z),L}static recommendVersion(e,n,r,i){const o=this.calculateBitsNeeded(n,r,i,Ve.getVersionForNumber(1)),a=this.chooseVersion(o,e),u=this.calculateBitsNeeded(n,r,i,a);return this.chooseVersion(u,e)}static calculateBitsNeeded(e,n,r,i){return n.getSize()+e.getCharacterCountBits(i)+r.getSize()}static getAlphanumericCode(e){return e<kt.ALPHANUMERIC_TABLE.length?kt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(te.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return We.KANJI;let r=!1,i=!1;for(let o=0,a=e.length;o<a;++o){const u=e.charAt(o);if(kt.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)i=!0;else return We.BYTE}return i?We.ALPHANUMERIC:r?We.NUMERIC:We.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=yt.encode(e,te.SJIS)}catch{return!1}const r=n.length;if(r%2!==0)return!1;for(let i=0;i<r;i+=2){const o=n[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,n,r,i){let o=Number.MAX_SAFE_INTEGER,a=-1;for(let u=0;u<Zr.NUM_MASK_PATTERNS;u++){Ye.buildMatrix(e,n,r,u,i);let f=this.calculateMaskPenalty(i);f<o&&(o=f,a=u)}return a}static chooseVersion(e,n){for(let r=1;r<=40;r++){const i=Ve.getVersionForNumber(r);if(kt.willFit(e,i,n))return i}throw new bt("Data too big")}static willFit(e,n,r){const i=n.getTotalCodewords(),a=n.getECBlocksForLevel(r).getTotalECCodewords(),u=i-a,f=(e+7)/8;return u>=f}static terminateBits(e,n){const r=e*8;if(n.getSize()>r)throw new bt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(let a=0;a<4&&n.getSize()<r;++a)n.appendBit(!1);const i=n.getSize()&7;if(i>0)for(let a=i;a<8;a++)n.appendBit(!1);const o=e-n.getSizeInBytes();for(let a=0;a<o;++a)n.appendBits((a&1)===0?236:17,8);if(n.getSize()!==r)throw new bt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,r,i,o,a){if(i>=r)throw new bt("Block ID too large");const u=e%r,f=r-u,d=Math.floor(e/r),w=d+1,A=Math.floor(n/r),I=A+1,R=d-A,k=w-I;if(R!==k)throw new bt("EC bytes mismatch");if(r!==f+u)throw new bt("RS blocks mismatch");if(e!==(A+R)*f+(I+k)*u)throw new bt("Total bytes mismatch");i<f?(o[0]=A,a[0]=R):(o[0]=I,a[0]=k)}static interleaveWithECBytes(e,n,r,i){if(e.getSizeInBytes()!==r)throw new bt("Number of bits and data bytes does not match");let o=0,a=0,u=0;const f=new Array;for(let w=0;w<i;++w){const A=new Int32Array(1),I=new Int32Array(1);kt.getNumDataBytesAndNumECBytesForBlockID(n,r,i,w,A,I);const R=A[0],k=new Uint8Array(R);e.toBytes(8*o,k,0,R);const L=kt.generateECBytes(k,I[0]);f.push(new La(k,L)),a=Math.max(a,R),u=Math.max(u,L.length),o+=A[0]}if(r!==o)throw new bt("Data bytes does not match offset");const d=new Me;for(let w=0;w<a;++w)for(const A of f){const I=A.getDataBytes();w<I.length&&d.appendBits(I[w],8)}for(let w=0;w<u;++w)for(const A of f){const I=A.getErrorCorrectionBytes();w<I.length&&d.appendBits(I[w],8)}if(n!==d.getSizeInBytes())throw new bt("Interleaving error: "+n+" and "+d.getSizeInBytes()+" differ.");return d}static generateECBytes(e,n){const r=e.length,i=new Int32Array(r+n);for(let a=0;a<r;a++)i[a]=e[a]&255;new zi(ot.QR_CODE_FIELD_256).encode(i,n);const o=new Uint8Array(n);for(let a=0;a<n;a++)o[a]=i[r+a];return o}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,r,i){const o=r.getCharacterCountBits(n);if(e>=1<<o)throw new bt(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)}static appendBytes(e,n,r,i){switch(n){case We.NUMERIC:kt.appendNumericBytes(e,r);break;case We.ALPHANUMERIC:kt.appendAlphanumericBytes(e,r);break;case We.BYTE:kt.append8BitBytes(e,r,i);break;case We.KANJI:kt.appendKanjiBytes(e,r);break;default:throw new bt("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=kt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const r=e.length;let i=0;for(;i<r;){const o=kt.getDigit(e.charAt(i));if(i+2<r){const a=kt.getDigit(e.charAt(i+1)),u=kt.getDigit(e.charAt(i+2));n.appendBits(o*100+a*10+u,10),i+=3}else if(i+1<r){const a=kt.getDigit(e.charAt(i+1));n.appendBits(o*10+a,7),i+=2}else n.appendBits(o,4),i++}}static appendAlphanumericBytes(e,n){const r=e.length;let i=0;for(;i<r;){const o=kt.getAlphanumericCode(e.charCodeAt(i));if(o===-1)throw new bt;if(i+1<r){const a=kt.getAlphanumericCode(e.charCodeAt(i+1));if(a===-1)throw new bt;n.appendBits(o*45+a,11),i+=2}else n.appendBits(o,6),i++}}static append8BitBytes(e,n,r){let i;try{i=yt.encode(e,r)}catch(o){throw new bt(o)}for(let o=0,a=i.length;o!==a;o++){const u=i[o];n.appendBits(u,8)}}static appendKanjiBytes(e,n){let r;try{r=yt.encode(e,te.SJIS)}catch(o){throw new bt(o)}const i=r.length;for(let o=0;o<i;o+=2){const a=r[o]&255,u=r[o+1]&255,f=a<<8&4294967295|u;let d=-1;if(f>=33088&&f<=40956?d=f-33088:f>=57408&&f<=60351&&(d=f-49472),d===-1)throw new bt("Invalid byte sequence");const w=(d>>8)*192+(d&255);n.appendBits(w,13)}}static appendECI(e,n){n.appendBits(We.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}kt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),kt.DEFAULT_BYTE_MODE_ENCODING=te.UTF8.getName();class qr{write(e,n,r,i=null){if(e.length===0)throw new F("Found empty contents");if(n<0||r<0)throw new F("Requested dimensions are too small: "+n+"x"+r);let o=Ot.L,a=qr.QUIET_ZONE_SIZE;i!==null&&(i.get(un.ERROR_CORRECTION)!==void 0&&(o=Ot.fromString(i.get(un.ERROR_CORRECTION).toString())),i.get(un.MARGIN)!==void 0&&(a=Number.parseInt(i.get(un.MARGIN).toString(),10)));const u=kt.encode(e,o,i);return this.renderResult(u,n,r,a)}writeToDom(e,n,r,i,o=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(n,r,i,o);e&&e.appendChild(a)}renderResult(e,n,r,i){const o=e.getMatrix();if(o===null)throw new on;const a=o.getWidth(),u=o.getHeight(),f=a+i*2,d=u+i*2,w=Math.max(n,f),A=Math.max(r,d),I=Math.min(Math.floor(w/f),Math.floor(A/d)),R=Math.floor((w-a*I)/2),k=Math.floor((A-u*I)/2),L=this.createSVGElement(w,A);for(let H=0,Z=k;H<u;H++,Z+=I)for(let de=0,ge=R;de<a;de++,ge+=I)if(o.get(de,H)===1){const ae=this.createSvgRectElement(ge,Z,I,I);L.appendChild(ae)}return L}createSVGElement(e,n){const r=document.createElementNS(qr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r}createSvgRectElement(e,n,r,i){const o=document.createElementNS(qr.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",i.toString()),o.setAttributeNS(null,"fill","#000000"),o}}qr.QUIET_ZONE_SIZE=4,qr.SVG_NS="http://www.w3.org/2000/svg";class hs{encode(e,n,r,i,o){if(e.length===0)throw new F("Found empty contents");if(n!==Y.QR_CODE)throw new F("Can only encode QR_CODE, but got "+n);if(r<0||i<0)throw new F(`Requested dimensions are too small: ${r}x${i}`);let a=Ot.L,u=hs.QUIET_ZONE_SIZE;o!==null&&(o.get(un.ERROR_CORRECTION)!==void 0&&(a=Ot.fromString(o.get(un.ERROR_CORRECTION).toString())),o.get(un.MARGIN)!==void 0&&(u=Number.parseInt(o.get(un.MARGIN).toString(),10)));const f=kt.encode(e,a,o);return hs.renderResult(f,r,i,u)}static renderResult(e,n,r,i){const o=e.getMatrix();if(o===null)throw new on;const a=o.getWidth(),u=o.getHeight(),f=a+i*2,d=u+i*2,w=Math.max(n,f),A=Math.max(r,d),I=Math.min(Math.floor(w/f),Math.floor(A/d)),R=Math.floor((w-a*I)/2),k=Math.floor((A-u*I)/2),L=new Ze(w,A);for(let H=0,Z=k;H<u;H++,Z+=I)for(let de=0,ge=R;de<a;de++,ge+=I)o.get(de,H)===1&&L.setRegion(ge,Z,I,I);return L}}hs.QUIET_ZONE_SIZE=4;class Fa{encode(e,n,r,i,o){let a;switch(n){case Y.QR_CODE:a=new hs;break;default:throw new F("No encoder available for format "+n)}return a.encode(e,n,r,i,o)}}class Er extends re{constructor(e,n,r,i,o,a,u,f){if(super(a,u),this.yuvData=e,this.dataWidth=n,this.dataHeight=r,this.left=i,this.top=o,i+a>n||o+u>r)throw new F("Crop rectangle does not fit within image data.");f&&this.reverseHorizontal(a,u)}getRow(e,n){if(e<0||e>=this.getHeight())throw new F("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const i=(e+this.top)*this.dataWidth+this.left;return pe.arraycopy(this.yuvData,i,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const r=e*n,i=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return pe.arraycopy(this.yuvData,o,i,0,r),i;for(let a=0;a<n;a++){const u=a*e;pe.arraycopy(this.yuvData,o,i,u,e),o+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,n,r,i){return new Er(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,i,!1)}renderThumbnail(){const e=this.getWidth()/Er.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/Er.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),i=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let a=0;a<n;a++){const u=a*e;for(let f=0;f<e;f++){const d=i[o+f*Er.THUMBNAIL_SCALE_FACTOR]&255;r[u+f]=4278190080|d*65793}o+=this.dataWidth*Er.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/Er.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Er.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const r=this.yuvData;for(let i=0,o=this.top*this.dataWidth+this.left;i<n;i++,o+=this.dataWidth){const a=o+e/2;for(let u=o,f=o+e-1;u<a;u++,f--){const d=r[u];r[u]=r[f],r[f]=d}}}invert(){return new ve(this)}}Er.THUMBNAIL_SCALE_FACTOR=2;class Us extends re{constructor(e,n,r,i,o,a,u){if(super(n,r),this.dataWidth=i,this.dataHeight=o,this.left=a,this.top=u,e.BYTES_PER_ELEMENT===4){const f=n*r,d=new Uint8ClampedArray(f);for(let w=0;w<f;w++){const A=e[w],I=A>>16&255,R=A>>7&510,k=A&255;d[w]=(I+R+k)/4&255}this.luminances=d}else this.luminances=e;if(i===void 0&&(this.dataWidth=n),o===void 0&&(this.dataHeight=r),a===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+r>this.dataHeight)throw new F("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new F("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const i=(e+this.top)*this.dataWidth+this.left;return pe.arraycopy(this.luminances,i,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const r=e*n,i=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return pe.arraycopy(this.luminances,o,i,0,r),i;for(let a=0;a<n;a++){const u=a*e;pe.arraycopy(this.luminances,o,i,u,e),o+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,n,r,i){return new Us(this.luminances,r,i,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new ve(this)}}class Mo extends te{static forName(e){return this.getCharacterSetECIByName(e)}}class Wi{}Wi.ISO_8859_1=te.ISO8859_1;class Po{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Gi{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class ja{constructor(e){this.previous=e}getPrevious(){return this.previous}}class gs extends ja{constructor(e,n,r){super(e),this.value=n,this.bitCount=r}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new gs(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new gs(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+Ce.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Xi extends gs{constructor(e,n,r){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=r}appendTo(e,n){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+r],8)}addBinaryShift(e,n){return new Xi(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ua(C,e,n){return new Xi(C,e,n)}function Vs(C,e,n){return new gs(C,e,n)}const Va=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Vr=0,ps=1,Nn=2,Bo=3,ur=4,Lo=new gs(null,0,0),di=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Fo(C){for(let e of C)Te.fill(e,-1);return C[Vr][ur]=0,C[ps][ur]=0,C[ps][Vr]=28,C[Bo][ur]=0,C[Nn][ur]=0,C[Nn][Vr]=15,C}const Yi=Fo(Te.createInt32Array(6,6));class kn{constructor(e,n,r,i){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=i}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let r=this.bitCount,i=this.token;if(e!==this.mode){let a=di[this.mode][e];i=Vs(i,a&65535,a>>16),r+=a>>16}let o=e===Nn?4:5;return i=Vs(i,n,o),new kn(i,e,0,r+o)}shiftAndAppend(e,n){let r=this.token,i=this.mode===Nn?4:5;return r=Vs(r,Yi[this.mode][e],i),r=Vs(r,n,5),new kn(r,this.mode,0,this.bitCount+i+5)}addBinaryShiftChar(e){let n=this.token,r=this.mode,i=this.bitCount;if(this.mode===ur||this.mode===Nn){let u=di[r][Vr];n=Vs(n,u&65535,u>>16),i+=u>>16,r=Vr}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new kn(n,r,this.binaryShiftByteCount+1,i+o);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Ua(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new kn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(di[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=kn.calculateBinaryShiftCost(e)-kn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())n.unshift(i);let r=new Me;for(const i of n)i.appendTo(r,e);return r}toString(){return Be.format("%s bits=%d bytes=%d",Va[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}kn.INITIAL_STATE=new kn(Lo,Vr,0,0);function Ha(C){const e=Be.getCharCode(" "),n=Be.getCharCode("."),r=Be.getCharCode(",");C[Vr][e]=1;const i=Be.getCharCode("Z"),o=Be.getCharCode("A");for(let I=o;I<=i;I++)C[Vr][I]=I-o+2;C[ps][e]=1;const a=Be.getCharCode("z"),u=Be.getCharCode("a");for(let I=u;I<=a;I++)C[ps][I]=I-u+2;C[Nn][e]=1;const f=Be.getCharCode("9"),d=Be.getCharCode("0");for(let I=d;I<=f;I++)C[Nn][I]=I-d+2;C[Nn][r]=12,C[Nn][n]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<w.length;I++)C[Bo][Be.getCharCode(w[I])]=I;const A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<A.length;I++)Be.getCharCode(A[I])>0&&(C[ur][Be.getCharCode(A[I])]=I);return C}const Zi=Ha(Te.createInt32Array(5,256));class Hs{constructor(e){this.text=e}encode(){const e=Be.getCharCode(" "),n=Be.getCharCode(`
`);let r=Gi.singletonList(kn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let a,u=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case Be.getCharCode("\r"):a=u===n?2:0;break;case Be.getCharCode("."):a=u===e?3:0;break;case Be.getCharCode(","):a=u===e?4:0;break;case Be.getCharCode(":"):a=u===e?5:0;break;default:a=0}a>0?(r=Hs.updateStateListForPair(r,o,a),o++):r=this.updateStateListForChar(r,o)}return Gi.min(r,(o,a)=>o.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const r=[];for(let i of e)this.updateStateForChar(i,n,r);return Hs.simplifyStates(r)}updateStateForChar(e,n,r){let i=this.text[n]&255,o=Zi[e.getMode()][i]>0,a=null;for(let u=0;u<=ur;u++){let f=Zi[u][i];if(f>0){if(a==null&&(a=e.endBinaryShift(n)),!o||u===e.getMode()||u===Nn){const d=a.latchAndAppend(u,f);r.push(d)}if(!o&&Yi[e.getMode()][u]>=0){const d=a.shiftAndAppend(u,f);r.push(d)}}}if(e.getBinaryShiftByteCount()>0||Zi[e.getMode()][i]===0){let u=e.addBinaryShiftChar(n);r.push(u)}}static updateStateListForPair(e,n,r){const i=[];for(let o of e)this.updateStateForPair(o,n,r,i);return this.simplifyStates(i)}static updateStateForPair(e,n,r,i){let o=e.endBinaryShift(n);if(i.push(o.latchAndAppend(ur,r)),e.getMode()!==ur&&i.push(o.shiftAndAppend(ur,r)),r===3||r===4){let a=o.latchAndAppend(Nn,16-r).latchAndAppend(Nn,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);i.push(a)}}static simplifyStates(e){let n=[];for(const r of e){let i=!0;for(const o of n){if(o.isBetterThanOrEqualTo(r)){i=!1;break}r.isBetterThanOrEqualTo(o)&&(n=n.filter(a=>a!==o))}i&&n.push(r)}return n}}class pt{constructor(){}static encodeBytes(e){return pt.encode(e,pt.DEFAULT_EC_PERCENT,pt.DEFAULT_AZTEC_LAYERS)}static encode(e,n,r){let i=new Hs(e).encode(),o=Ce.truncDivision(i.getSize()*n,100)+11,a=i.getSize()+o,u,f,d,w,A;if(r!==pt.DEFAULT_AZTEC_LAYERS){if(u=r<0,f=Math.abs(r),f>(u?pt.MAX_NB_BITS_COMPACT:pt.MAX_NB_BITS))throw new F(Be.format("Illegal value %s for layers",r));d=pt.totalBitsInLayer(f,u),w=pt.WORD_SIZE[f];let ae=d-d%w;if(A=pt.stuffBits(i,w),A.getSize()+o>ae)throw new F("Data to large for user specified layer");if(u&&A.getSize()>w*64)throw new F("Data to large for user specified layer")}else{w=0,A=null;for(let ae=0;;ae++){if(ae>pt.MAX_NB_BITS)throw new F("Data too large for an Aztec code");if(u=ae<=3,f=u?ae+1:ae,d=pt.totalBitsInLayer(f,u),a>d)continue;(A==null||w!==pt.WORD_SIZE[f])&&(w=pt.WORD_SIZE[f],A=pt.stuffBits(i,w));let ft=d-d%w;if(!(u&&A.getSize()>w*64)&&A.getSize()+o<=ft)break}}let I=pt.generateCheckWords(A,d,w),R=A.getSize()/w,k=pt.generateModeMessage(u,f,R),L=(u?11:14)+f*4,H=new Int32Array(L),Z;if(u){Z=L;for(let ae=0;ae<H.length;ae++)H[ae]=ae}else{Z=L+1+2*Ce.truncDivision(Ce.truncDivision(L,2)-1,15);let ae=Ce.truncDivision(L,2),ft=Ce.truncDivision(Z,2);for(let rt=0;rt<ae;rt++){let Un=rt+Ce.truncDivision(rt,15);H[ae-rt-1]=ft-Un-1,H[ae+rt]=ft+Un+1}}let de=new Ze(Z);for(let ae=0,ft=0;ae<f;ae++){let rt=(f-ae)*4+(u?9:12);for(let Un=0;Un<rt;Un++){let cr=Un*2;for(let cn=0;cn<2;cn++)I.get(ft+cr+cn)&&de.set(H[ae*2+cn],H[ae*2+Un]),I.get(ft+rt*2+cr+cn)&&de.set(H[ae*2+Un],H[L-1-ae*2-cn]),I.get(ft+rt*4+cr+cn)&&de.set(H[L-1-ae*2-cn],H[L-1-ae*2-Un]),I.get(ft+rt*6+cr+cn)&&de.set(H[L-1-ae*2-Un],H[ae*2+cn])}ft+=rt*8}if(pt.drawModeMessage(de,u,Z,k),u)pt.drawBullsEye(de,Ce.truncDivision(Z,2),5);else{pt.drawBullsEye(de,Ce.truncDivision(Z,2),7);for(let ae=0,ft=0;ae<Ce.truncDivision(L,2)-1;ae+=15,ft+=16)for(let rt=Ce.truncDivision(Z,2)&1;rt<Z;rt+=2)de.set(Ce.truncDivision(Z,2)-ft,rt),de.set(Ce.truncDivision(Z,2)+ft,rt),de.set(rt,Ce.truncDivision(Z,2)-ft),de.set(rt,Ce.truncDivision(Z,2)+ft)}let ge=new Po;return ge.setCompact(u),ge.setSize(Z),ge.setLayers(f),ge.setCodeWords(R),ge.setMatrix(de),ge}static drawBullsEye(e,n,r){for(let i=0;i<r;i+=2)for(let o=n-i;o<=n+i;o++)e.set(o,n-i),e.set(o,n+i),e.set(n-i,o),e.set(n+i,o);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)}static generateModeMessage(e,n,r){let i=new Me;return e?(i.appendBits(n-1,2),i.appendBits(r-1,6),i=pt.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(r-1,11),i=pt.generateCheckWords(i,40,4)),i}static drawModeMessage(e,n,r,i){let o=Ce.truncDivision(r,2);if(n)for(let a=0;a<7;a++){let u=o-3+a;i.get(a)&&e.set(u,o-5),i.get(a+7)&&e.set(o+5,u),i.get(20-a)&&e.set(u,o+5),i.get(27-a)&&e.set(o-5,u)}else for(let a=0;a<10;a++){let u=o-5+a+Ce.truncDivision(a,5);i.get(a)&&e.set(u,o-7),i.get(a+10)&&e.set(o+7,u),i.get(29-a)&&e.set(u,o+7),i.get(39-a)&&e.set(o-7,u)}}static generateCheckWords(e,n,r){let i=e.getSize()/r,o=new zi(pt.getGF(r)),a=Ce.truncDivision(n,r),u=pt.bitsToWords(e,r,a);o.encode(u,a-i);let f=n%r,d=new Me;d.appendBits(0,f);for(const w of Array.from(u))d.appendBits(w,r);return d}static bitsToWords(e,n,r){let i=new Int32Array(r),o,a;for(o=0,a=e.getSize()/n;o<a;o++){let u=0;for(let f=0;f<n;f++)u|=e.get(o*n+f)?1<<n-f-1:0;i[o]=u}return i}static getGF(e){switch(e){case 4:return ot.AZTEC_PARAM;case 6:return ot.AZTEC_DATA_6;case 8:return ot.AZTEC_DATA_8;case 10:return ot.AZTEC_DATA_10;case 12:return ot.AZTEC_DATA_12;default:throw new F("Unsupported word size "+e)}}static stuffBits(e,n){let r=new Me,i=e.getSize(),o=(1<<n)-2;for(let a=0;a<i;a+=n){let u=0;for(let f=0;f<n;f++)(a+f>=i||e.get(a+f))&&(u|=1<<n-1-f);(u&o)===o?(r.appendBits(u&o,n),a--):(u&o)===0?(r.appendBits(u|1,n),a--):r.appendBits(u,n)}return r}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}pt.DEFAULT_EC_PERCENT=33,pt.DEFAULT_AZTEC_LAYERS=0,pt.MAX_NB_BITS=32,pt.MAX_NB_BITS_COMPACT=4,pt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class zs{encode(e,n,r,i){return this.encodeWithHints(e,n,r,i,null)}encodeWithHints(e,n,r,i,o){let a=Wi.ISO_8859_1,u=pt.DEFAULT_EC_PERCENT,f=pt.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(un.CHARACTER_SET)&&(a=Mo.forName(o.get(un.CHARACTER_SET).toString())),o.has(un.ERROR_CORRECTION)&&(u=Ce.parseInt(o.get(un.ERROR_CORRECTION).toString())),o.has(un.AZTEC_LAYERS)&&(f=Ce.parseInt(o.get(un.AZTEC_LAYERS).toString()))),zs.encodeLayers(e,n,r,i,a,u,f)}static encodeLayers(e,n,r,i,o,a,u){if(n!==Y.AZTEC)throw new F("Can only encode AZTEC, but got "+n);let f=pt.encode(Be.getBytes(e,o),a,u);return zs.renderResult(f,r,i)}static renderResult(e,n,r){let i=e.getMatrix();if(i==null)throw new on;let o=i.getWidth(),a=i.getHeight(),u=Math.max(n,o),f=Math.max(r,a),d=Math.min(u/o,f/a),w=(u-o*d)/2,A=(f-a*d)/2,I=new Ze(u,f);for(let R=0,k=A;R<a;R++,k+=d)for(let L=0,H=w;L<o;L++,H+=d)i.get(L,R)&&I.setRegion(H,k,d,d);return I}}g.AbstractExpandedDecoder=ki,g.ArgumentException=z,g.ArithmeticException=sr,g.AztecCode=Po,g.AztecCodeReader=Xn,g.AztecCodeWriter=zs,g.AztecDecoder=Ct,g.AztecDetector=pr,g.AztecDetectorResult=xn,g.AztecEncoder=pt,g.AztecHighLevelEncoder=Hs,g.AztecPoint=tn,g.BarcodeFormat=Y,g.Binarizer=ze,g.BinaryBitmap=we,g.BitArray=Me,g.BitMatrix=Ze,g.BitSource=Bi,g.BrowserAztecCodeReader=Ds,g.BrowserBarcodeReader=To,g.BrowserCodeReader=Se,g.BrowserDatamatrixCodeReader=Ba,g.BrowserMultiFormatReader=js,g.BrowserPDF417Reader=ci,g.BrowserQRCodeReader=ko,g.BrowserQRCodeSvgWriter=qr,g.CharacterSetECI=te,g.ChecksumException=Ae,g.Code128Reader=he,g.Code39Reader=Ht,g.DataMatrixDecodedBitStreamParser=or,g.DataMatrixReader=ar,g.DecodeHintType=Ge,g.DecoderResult=Oe,g.DefaultGridSampler=en,g.DetectorResult=Rn,g.EAN13Reader=ce,g.EncodeHintType=un,g.Exception=T,g.FormatException=se,g.GenericGF=ot,g.GenericGFPoly=Le,g.GlobalHistogramBinarizer=Fe,g.GridSampler=dn,g.GridSamplerInstance=On,g.HTMLCanvasElementLuminanceSource=le,g.HybridBinarizer=ye,g.ITFReader=mt,g.IllegalArgumentException=F,g.IllegalStateException=on,g.InvertedLuminanceSource=ve,g.LuminanceSource=re,g.MathUtils=ut,g.MultiFormatOneDReader=as,g.MultiFormatReader=ui,g.MultiFormatWriter=Fa,g.NotFoundException=$,g.OneDReader=Mt,g.PDF417DecodedBitStreamParser=q,g.PDF417DecoderErrorCorrection=ji,g.PDF417Reader=Cn,g.PDF417ResultMetadata=ai,g.PerspectiveTransform=an,g.PlanarYUVLuminanceSource=Er,g.QRCodeByteMatrix=fi,g.QRCodeDataMask=lt,g.QRCodeDecodedBitStreamParser=Ft,g.QRCodeDecoderErrorCorrectionLevel=Ot,g.QRCodeDecoderFormatInformation=mn,g.QRCodeEncoder=kt,g.QRCodeEncoderQRCode=Zr,g.QRCodeMaskUtil=jt,g.QRCodeMatrixUtil=Ye,g.QRCodeMode=We,g.QRCodeReader=Dn,g.QRCodeVersion=Ve,g.QRCodeWriter=hs,g.RGBLuminanceSource=Us,g.RSS14Reader=Pt,g.RSSExpandedReader=ne,g.ReaderException=ds,g.ReedSolomonDecoder=Ln,g.ReedSolomonEncoder=zi,g.ReedSolomonException=Gn,g.Result=Ne,g.ResultMetadataType=ke,g.ResultPoint=ie,g.StringUtils=Be,g.UnsupportedOperationException=Jt,g.VideoInputDevice=U,g.WhiteRectangleDetector=Xt,g.WriterException=bt,g.ZXingArrays=Te,g.ZXingCharset=Mo,g.ZXingInteger=Ce,g.ZXingStandardCharsets=Wi,g.ZXingStringBuilder=Xe,g.ZXingStringEncoding=yt,g.ZXingSystem=pe,g.createAbstractExpandedDecoder=No,Object.defineProperty(g,"__esModule",{value:!0})})}(mo,mo.exports)),mo.exports}var Gt=od();const ad=fu(Gt),ld=L1({__proto__:null,default:ad},[Gt]);var O1=function(){function x(m,g,S){if(this.formatMap=new Map([[be.QR_CODE,Gt.BarcodeFormat.QR_CODE],[be.AZTEC,Gt.BarcodeFormat.AZTEC],[be.CODABAR,Gt.BarcodeFormat.CODABAR],[be.CODE_39,Gt.BarcodeFormat.CODE_39],[be.CODE_93,Gt.BarcodeFormat.CODE_93],[be.CODE_128,Gt.BarcodeFormat.CODE_128],[be.DATA_MATRIX,Gt.BarcodeFormat.DATA_MATRIX],[be.MAXICODE,Gt.BarcodeFormat.MAXICODE],[be.ITF,Gt.BarcodeFormat.ITF],[be.EAN_13,Gt.BarcodeFormat.EAN_13],[be.EAN_8,Gt.BarcodeFormat.EAN_8],[be.PDF_417,Gt.BarcodeFormat.PDF_417],[be.RSS_14,Gt.BarcodeFormat.RSS_14],[be.RSS_EXPANDED,Gt.BarcodeFormat.RSS_EXPANDED],[be.UPC_A,Gt.BarcodeFormat.UPC_A],[be.UPC_E,Gt.BarcodeFormat.UPC_E],[be.UPC_EAN_EXTENSION,Gt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ld)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=g,this.logger=S;var v=this.createZXingFormats(m),E=new Map;E.set(Gt.DecodeHintType.POSSIBLE_FORMATS,v),E.set(Gt.DecodeHintType.TRY_HARDER,!1),this.hints=E}return x.prototype.decodeAsync=function(m){var g=this;return new Promise(function(S,v){try{S(g.decode(m))}catch(E){v(E)}})},x.prototype.decode=function(m){var g=new Gt.MultiFormatReader(this.verbose,this.hints),S=new Gt.HTMLCanvasElementLuminanceSource(m),v=new Gt.BinaryBitmap(new Gt.HybridBinarizer(S)),E=g.decode(v);return{text:E.text,format:Q1.create(this.toHtml5QrcodeSupportedFormats(E.format)),debugData:this.createDebugData()}},x.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(g,S,v){m.set(g,S)}),m},x.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},x.prototype.createZXingFormats=function(m){for(var g=[],S=0,v=m;S<v.length;S++){var E=v[S];this.formatMap.has(E)?g.push(this.formatMap.get(E)):this.logger.logError("".concat(E," is not supported by")+"ZXingHtml5QrcodeShim")}return g},x.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},x}(),ud=function(x,m,g,S){function v(E){return E instanceof g?E:new g(function(D){D(E)})}return new(g||(g=Promise))(function(E,D){function V(z){try{T(S.next(z))}catch(F){D(F)}}function P(z){try{T(S.throw(z))}catch(F){D(F)}}function T(z){z.done?E(z.value):v(z.value).then(V,P)}T((S=S.apply(x,m||[])).next())})},cd=function(x,m){var g={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},S,v,E,D;return D={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function V(T){return function(z){return P([T,z])}}function P(T){if(S)throw new TypeError("Generator is already executing.");for(;D&&(D=0,T[0]&&(g=0)),g;)try{if(S=1,v&&(E=T[0]&2?v.return:T[0]?v.throw||((E=v.return)&&E.call(v),0):v.next)&&!(E=E.call(v,T[1])).done)return E;switch(v=0,E&&(T=[T[0]&2,E.value]),T[0]){case 0:case 1:E=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,v=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(E=g.trys,!(E=E.length>0&&E[E.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!E||T[1]>E[0]&&T[1]<E[3])){g.label=T[1];break}if(T[0]===6&&g.label<E[1]){g.label=E[1],E=T;break}if(E&&g.label<E[2]){g.label=E[2],g.ops.push(T);break}E[2]&&g.ops.pop(),g.trys.pop();continue}T=m.call(x,g)}catch(z){T=[6,z],v=0}finally{S=E=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},b1=function(){function x(m,g,S){if(this.formatMap=new Map([[be.QR_CODE,"qr_code"],[be.AZTEC,"aztec"],[be.CODABAR,"codabar"],[be.CODE_39,"code_39"],[be.CODE_93,"code_93"],[be.CODE_128,"code_128"],[be.DATA_MATRIX,"data_matrix"],[be.ITF,"itf"],[be.EAN_13,"ean_13"],[be.EAN_8,"ean_8"],[be.PDF_417,"pdf417"],[be.UPC_A,"upc_a"],[be.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!x.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=g,this.logger=S;var v=this.createBarcodeDetectorFormats(m);if(this.detector=new BarcodeDetector(v),!this.detector)throw"BarcodeDetector detector not supported"}return x.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var m=new BarcodeDetector({formats:["qr_code"]});return typeof m<"u"},x.prototype.decodeAsync=function(m){return ud(this,void 0,void 0,function(){var g,S;return cd(this,function(v){switch(v.label){case 0:return[4,this.detector.detect(m)];case 1:if(g=v.sent(),!g||g.length===0)throw"No barcode or QR code detected.";return S=this.selectLargestBarcode(g),[2,{text:S.rawValue,format:Q1.create(this.toHtml5QrcodeSupportedFormats(S.format)),debugData:this.createDebugData()}]}})})},x.prototype.selectLargestBarcode=function(m){for(var g=null,S=0,v=0,E=m;v<E.length;v++){var D=E[v],V=D.boundingBox.width*D.boundingBox.height;V>S&&(S=V,g=D)}if(!g)throw"No largest barcode found";return g},x.prototype.createBarcodeDetectorFormats=function(m){for(var g=[],S=0,v=m;S<v.length;S++){var E=v[S];this.formatMap.has(E)?g.push(this.formatMap.get(E)):this.logger.warn("".concat(E," is not supported by")+"BarcodeDetectorDelegate")}return{formats:g}},x.prototype.toHtml5QrcodeSupportedFormats=function(m){if(!this.reverseFormatMap.has(m))throw"reverseFormatMap doesn't have ".concat(m);return this.reverseFormatMap.get(m)},x.prototype.createReverseFormatMap=function(){var m=new Map;return this.formatMap.forEach(function(g,S,v){m.set(g,S)}),m},x.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},x}(),D1=function(x,m,g,S){function v(E){return E instanceof g?E:new g(function(D){D(E)})}return new(g||(g=Promise))(function(E,D){function V(z){try{T(S.next(z))}catch(F){D(F)}}function P(z){try{T(S.throw(z))}catch(F){D(F)}}function T(z){z.done?E(z.value):v(z.value).then(V,P)}T((S=S.apply(x,m||[])).next())})},k1=function(x,m){var g={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},S,v,E,D;return D={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function V(T){return function(z){return P([T,z])}}function P(T){if(S)throw new TypeError("Generator is already executing.");for(;D&&(D=0,T[0]&&(g=0)),g;)try{if(S=1,v&&(E=T[0]&2?v.return:T[0]?v.throw||((E=v.return)&&E.call(v),0):v.next)&&!(E=E.call(v,T[1])).done)return E;switch(v=0,E&&(T=[T[0]&2,E.value]),T[0]){case 0:case 1:E=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,v=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(E=g.trys,!(E=E.length>0&&E[E.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!E||T[1]>E[0]&&T[1]<E[3])){g.label=T[1];break}if(T[0]===6&&g.label<E[1]){g.label=E[1],E=T;break}if(E&&g.label<E[2]){g.label=E[2],g.ops.push(T);break}E[2]&&g.ops.pop(),g.trys.pop();continue}T=m.call(x,g)}catch(z){T=[6,z],v=0}finally{S=E=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},fd=function(){function x(m,g,S,v){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=S,g&&b1.isSupported()?(this.primaryDecoder=new b1(m,S,v),this.secondaryDecoder=new O1(m,S,v)):this.primaryDecoder=new O1(m,S,v)}return x.prototype.decodeAsync=function(m){return D1(this,void 0,void 0,function(){var g;return k1(this,function(S){switch(S.label){case 0:g=performance.now(),S.label=1;case 1:return S.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(m)];case 2:return[2,S.sent()];case 3:return this.possiblyLogPerformance(g),[7];case 4:return[2]}})})},x.prototype.decodeRobustlyAsync=function(m){return D1(this,void 0,void 0,function(){var g,S;return k1(this,function(v){switch(v.label){case 0:g=performance.now(),v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(m)];case 2:return[2,v.sent()];case 3:if(S=v.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(m)];throw S;case 4:return this.possiblyLogPerformance(g),[7];case 5:return[2]}})})},x.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},x.prototype.possiblyLogPerformance=function(m){if(this.verbose){var g=performance.now()-m;this.executionResults.push(g),this.executions++,this.possiblyFlushPerformanceReport()}},x.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var m=0,g=0,S=this.executionResults;g<S.length;g++){var v=S[g];m+=v}var E=m/this.executionResults.length;console.log("".concat(E," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},x}(),pu=function(){var x=function(m,g){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,v){S.__proto__=v}||function(S,v){for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(S[E]=v[E])},x(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");x(m,g);function S(){this.constructor=m}m.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}}(),Da=function(x,m,g,S){function v(E){return E instanceof g?E:new g(function(D){D(E)})}return new(g||(g=Promise))(function(E,D){function V(z){try{T(S.next(z))}catch(F){D(F)}}function P(z){try{T(S.throw(z))}catch(F){D(F)}}function T(z){z.done?E(z.value):v(z.value).then(V,P)}T((S=S.apply(x,m||[])).next())})},ka=function(x,m){var g={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},S,v,E,D;return D={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function V(T){return function(z){return P([T,z])}}function P(T){if(S)throw new TypeError("Generator is already executing.");for(;D&&(D=0,T[0]&&(g=0)),g;)try{if(S=1,v&&(E=T[0]&2?v.return:T[0]?v.throw||((E=v.return)&&E.call(v),0):v.next)&&!(E=E.call(v,T[1])).done)return E;switch(v=0,E&&(T=[T[0]&2,E.value]),T[0]){case 0:case 1:E=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,v=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(E=g.trys,!(E=E.length>0&&E[E.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!E||T[1]>E[0]&&T[1]<E[3])){g.label=T[1];break}if(T[0]===6&&g.label<E[1]){g.label=E[1],E=T;break}if(E&&g.label<E[2]){g.label=E[2],g.ops.push(T);break}E[2]&&g.ops.pop(),g.trys.pop();continue}T=m.call(x,g)}catch(z){T=[6,z],v=0}finally{S=E=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},e0=function(){function x(m,g){this.name=m,this.track=g}return x.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},x.prototype.apply=function(m){var g={};g[this.name]=m;var S={advanced:[g]};return this.track.applyConstraints(S)},x.prototype.value=function(){var m=this.track.getSettings();if(this.name in m){var g=m[this.name];return g}return null},x}(),dd=function(x){pu(m,x);function m(g,S){return x.call(this,g,S)||this}return m.prototype.min=function(){return this.getCapabilities().min},m.prototype.max=function(){return this.getCapabilities().max},m.prototype.step=function(){return this.getCapabilities().step},m.prototype.apply=function(g){var S={};S[this.name]=g;var v={advanced:[S]};return this.track.applyConstraints(v)},m.prototype.getCapabilities=function(){this.failIfNotSupported();var g=this.track.getCapabilities(),S=g[this.name];return{min:S.min,max:S.max,step:S.step}},m.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},m}(e0),hd=function(x){pu(m,x);function m(g){return x.call(this,"zoom",g)||this}return m}(dd),gd=function(x){pu(m,x);function m(g){return x.call(this,"torch",g)||this}return m}(e0),pd=function(){function x(m){this.track=m}return x.prototype.zoomFeature=function(){return new hd(this.track)},x.prototype.torchFeature=function(){return new gd(this.track)},x}(),xd=function(){function x(m,g,S){this.isClosed=!1,this.parentElement=m,this.mediaStream=g,this.callbacks=S,this.surface=this.createVideoElement(this.parentElement.clientWidth),m.append(this.surface)}return x.prototype.createVideoElement=function(m){var g=document.createElement("video");return g.style.width="".concat(m,"px"),g.style.display="block",g.muted=!0,g.setAttribute("muted","true"),g.playsInline=!0,g},x.prototype.setupSurface=function(){var m=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var g=function(){var S=m.surface.clientWidth,v=m.surface.clientHeight;m.callbacks.onRenderSurfaceReady(S,v),m.surface.removeEventListener("playing",g)};this.surface.addEventListener("playing",g),this.surface.srcObject=this.mediaStream,this.surface.play()},x.create=function(m,g,S,v){return Da(this,void 0,void 0,function(){var E,D;return ka(this,function(V){switch(V.label){case 0:return E=new x(m,g,v),S.aspectRatio?(D={aspectRatio:S.aspectRatio},[4,E.getFirstTrackOrFail().applyConstraints(D)]):[3,2];case 1:V.sent(),V.label=2;case 2:return E.setupSurface(),[2,E]}})})},x.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},x.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},x.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},x.prototype.resume=function(m){this.failIfClosed();var g=this,S=function(){setTimeout(m,200),g.surface.removeEventListener("playing",S)};this.surface.addEventListener("playing",S),this.surface.play()},x.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},x.prototype.getSurface=function(){return this.failIfClosed(),this.surface},x.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},x.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},x.prototype.applyVideoConstraints=function(m){return Da(this,void 0,void 0,function(){return ka(this,function(g){if("aspectRatio"in m)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(m)]})})},x.prototype.close=function(){if(this.isClosed)return Promise.resolve();var m=this;return new Promise(function(g,S){var v=m.mediaStream.getVideoTracks(),E=v.length,D=0;m.mediaStream.getVideoTracks().forEach(function(V){m.mediaStream.removeTrack(V),V.stop(),++D,D>=E&&(m.isClosed=!0,m.parentElement.removeChild(m.surface),g())})})},x.prototype.getCapabilities=function(){return new pd(this.getFirstTrackOrFail())},x}(),md=function(){function x(m){this.mediaStream=m}return x.prototype.render=function(m,g,S){return Da(this,void 0,void 0,function(){return ka(this,function(v){return[2,xd.create(m,this.mediaStream,g,S)]})})},x.create=function(m){return Da(this,void 0,void 0,function(){var g,S;return ka(this,function(v){switch(v.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return g={audio:!1,video:m},[4,navigator.mediaDevices.getUserMedia(g)];case 1:return S=v.sent(),[2,new x(S)]}})})},x}(),M1=function(x,m,g,S){function v(E){return E instanceof g?E:new g(function(D){D(E)})}return new(g||(g=Promise))(function(E,D){function V(z){try{T(S.next(z))}catch(F){D(F)}}function P(z){try{T(S.throw(z))}catch(F){D(F)}}function T(z){z.done?E(z.value):v(z.value).then(V,P)}T((S=S.apply(x,m||[])).next())})},P1=function(x,m){var g={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},S,v,E,D;return D={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function V(T){return function(z){return P([T,z])}}function P(T){if(S)throw new TypeError("Generator is already executing.");for(;D&&(D=0,T[0]&&(g=0)),g;)try{if(S=1,v&&(E=T[0]&2?v.return:T[0]?v.throw||((E=v.return)&&E.call(v),0):v.next)&&!(E=E.call(v,T[1])).done)return E;switch(v=0,E&&(T=[T[0]&2,E.value]),T[0]){case 0:case 1:E=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,v=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(E=g.trys,!(E=E.length>0&&E[E.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!E||T[1]>E[0]&&T[1]<E[3])){g.label=T[1];break}if(T[0]===6&&g.label<E[1]){g.label=E[1],E=T;break}if(E&&g.label<E[2]){g.label=E[2],g.ops.push(T);break}E[2]&&g.ops.pop(),g.trys.pop();continue}T=m.call(x,g)}catch(z){T=[6,z],v=0}finally{S=E=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},wd=function(){function x(){}return x.failIfNotSupported=function(){return M1(this,void 0,void 0,function(){return P1(this,function(m){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new x]})})},x.prototype.create=function(m){return M1(this,void 0,void 0,function(){return P1(this,function(g){return[2,md.create(m)]})})},x}(),yd=function(x,m,g,S){function v(E){return E instanceof g?E:new g(function(D){D(E)})}return new(g||(g=Promise))(function(E,D){function V(z){try{T(S.next(z))}catch(F){D(F)}}function P(z){try{T(S.throw(z))}catch(F){D(F)}}function T(z){z.done?E(z.value):v(z.value).then(V,P)}T((S=S.apply(x,m||[])).next())})},Cd=function(x,m){var g={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},S,v,E,D;return D={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function V(T){return function(z){return P([T,z])}}function P(T){if(S)throw new TypeError("Generator is already executing.");for(;D&&(D=0,T[0]&&(g=0)),g;)try{if(S=1,v&&(E=T[0]&2?v.return:T[0]?v.throw||((E=v.return)&&E.call(v),0):v.next)&&!(E=E.call(v,T[1])).done)return E;switch(v=0,E&&(T=[T[0]&2,E.value]),T[0]){case 0:case 1:E=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,v=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(E=g.trys,!(E=E.length>0&&E[E.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!E||T[1]>E[0]&&T[1]<E[3])){g.label=T[1];break}if(T[0]===6&&g.label<E[1]){g.label=E[1],E=T;break}if(E&&g.label<E[2]){g.label=E[2],g.ops.push(T);break}E[2]&&g.ops.pop(),g.trys.pop();continue}T=m.call(x,g)}catch(z){T=[6,z],v=0}finally{S=E=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},Ed=function(){function x(){}return x.retrieve=function(){if(navigator.mediaDevices)return x.getCamerasFromMediaDevices();var m=MediaStreamTrack;return MediaStreamTrack&&m.getSources?x.getCamerasFromMediaStreamTrack():x.rejectWithError()},x.rejectWithError=function(){var m=bi.unableToQuerySupportedDevices();return x.isHttpsOrLocalhost()||(m=bi.insecureContextCameraQueryError()),Promise.reject(m)},x.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var m=location.host.split(":")[0];return m==="127.0.0.1"||m==="localhost"},x.getCamerasFromMediaDevices=function(){return yd(this,void 0,void 0,function(){var m,g,S,v,E,D,V;return Cd(this,function(P){switch(P.label){case 0:return m=function(T){for(var z=T.getVideoTracks(),F=0,we=z;F<we.length;F++){var Ae=we[F];Ae.enabled=!1,Ae.stop(),T.removeTrack(Ae)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return g=P.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(S=P.sent(),v=[],E=0,D=S;E<D.length;E++)V=D[E],V.kind==="videoinput"&&v.push({id:V.deviceId,label:V.label});return m(g),[2,v]}})})},x.getCamerasFromMediaStreamTrack=function(){return new Promise(function(m,g){var S=function(E){for(var D=[],V=0,P=E;V<P.length;V++){var T=P[V];T.kind==="video"&&D.push({id:T.id,label:T.label})}m(D)},v=MediaStreamTrack;v.getSources(S)})},x}(),qt;(function(x){x[x.UNKNOWN=0]="UNKNOWN",x[x.NOT_STARTED=1]="NOT_STARTED",x[x.SCANNING=2]="SCANNING",x[x.PAUSED=3]="PAUSED"})(qt||(qt={}));var Ad=function(){function x(){this.state=qt.NOT_STARTED,this.onGoingTransactionNewState=qt.UNKNOWN}return x.prototype.directTransition=function(m){this.failIfTransitionOngoing(),this.validateTransition(m),this.state=m},x.prototype.startTransition=function(m){return this.failIfTransitionOngoing(),this.validateTransition(m),this.onGoingTransactionNewState=m,this},x.prototype.execute=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var m=this.onGoingTransactionNewState;this.onGoingTransactionNewState=qt.UNKNOWN,this.directTransition(m)},x.prototype.cancel=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=qt.UNKNOWN},x.prototype.getState=function(){return this.state},x.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==qt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},x.prototype.validateTransition=function(m){switch(this.state){case qt.UNKNOWN:throw"Transition from unknown is not allowed";case qt.NOT_STARTED:this.failIfNewStateIs(m,[qt.PAUSED]);break;case qt.SCANNING:break;case qt.PAUSED:break}},x.prototype.failIfNewStateIs=function(m,g){for(var S=0,v=g;S<v.length;S++){var E=v[S];if(m===E)throw"Cannot transition from ".concat(this.state," to ").concat(m)}},x}(),vd=function(){function x(m){this.stateManager=m}return x.prototype.startTransition=function(m){return this.stateManager.startTransition(m)},x.prototype.directTransition=function(m){this.stateManager.directTransition(m)},x.prototype.getState=function(){return this.stateManager.getState()},x.prototype.canScanFile=function(){return this.stateManager.getState()===qt.NOT_STARTED},x.prototype.isScanning=function(){return this.stateManager.getState()!==qt.NOT_STARTED},x.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===qt.SCANNING},x.prototype.isPaused=function(){return this.stateManager.getState()===qt.PAUSED},x}(),Sd=function(){function x(){}return x.create=function(){return new vd(new Ad)},x}(),Nd=function(){var x=function(m,g){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,v){S.__proto__=v}||function(S,v){for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(S[E]=v[E])},x(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");x(m,g);function S(){this.constructor=m}m.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}}(),gr=function(x){Nd(m,x);function m(){return x!==null&&x.apply(this,arguments)||this}return m.DEFAULT_WIDTH=300,m.DEFAULT_WIDTH_OFFSET=2,m.FILE_SCAN_MIN_HEIGHT=300,m.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,m.MIN_QR_BOX_SIZE=50,m.SHADED_LEFT=1,m.SHADED_RIGHT=2,m.SHADED_TOP=3,m.SHADED_BOTTOM=4,m.SHADED_REGION_ELEMENT_ID="qr-shaded-region",m.VERBOSE=!1,m.BORDER_SHADER_DEFAULT_COLOR="#ffffff",m.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",m}(nd),Id=function(){function x(m,g){this.logger=g,this.fps=gr.SCAN_DEFAULT_FPS,m?(m.fps&&(this.fps=m.fps),this.disableFlip=m.disableFlip===!0,this.qrbox=m.qrbox,this.aspectRatio=m.aspectRatio,this.videoConstraints=m.videoConstraints):this.disableFlip=gr.DEFAULT_DISABLE_FLIP}return x.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?J1.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},x.prototype.isShadedBoxEnabled=function(){return!is(this.qrbox)},x.create=function(m,g){return new x(m,g)},x}(),Td=function(){function x(m,g){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(m))throw"HTML Element with id=".concat(m," not found");this.elementId=m,this.verbose=!1;var S;typeof g=="boolean"?this.verbose=g===!0:g&&(S=g,this.verbose=S.verbose===!0,S.experimentalFeatures),this.logger=new sd(this.verbose),this.qrcode=new fd(this.getSupportedFormats(g),this.getUseBarCodeDetectorIfSupported(S),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Sd.create()}return x.prototype.start=function(m,g,S,v){var E=this;if(!m)throw"cameraIdOrConfig is required";if(!S||typeof S!="function")throw"qrCodeSuccessCallback is required and should be a function.";var D;v?D=v:D=this.verbose?this.logger.log:function(){};var V=Id.create(g,this.logger);this.clearElement();var P=!1;V.videoConstraints&&(V.isMediaStreamConstraintsValid()?P=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var T=P,z=document.getElementById(this.elementId);z.clientWidth?z.clientWidth:gr.DEFAULT_WIDTH,z.style.position="relative",this.shouldScan=!0,this.element=z;var F=this,we=this.stateManagerProxy.startTransition(qt.SCANNING);return new Promise(function(Ae,ze){var pe=T?V.videoConstraints:F.createVideoConstraints(m);if(!pe){we.cancel(),ze("videoConstraints should be defined");return}var me={};(!T||V.aspectRatio)&&(me.aspectRatio=V.aspectRatio);var st={onRenderSurfaceReady:function(Te,Ce){F.setupUi(Te,Ce,V),F.isScanning=!0,F.foreverScan(V,S,D)}};wd.failIfNotSupported().then(function(Te){Te.create(pe).then(function(Ce){return Ce.render(E.element,me,st).then(function(Me){F.renderedCamera=Me,we.execute(),Ae(null)}).catch(function(Me){we.cancel(),ze(Me)})}).catch(function(Ce){we.cancel(),ze(bi.errorGettingUserMedia(Ce))})}).catch(function(Te){we.cancel(),ze(bi.cameraStreamingNotSupported())})})},x.prototype.pause=function(m){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(qt.PAUSED),this.showPausedState(),(is(m)||m!==!0)&&(m=!1),m&&this.renderedCamera&&this.renderedCamera.pause()},x.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var m=this,g=function(){m.stateManagerProxy.directTransition(qt.SCANNING),m.hidePausedState()};if(!this.renderedCamera.isPaused()){g();return}this.renderedCamera.resume(function(){g()})},x.prototype.getState=function(){return this.stateManagerProxy.getState()},x.prototype.stop=function(){var m=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var g=this.stateManagerProxy.startTransition(qt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var S=function(){if(m.element){var E=document.getElementById(gr.SHADED_REGION_ELEMENT_ID);E&&m.element.removeChild(E)}},v=this;return this.renderedCamera.close().then(function(){return v.renderedCamera=null,v.element&&(v.element.removeChild(v.canvasElement),v.canvasElement=null),S(),v.qrRegion&&(v.qrRegion=null),v.context&&(v.context=null),g.execute(),v.hidePausedState(),v.isScanning=!1,Promise.resolve()})},x.prototype.scanFile=function(m,g){return this.scanFileV2(m,g).then(function(S){return S.decodedText})},x.prototype.scanFileV2=function(m,g){var S=this;if(!m||!(m instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(is(g)&&(g=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(v,E){S.possiblyCloseLastScanImageFile(),S.clearElement(),S.lastScanImageFile=URL.createObjectURL(m);var D=new Image;D.onload=function(){var V=D.width,P=D.height,T=document.getElementById(S.elementId),z=T.clientWidth?T.clientWidth:gr.DEFAULT_WIDTH,F=Math.max(T.clientHeight?T.clientHeight:P,gr.FILE_SCAN_MIN_HEIGHT),we=S.computeCanvasDrawConfig(V,P,z,F);if(g){var Ae=S.createCanvasElement(z,F,"qr-canvas-visible");Ae.style.display="inline-block",T.appendChild(Ae);var ze=Ae.getContext("2d");if(!ze)throw"Unable to get 2d context from canvas";ze.canvas.width=z,ze.canvas.height=F,ze.drawImage(D,0,0,V,P,we.x,we.y,we.width,we.height)}var pe=gr.FILE_SCAN_HIDDEN_CANVAS_PADDING,me=Math.max(D.width,we.width),st=Math.max(D.height,we.height),Te=me+2*pe,Ce=st+2*pe,Me=S.createCanvasElement(Te,Ce);T.appendChild(Me);var xt=Me.getContext("2d");if(!xt)throw"Unable to get 2d context from canvas";xt.canvas.width=Te,xt.canvas.height=Ce,xt.drawImage(D,0,0,V,P,pe,pe,me,st);try{S.qrcode.decodeRobustlyAsync(Me).then(function(Ge){v(_1.createFromQrcodeResult(Ge))}).catch(E)}catch(Ge){E("QR code parse error, error = ".concat(Ge))}},D.onerror=E,D.onabort=E,D.onstalled=E,D.onsuspend=E,D.src=URL.createObjectURL(m)})},x.prototype.clear=function(){this.clearElement()},x.getCameras=function(){return Ed.retrieve()},x.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},x.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},x.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},x.prototype.applyVideoConstraints=function(m){if(m){if(!J1.isMediaStreamConstraintsValid(m,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(m)},x.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},x.prototype.getSupportedFormats=function(m){var g=[be.QR_CODE,be.AZTEC,be.CODABAR,be.CODE_39,be.CODE_93,be.CODE_128,be.DATA_MATRIX,be.MAXICODE,be.ITF,be.EAN_13,be.EAN_8,be.PDF_417,be.RSS_14,be.RSS_EXPANDED,be.UPC_A,be.UPC_E,be.UPC_EAN_EXTENSION];if(!m||typeof m=="boolean"||!m.formatsToSupport)return g;if(!Array.isArray(m.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(m.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var S=[],v=0,E=m.formatsToSupport;v<E.length;v++){var D=E[v];td(D)?S.push(D):this.logger.warn("Invalid format: ".concat(D," passed in config, ignoring."))}if(S.length===0)throw"None of formatsToSupport match supported values.";return S},x.prototype.getUseBarCodeDetectorIfSupported=function(m){if(is(m))return!0;if(!is(m.useBarCodeDetectorIfSupported))return m.useBarCodeDetectorIfSupported!==!1;if(is(m.experimentalFeatures))return!0;var g=m.experimentalFeatures;return is(g.useBarCodeDetectorIfSupported)?!0:g.useBarCodeDetectorIfSupported!==!1},x.prototype.validateQrboxSize=function(m,g,S){var v=this,E=S.qrbox;this.validateQrboxConfig(E);var D=this.toQrdimensions(m,g,E),V=function(T){if(T<gr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(gr.MIN_QR_BOX_SIZE,"px.")},P=function(T){return T>m&&(v.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),T=m),T};V(D.width),V(D.height),D.width=P(D.width)},x.prototype.validateQrboxConfig=function(m){if(typeof m!="number"&&typeof m!="function"&&(m.width===void 0||m.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},x.prototype.toQrdimensions=function(m,g,S){if(typeof S=="number")return{width:S,height:S};if(typeof S=="function")try{return S(m,g)}catch(v){throw new Error("qrbox config was passed as a function but it failed with unknown error"+v)}return S},x.prototype.setupUi=function(m,g,S){S.isShadedBoxEnabled()&&this.validateQrboxSize(m,g,S);var v=is(S.qrbox)?{width:m,height:g}:S.qrbox;this.validateQrboxConfig(v);var E=this.toQrdimensions(m,g,v);E.height>g&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var D=S.isShadedBoxEnabled()&&E.height<=g,V={x:0,y:0,width:m,height:g},P=D?this.getShadedRegionBounds(m,g,E):V,T=this.createCanvasElement(P.width,P.height),z={willReadFrequently:!0},F=T.getContext("2d",z);F.canvas.width=P.width,F.canvas.height=P.height,this.element.append(T),D&&this.possiblyInsertShadingElement(this.element,m,g,E),this.createScannerPausedUiElement(this.element),this.qrRegion=P,this.context=F,this.canvasElement=T},x.prototype.createScannerPausedUiElement=function(m){var g=document.createElement("div");g.innerText=bi.scannerPaused(),g.style.display="none",g.style.position="absolute",g.style.top="0px",g.style.zIndex="1",g.style.background="rgba(9, 9, 9, 0.46)",g.style.color="#FFECEC",g.style.textAlign="center",g.style.width="100%",m.appendChild(g),this.scannerPausedUiElement=g},x.prototype.scanContext=function(m,g){var S=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(v){return m(v.text,_1.createFromQrcodeResult(v)),S.possiblyUpdateShaders(!0),!0}).catch(function(v){S.possiblyUpdateShaders(!1);var E=bi.codeParseError(v);return g(E,rd.createFrom(E)),!1})},x.prototype.foreverScan=function(m,g,S){var v=this;if(this.shouldScan&&this.renderedCamera){var E=this.renderedCamera.getSurface(),D=E.videoWidth/E.clientWidth,V=E.videoHeight/E.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var P=this.qrRegion.width*D,T=this.qrRegion.height*V,z=this.qrRegion.x*D,F=this.qrRegion.y*V;this.context.drawImage(E,z,F,P,T,0,0,this.qrRegion.width,this.qrRegion.height);var we=function(){v.foreverScanTimeout=setTimeout(function(){v.foreverScan(m,g,S)},v.getTimeoutFps(m.fps))};this.scanContext(g,S).then(function(Ae){!Ae&&m.disableFlip!==!0?(v.context.translate(v.context.canvas.width,0),v.context.scale(-1,1),v.scanContext(g,S).finally(function(){we()})):we()}).catch(function(Ae){v.logger.logError("Error happend while scanning context",Ae),we()})}},x.prototype.createVideoConstraints=function(m){if(typeof m=="string")return{deviceId:{exact:m}};if(typeof m=="object"){var g="facingMode",S="deviceId",v={user:!0,environment:!0},E="exact",D=function(ze){if(ze in v)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ze,"'")},V=Object.keys(m);if(V.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(V.length," keys");var P=Object.keys(m)[0];if(P!==g&&P!==S)throw"Only '".concat(g,"' and '").concat(S,"' ")+" are supported for 'cameraIdOrConfig'";if(P===g){var T=m.facingMode;if(typeof T=="string"){if(D(T))return{facingMode:T}}else if(typeof T=="object")if(E in T){if(D(T["".concat(E)]))return{facingMode:{exact:T["".concat(E)]}}}else throw"'facingMode' should be string or object with"+" ".concat(E," as key.");else{var z=typeof T;throw"Invalid type of 'facingMode' = ".concat(z)}}else{var F=m.deviceId;if(typeof F=="string")return{deviceId:F};if(typeof F=="object"){if(E in F)return{deviceId:{exact:F["".concat(E)]}};throw"'deviceId' should be string or object with"+" ".concat(E," as key.")}else{var we=typeof F;throw"Invalid type of 'deviceId' = ".concat(we)}}}var Ae=typeof m;throw"Invalid type of 'cameraIdOrConfig' = ".concat(Ae)},x.prototype.computeCanvasDrawConfig=function(m,g,S,v){if(m<=S&&g<=v){var E=(S-m)/2,D=(v-g)/2;return{x:E,y:D,width:m,height:g}}else{var V=m,P=g;return m>S&&(g=S/m*g,m=S),g>v&&(m=v/g*m,g=v),this.logger.log("Image downsampled from "+"".concat(V,"X").concat(P)+" to ".concat(m,"X").concat(g,".")),this.computeCanvasDrawConfig(m,g,S,v)}},x.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var m=document.getElementById(this.elementId);m&&(m.innerHTML="")},x.prototype.possiblyUpdateShaders=function(m){this.qrMatch!==m&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(g){g.style.backgroundColor=m?gr.BORDER_SHADER_MATCH_COLOR:gr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=m)},x.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},x.prototype.createCanvasElement=function(m,g,S){var v=m,E=g,D=document.createElement("canvas");return D.style.width="".concat(v,"px"),D.style.height="".concat(E,"px"),D.style.display="none",D.id=is(S)?"qr-canvas":S,D},x.prototype.getShadedRegionBounds=function(m,g,S){if(S.width>m||S.height>g)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(m-S.width)/2,y:(g-S.height)/2,width:S.width,height:S.height}},x.prototype.possiblyInsertShadingElement=function(m,g,S,v){if(!(g-v.width<1||S-v.height<1)){var E=document.createElement("div");E.style.position="absolute";var D=(g-v.width)/2,V=(S-v.height)/2;if(E.style.borderLeft="".concat(D,"px solid rgba(0, 0, 0, 0.48)"),E.style.borderRight="".concat(D,"px solid rgba(0, 0, 0, 0.48)"),E.style.borderTop="".concat(V,"px solid rgba(0, 0, 0, 0.48)"),E.style.borderBottom="".concat(V,"px solid rgba(0, 0, 0, 0.48)"),E.style.boxSizing="border-box",E.style.top="0px",E.style.bottom="0px",E.style.left="0px",E.style.right="0px",E.id="".concat(gr.SHADED_REGION_ELEMENT_ID),g-v.width<11||S-v.height<11)this.hasBorderShaders=!1;else{var P=5,T=40;this.insertShaderBorders(E,T,P,-P,null,0,!0),this.insertShaderBorders(E,T,P,-P,null,0,!1),this.insertShaderBorders(E,T,P,null,-P,0,!0),this.insertShaderBorders(E,T,P,null,-P,0,!1),this.insertShaderBorders(E,P,T+P,-P,null,-P,!0),this.insertShaderBorders(E,P,T+P,null,-P,-P,!0),this.insertShaderBorders(E,P,T+P,-P,null,-P,!1),this.insertShaderBorders(E,P,T+P,null,-P,-P,!1),this.hasBorderShaders=!0}m.append(E)}},x.prototype.insertShaderBorders=function(m,g,S,v,E,D,V){var P=document.createElement("div");P.style.position="absolute",P.style.backgroundColor=gr.BORDER_SHADER_DEFAULT_COLOR,P.style.width="".concat(g,"px"),P.style.height="".concat(S,"px"),v!==null&&(P.style.top="".concat(v,"px")),E!==null&&(P.style.bottom="".concat(E,"px")),V?P.style.left="".concat(D,"px"):P.style.right="".concat(D,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(P),m.appendChild(P)},x.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},x.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},x.prototype.getTimeoutFps=function(m){return 1e3/m},x}(),B1;(function(x){x[x.STATUS_DEFAULT=0]="STATUS_DEFAULT",x[x.STATUS_SUCCESS=1]="STATUS_SUCCESS",x[x.STATUS_WARNING=2]="STATUS_WARNING",x[x.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(B1||(B1={}));const _d=()=>{const x=si(),m=Ao(),{userType:g,departmentid:S,token:v,username:E}=x.state||{userType:"unknown",departmentid:null,token:null,username:""},[D,V]=ee.useState([]),[P,T]=ee.useState([]),[z,F]=ee.useState([]),[we,Ae]=ee.useState(!1),[ze,pe]=ee.useState(!1),[me,st]=ee.useState(!1),[Te,Ce]=ee.useState(null),[Me,xt]=ee.useState(""),[Ge,se]=ee.useState(""),[Je,te]=ee.useState(null),[Jt,yt]=ee.useState(!1),[Be,Xe]=ee.useState(!1),[Ze,$]=ee.useState(""),Fe=sessionStorage.getItem("username")||"Guest",ye="https://ams-2wm7.onrender.com";ee.useEffect(()=>{if(!v){te("Unauthorized: No token provided");return}re().catch(Y=>te(Y.message)),ve().catch(Y=>te(Y.message))},[v]),ee.useEffect(()=>{let Y;return ze&&(async()=>{try{Y=new Td("qr-reader"),await Y.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},async ke=>{var St;const Oe=(St=ke.split("Code:")[1])==null?void 0:St.trim();if(!Oe){te('Invalid QR code format. Expected "Code: <assetCode>"'),await Y.stop();return}try{const Le=await fetch(`${ye}/api/assets/${Oe}`,{headers:{"x-auth-token":v}});if(!Le.ok)throw new Error(`HTTP error! Status: ${Le.status}`);const sr=await Le.json();Ce(sr),st(!0),pe(!1),await Y.stop()}catch(Le){te(`Failed to fetch asset: ${Le.message}`),Y.getState()===qt.SCANNING&&await Y.stop()}},ke=>{console.error("QR scan error:",ke)})}catch(ke){te(`QR scanner initialization failed: ${ke.message}`)}})(),()=>{Y&&Y.getState()===qt.SCANNING&&Y.stop().catch(ke=>console.error("Failed to stop QR scanner:",ke))}},[ze,v]);const re=async()=>{const Y=await fetch(`${ye}/api/user-assets`,{headers:{"x-auth-token":v}});if(!Y.ok)throw new Error(`HTTP error! Status: ${Y.status}`);const $e=await Y.json();V($e)},ve=async()=>{const Y=await fetch(`${ye}/api/assets`,{headers:{"x-auth-token":v}});if(!Y.ok)throw new Error(`HTTP error! Status: ${Y.status}`);const $e=await Y.json();T($e.filter(ke=>ke.status==="Available"))},le=async()=>{try{if(yt(!0),!v){console.warn("Token not found"),te("Unauthorized: No token provided");return}const Y=await fetch(`${ye}/api/notifications`,{headers:{"Content-Type":"application/json","x-auth-token":v}});if(!Y.ok){const ke=await Y.json();throw new Error(ke.message||`HTTP error! Status: ${Y.status}`)}const $e=await Y.json();F($e)}catch(Y){console.error("Failed to fetch notifications:",Y),te(Y.message)}finally{yt(!1)}},U=async Y=>{if(Y.preventDefault(),!Me)return alert("Please select an asset");try{await fetch(`${ye}/api/asset-requests`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:E,assetCode:Me,departmentid:S,status:"Pending"})}),await Promise.all([fetch(`${ye}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:"hod",message:`User ${E} requested asset ${Me}.`,departmentid:S})}),fetch(`${ye}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:"admin",message:`User ${E} requested asset ${Me}.`,departmentid:S})})]),alert("Asset request sent successfully to HOD and Admin!"),Ae(!1),xt(""),le()}catch($e){te($e.message)}},Q=async Y=>{if(Y.preventDefault(),!Te||!Ge)return alert("Please provide an issue description");try{await fetch(`${ye}/api/report-issue`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:E,assetCode:Te.assetCode,message:Ge,departmentid:S,status:"Pending"})}),await Promise.all([fetch(`${ye}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:"hod",message:`User ${E} reported an issue for asset ${Te.assetCode}: ${Ge}`,departmentid:S})}),fetch(`${ye}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:"admin",message:`User ${E} reported an issue for asset ${Te.assetCode}: ${Ge}`,departmentid:S})})]),alert("Issue reported successfully!"),st(!1),Ce(null),se(""),le()}catch($e){te($e.message)}},Se=Y=>{$(Y.target.value)},Ne=()=>{m("/")},et=D.filter(Y=>Y.name.toLowerCase().includes(Ze.toLowerCase())||Y.assetCode.toLowerCase().includes(Ze.toLowerCase()));return Je?y.jsxs("div",{className:"error-message",children:["Error: ",Je]}):y.jsxs("div",{className:"dashboard-container",children:[y.jsxs("header",{className:"dashboard-header",children:[y.jsx("div",{className:"logo-container",children:y.jsx("img",{src:Pa,alt:"Asset Manager Logo",className:"dashboard-logo"})}),y.jsxs("div",{className:"header-center",children:[y.jsx("h1",{children:"Asset Manager"}),y.jsx("p",{className:"tagline",children:"User Dashboard"})]}),y.jsxs("div",{className:"header-right",children:[y.jsx("input",{type:"text",placeholder:"Search assets...",className:"search-bar",value:Ze,onChange:Se}),y.jsxs("div",{className:"user-profile",onClick:Ne,children:["👤 ",E]})]})]}),y.jsxs("div",{className:"dashboard-content",children:[y.jsx("aside",{className:"sidebar",children:y.jsxs("nav",{children:[y.jsx("button",{className:"sidebar-button",onClick:()=>{re(),Xe(!1),$("")},children:"📋 My Assets"}),y.jsx("button",{className:"sidebar-button",onClick:()=>pe(!0),children:"📷 Scan QR Code"}),y.jsx("button",{className:"sidebar-button",onClick:()=>{ve(),Ae(!0)},children:"➕ Request Asset"}),y.jsx("button",{className:"sidebar-button",onClick:()=>{le(),Xe(!0)},children:"🔔 Notifications"})]})}),y.jsxs("main",{className:"main-content",children:[Be?Jt?y.jsx("p",{children:"Loading notifications..."}):z.length>0?y.jsxs("div",{className:"assets-section",children:[y.jsx("h2",{children:"Notifications"}),y.jsx("div",{className:"assets-grid",children:z.filter(Y=>Y.username===Fe).map((Y,$e)=>y.jsxs("div",{className:"asset-card",children:[y.jsx("p",{children:Y.message}),y.jsx("p",{children:new Date(Y.timestamp).toLocaleString()})]},$e))})]}):y.jsx("p",{children:"No notifications available."}):y.jsxs("div",{className:"assets-section",children:[y.jsx("h2",{children:"Dashboard"}),et.length>0?y.jsx("div",{className:"assets-grid",children:et.map(Y=>y.jsxs("div",{className:"asset-card",children:[y.jsx("h3",{children:Y.name}),y.jsxs("p",{children:["Asset Code: ",Y.assetCode]}),y.jsxs("p",{children:["Status: ",Y.status]}),Y.qrCode&&y.jsx("img",{src:`${ye}${Y.qrCode}`,alt:"QR Code",style:{width:"100px"}})]},Y._id))}):y.jsx("p",{children:Ze?"No assets match your search.":"No assets assigned."})]}),ze&&y.jsx("div",{className:"popup-overlay",children:y.jsxs("div",{className:"popup-content",children:[y.jsxs("div",{className:"popup-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>pe(!1),children:"⬅"}),y.jsx("h2",{children:"Scan QR Code"})]}),y.jsx("div",{id:"qr-reader",style:{width:"100%"}})]})}),me&&Te&&y.jsx("div",{className:"popup-overlay",children:y.jsxs("div",{className:"popup-content",children:[y.jsxs("div",{className:"popup-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>st(!1),children:"⬅"}),y.jsx("h2",{children:"Asset Details"})]}),y.jsxs("div",{className:"report-details",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Name:"})," ",Te.name]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Asset Code:"})," ",Te.assetCode]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Type:"})," ",Te.type]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Brand:"})," ",Te.brand]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Model:"})," ",Te.model]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Status:"})," ",Te.status]}),Te.qrCode&&y.jsx("img",{src:`${ye}${Te.qrCode}`,alt:"QR Code",style:{width:"100px"}}),y.jsxs("form",{onSubmit:Q,children:[y.jsx("label",{className:"report-issue-label",htmlFor:"issueMessage",children:"Report Issue"}),y.jsx("textarea",{className:"report-issues-textarea",id:"issueMessage",value:Ge,onChange:Y=>se(Y.target.value),placeholder:"Describe the issue",required:!0}),y.jsx("button",{type:"submit",className:"submit-button",children:"Report Issue"})]})]})]})}),we&&y.jsx("div",{className:"popup-overlay",children:y.jsxs("div",{className:"popup-content",children:[y.jsxs("div",{className:"popup-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>Ae(!1),children:"⬅"}),y.jsx("h2",{children:"Request Asset"})]}),y.jsxs("form",{onSubmit:U,children:[y.jsx("label",{htmlFor:"assetSelect",children:"Select Asset"}),y.jsxs("select",{id:"assetSelect",value:Me,onChange:Y=>xt(Y.target.value),required:!0,children:[y.jsx("option",{value:"",children:"Select an asset..."}),P.map(Y=>y.jsxs("option",{value:Y.assetCode,children:[Y.name," (",Y.assetCode,")"]},Y._id))]}),y.jsx("button",{type:"submit",className:"submit-button",children:"Request"})]})]})})]})]})]})},Rd=()=>{const x=si(),m=Ao(),{userType:g,departmentid:S,token:v,username:E}=x.state||{userType:"unknown",departmentid:null,token:null,username:""},[D,V]=ee.useState([]),[P,T]=ee.useState([]),[z,F]=ee.useState({hods:[],users:[]}),[we,Ae]=ee.useState([]),[ze,pe]=ee.useState([]),[me,st]=ee.useState([]),[Te,Ce]=ee.useState(!1),[Me,xt]=ee.useState(!1),[Ge,se]=ee.useState(!1),[Je,te]=ee.useState(!1),[Jt,yt]=ee.useState(!1),[Be,Xe]=ee.useState(!1),[Ze,$]=ee.useState("home"),[Fe,ye]=ee.useState(null),[re,ve]=ee.useState(null),[le,U]=ee.useState({}),[Q,Se]=ee.useState(null),[Ne,et]=ee.useState(!1),[Y,$e]=ee.useState(!1),[ke,Oe]=ee.useState(!1),[St,Le]=ee.useState(!1),[sr,ot]=ee.useState(!1),[Gn,on]=ee.useState(!1),[Ln,Vt]=ee.useState("all"),[Ct,ut]=ee.useState([]),ht="https://ams-2wm7.onrender.com",ie=M=>{if(!M)return"";const ce=M.toLowerCase();return ce.endsWith("es")?ce.slice(0,-2):ce.endsWith("s")?ce.slice(0,-1):ce};ee.useEffect(()=>{if(!v){Se("No authentication token. Please log in again."),m("/login");return}if(g!=="hod"){Se("Unauthorized access. Only HODs can view this dashboard."),m("/login");return}if(!S){Se("Department ID is missing. Please log in again."),m("/login");return}const M=async()=>{et(!0);try{const Re=await fetch(`${ht}/api/assets?role=hod&username=${encodeURIComponent(E)}`,{headers:{"x-auth-token":v}});if(!Re.ok){const ct=await Re.json();throw new Error(ct.msg||`HTTP error! Status: ${Re.status}`)}const It=await Re.json();V(Array.isArray(It)?It:[])}catch(Re){Se(Re.message),console.error("Fetch department assets error:",Re)}finally{et(!1)}},ce=async()=>{on(!0);try{const Re=await fetch(`${ht}/api/assets`,{headers:{"x-auth-token":v}});if(!Re.ok){const O=await Re.json();throw new Error(O.msg||`HTTP error! Status: ${Re.status}`)}const It=await Re.json();T(Array.isArray(It)?It:[]);const ct=new Map;It.forEach(O=>{if(O.name){const J=ie(O.name);ct.has(J)||ct.set(J,O.name)}});const Fr=[...ct.entries()].map(([O,J])=>({normalizedName:O,displayName:J})).sort((O,J)=>O.normalizedName.localeCompare(J.normalizedName));ut(Fr)}catch(Re){Se(Re.message),console.error("Fetch all assets error:",Re)}finally{on(!1)}};M(),ce(),Rn(),dn()},[g,S,v,m,E]);const Rn=async()=>{Oe(!0);try{const M=await fetch(`${ht}/api/all-users`,{headers:{"x-auth-token":v}});if(!M.ok){const ct=await M.json();throw new Error(ct.msg||`HTTP error! Status: ${M.status}`)}const ce=await M.json(),Re=Array.isArray(ce.hods)?ce.hods.filter(ct=>ct.username!==E).map(ct=>({...ct,assignedAssets:Array.isArray(ct.assignedAssets)?ct.assignedAssets:[]})):[],It=Array.isArray(ce.users)?ce.users.filter(ct=>ct.username!==E).map(ct=>({...ct,assignedAssets:Array.isArray(ct.assignedAssets)?ct.assignedAssets:[]})):[];F({hods:Re,users:It})}catch(M){Se(M.message)}finally{Oe(!1)}},xn=async()=>{Le(!0);try{const M=await fetch(`${ht}/api/asset-requests`,{headers:{"x-auth-token":v}});if(!M.ok){const Re=await M.json();throw new Error(`HTTP error! Status: ${M.status}, Message: ${Re.msg||M.statusText}`)}const ce=await M.json();Ae(Array.isArray(ce)?ce:[])}catch(M){Se(`Failed to fetch requests: ${M.message}`)}finally{Le(!1)}},Xt=async()=>{ot(!0);try{if(!S)throw new Error("Department ID is missing");const M=await fetch(`${ht}/api/issue-reports?departmentid=${S}`,{headers:{"Content-Type":"application/json","x-auth-token":v}});if(!M.ok){const Re=await M.json();throw new Error(Re.msg||`HTTP error! Status: ${M.status}`)}const ce=await M.json();pe(Array.isArray(ce)?ce:[])}catch(M){Se(`Failed to fetch issue reports: ${M.message}`)}finally{ot(!1)}},dn=async()=>{$e(!0);try{if(!S)throw new Error("Department ID is missing");const M=await fetch(`${ht}/api/notifications?departmentid=${S}`,{headers:{"Content-Type":"application/json","x-auth-token":v}});if(!M.ok){const It=await M.json();throw new Error(`HTTP error! statuses: ${M.status}, Message: ${It.msg||M.statusText}`)}const ce=await M.json(),Re=Array.isArray(ce)?ce:[];st(Re)}catch(M){Se(`Failed to fetch notifications: ${M.message}`)}finally{$e(!1)}},an=async M=>{if(M.preventDefault(),!Fe||!re){Se("Please select a user and an asset");return}if(!re._id){Se("Invalid asset selected");return}on(!0);try{const ce=await fetch(`${ht}/api/assets/${re._id}/assign`,{method:"PATCH",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({userId:Fe._id,username:Fe.username})});if(!ce.ok){const Re=await ce.json();throw new Error(Re.msg||`HTTP error! Status: ${ce.status}`)}await Promise.all([fetch(`${ht}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:Fe.username,message:`Asset ${re.name} (${re.assetCode}) has been assigned to you.`,departmentid:Fe.departmentid})}),fetch(`${ht}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:"hod",message:`Asset ${re.name} (${re.assetCode}) has been assigned to ${Fe.username} by ${E}.`,departmentid:Fe.departmentid})})]),alert("Asset assigned successfully!"),xt(!1),ye(null),ve(null),Rn(),dn()}catch(ce){Se(ce.message)}finally{on(!1)}},en=async(M,ce)=>{et(!0);try{const Re=P.find(ct=>ct._id===ce);if(!Re)throw new Error("Asset not found");const It=await fetch(`${ht}/api/assets/${ce}/unassign`,{method:"PATCH",headers:{"x-auth-token":v}});if(!It.ok){const ct=await It.json();throw new Error(ct.msg||`HTTP error! Status: ${It.status}`)}await Promise.all([fetch(`${ht}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:M.username,message:`Asset ${Re.name} (${Re.assetCode}) has been unassigned from you.`,departmentid:M.departmentid})}),fetch(`${ht}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:"hod",message:`Asset ${Re.name} (${Re.assetCode}) has been unassigned from ${M.username} by ${E}.`,departmentid:M.departmentid})})]),alert("Asset assignment removed successfully!"),Rn(),dn()}catch(Re){Se(Re.message)}finally{et(!1)}},On=async M=>{try{const ce=await fetch(`${ht}/api/asset-requests/${M._id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({status:"HOD Approved"})});if(!ce.ok){const Re=await ce.json();throw new Error(`Update request failed: ${Re.msg||ce.statusText}`)}await fetch(`${ht}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:M.username,message:`Your request for asset ${M.assetCode} has been approved by HOD.`,departmentid:S})}),alert("Request approved and forwarded to admin!"),xn(),dn()}catch(ce){Se(ce.message),alert(`Failed to approve request: ${ce.message}`)}},tn=async M=>{const ce=le[M._id]||"";if(!ce){alert("Please provide comments for rejection");return}try{const Re=await fetch(`${ht}/api/asset-requests/${M._id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({status:"HOD Rejected",rejectionComments:ce})});if(!Re.ok){const It=await Re.json();throw new Error(`Update request failed: ${It.msg||Re.statusText}`)}await fetch(`${ht}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:M.username,message:`Your request for asset ${M.assetCode} was rejected by HOD. Reason: ${ce}`,departmentid:S})}),alert("Request rejected and user notified!"),U(It=>({...It,[M._id]:""})),xn(),dn()}catch(Re){Se(Re.message),alert(`Failed to reject request: ${Re.message}`)}},pr=async M=>{try{const ce=await fetch(`${ht}/api/issue-reports/${M._id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({status:"HOD Approved"})});if(!ce.ok){const Re=await ce.json();throw new Error(`Update issue report failed: ${Re.msg||ce.statusText}`)}await fetch(`${ht}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:M.username,message:`Your issue report for asset ${M.assetCode} has been approved by HOD.`,departmentid:S})}),alert("Issue report approved and forwarded to admin!"),Xt(),dn()}catch(ce){Se(ce.message),alert(`Failed to approve issue report: ${ce.message}`)}},Xn=async M=>{const ce=le[M._id]||"";if(!ce){alert("Please provide comments for rejection");return}try{const Re=await fetch(`${ht}/api/issue-reports/${M._id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({status:"Rejected",rejectionComments:ce})});if(!Re.ok){const It=await Re.json();throw new Error(`Update issue report failed: ${It.msg||Re.statusText}`)}await fetch(`${ht}/api/notifications`,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":v},body:JSON.stringify({username:M.username,message:`Your issue report for asset ${M.assetCode} was rejected by HOD. Reason: ${ce}`,departmentid:S})}),alert("Issue report rejected and user notified!"),U(It=>({...It,[M._id]:""})),Xt(),dn()}catch(Re){Se(Re.message),alert(`Failed to reject issue report: ${Re.message}`)}},Ds=async M=>{if(window.confirm(`Are you sure you want to delete user ${M.username}?`))try{const ce=await fetch(`${ht}/api/users/${M._id}`,{method:"DELETE",headers:{"x-auth-token":v}});if(!ce.ok){const Re=await ce.json();throw new Error(Re.msg||`HTTP error! Status: ${ce.status}`)}alert("User deleted successfully!"),Rn()}catch(ce){Se(ce.message)}},Mt=()=>{m("/")},he=M=>{switch($(M),Ce(!1),se(!1),te(!1),yt(!1),Xe(!1),M){case"assets":Ce(!0);break;case"requests":se(!0),xn();break;case"users":Rn();break;case"reports":te(!0),Xt();break;case"notifications":yt(!0),dn();break;case"maintenance":Xe(!0);break}},Ht=M=>{ye(M),xt(!0)},mt=M=>{ye(M)},_t=M=>{Vt(M.target.value)},Kn=Ln==="all"?D:D.filter(M=>ie(M.name)===Ln),xr=D.filter(M=>M.status==="Under Maintenance"),Lr=()=>{Se(null)};return y.jsxs("div",{className:"dashboard-container",children:[y.jsxs("header",{className:"dashboard-header",children:[y.jsx("div",{className:"logo-container",children:y.jsx("img",{src:Pa,alt:"Asset Manager Logo",className:"dashboard-logo"})}),y.jsxs("div",{className:"header-center",children:[y.jsx("h1",{children:"Asset Manager"}),y.jsx("p",{className:"tagline",children:"HOD Dashboard"})]}),y.jsxs("div",{className:"header-right",children:[y.jsx("input",{type:"text",placeholder:"Search...",className:"search-bar"}),y.jsxs("div",{className:"user-profile",onClick:Mt,children:["👤 ",E]})]})]}),y.jsxs("div",{className:"dashboard-content",children:[Q&&y.jsxs("div",{className:"error-message",children:[Q,y.jsx("button",{onClick:Lr,className:"dismiss-error",children:"✖"})]}),y.jsxs("aside",{className:"sidebar",children:[y.jsxs("button",{className:`home-button ${Ze==="home"?"active":""}`,onClick:()=>he("home"),children:[y.jsx("span",{className:"home-icon",children:"🏠"})," Home"]}),y.jsxs("nav",{children:[y.jsxs("button",{className:`sidebar-button ${Ze==="assets"?"active":""}`,onClick:()=>he("assets"),children:[y.jsx("span",{className:"icon",children:"📋"})," Asset Details"]}),y.jsxs("button",{className:`sidebar-button ${Ze==="users"?"active":""}`,onClick:()=>he("users"),children:[y.jsx("span",{className:"icon",children:"👥"})," Users"]}),y.jsxs("button",{className:`sidebar-button ${Ze==="requests"?"active":""}`,onClick:()=>he("requests"),children:[y.jsx("span",{className:"icon",children:"📥"})," User Requests"]}),y.jsxs("button",{className:`sidebar-button ${Ze==="reports"?"active":""}`,onClick:()=>he("reports"),children:[y.jsx("span",{className:"icon",children:"⚠️"})," Issue Reports"]}),y.jsxs("button",{className:`sidebar-button ${Ze==="maintenance"?"active":""}`,onClick:()=>he("maintenance"),children:[y.jsx("span",{className:"icon",children:"🔧"})," Maintenance"]}),y.jsxs("button",{className:`sidebar-button ${Ze==="notifications"?"active":""}`,onClick:()=>he("notifications"),children:[y.jsx("span",{className:"icon",children:"🔔"})," Notifications"]})]})]}),y.jsxs("main",{className:"main-content",children:[Ze==="home"&&y.jsxs("div",{className:"assets-section",children:[y.jsx("h2",{children:"HOD Dashboard"}),y.jsxs("p",{children:["Welcome, ",E,"! Manage assets, users, requests, and issue reports from the sidebar."]})]}),Te&&Ze==="assets"&&y.jsxs("div",{className:"assets-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>Ce(!1),children:"⬅"}),y.jsx("h2",{children:"Assets Details"})]}),Ne?y.jsx("p",{children:"Loading assets..."}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"sort-section",children:[y.jsx("label",{htmlFor:"sort",children:"Sort by Asset Name: "}),y.jsxs("select",{id:"sort",value:Ln,onChange:_t,children:[y.jsx("option",{value:"all",children:"All Assets"}),Ct.map(({normalizedName:M,displayName:ce})=>y.jsx("option",{value:M,children:ce.charAt(0).toUpperCase()+ce.slice(1)},M))]})]}),Kn.length>0?y.jsx("div",{className:"assets-grid",children:Kn.map(M=>y.jsxs("div",{className:"asset-card",children:[y.jsxs("div",{className:"asset-visible",children:[M.qrCode&&y.jsx("img",{src:`${ht}${M.qrCode}`,alt:"QR Code"}),y.jsxs("div",{className:"asset-code",children:["Asset Code: ",M.assetCode]})]}),y.jsxs("div",{className:"asset-details",children:[y.jsx("h3",{children:M.name}),y.jsxs("p",{children:["Model: ",M.model]}),y.jsxs("p",{children:["Status: ",M.status]}),M.assignedTo&&y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["Assigned To: ",M.assignedTo.username]}),y.jsxs("p",{children:["User ID: ",M.assignedTo.userId]})]})]})]},M._id))}):y.jsx("p",{children:"No assets found."})]})]}),Ze==="users"&&!Te&&y.jsxs("div",{className:"assets-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>$("home"),children:"⬅"}),y.jsx("h2",{children:"Users"})]}),ke?y.jsx("p",{children:"Loading users..."}):z.hods.length>0||z.users.length>0?y.jsx("div",{className:"assets-grid",children:[...z.hods,...z.users].filter(M=>M.departmentid===S).map(M=>y.jsxs("div",{className:"user-card-container",children:[y.jsxs("div",{id:`details-card-${M._id}`,className:"details-card",onClick:()=>{const ce=document.getElementById(`assets-details-${M._id}`);ce&&ce.classList.toggle("show"),mt(M)},children:[y.jsx("h3",{children:M.username}),y.jsxs("p",{children:["Email: ",M.email]}),y.jsxs("p",{children:["Role: ",M.role]}),y.jsxs("p",{children:["Department: ",M.departmentname||"N/A"]})]}),y.jsxs("div",{id:`assets-details-${M._id}`,className:"assignment-cards hidden",children:[y.jsxs("div",{children:[y.jsx("strong",{children:"Assigned Assets:"})," ",P&&P.length>0?P.filter(ce=>Fe&&ce.assignedTo&&ce.assignedTo.username===Fe.username).map((ce,Re)=>y.jsxs("div",{style:{marginBottom:"1rem"},children:[y.jsx("div",{children:ce.name||ce.assetName||ce.assetCode||"Unnamed Asset"}),y.jsx("div",{children:ce.assetCode||"N/A"}),y.jsx("button",{className:"remove-button",onClick:()=>en(M,ce._id),children:"Remove"})]},ce._id||`asset-${Re}`)):y.jsx("span",{children:"None"})]}),y.jsx("button",{className:"assign-button",onClick:()=>Ht(M),children:"Assign Asset"}),y.jsx("button",{className:"delete-button",onClick:()=>Ds(M),children:"Delete User"})]})]},M._id))}):y.jsx("p",{children:"No users found."})]}),Ze==="requests"&&Ge&&y.jsxs("div",{className:"request-container",children:[y.jsxs("div",{className:"header-section",children:[y.jsx("span",{className:"return-arrow",onClick:()=>se(!1),children:"←"}),y.jsx("h2",{className:"section-title",children:"User Requests"})]}),St?y.jsx("p",{className:"loading-text",children:"Loading requests..."}):we.length>0?y.jsx("div",{className:"requests-grid",children:we.filter(M=>M.departmentid===S).map(M=>y.jsxs("div",{className:"request-card",children:[y.jsxs("h3",{className:"request-user",children:["User: ",M.username]}),y.jsxs("p",{className:"request-asset",children:["Requested Asset: ",M.assetCode]}),y.jsxs("p",{className:"request-status",children:["Status: ",M.status||"Pending"]}),y.jsxs("p",{className:"request-time",children:["Time: ",new Date(M.timestamp).toLocaleString()]}),M.status==="Pending"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"btn-approve",onClick:()=>On(M),children:"Approve"}),y.jsx("button",{className:"btn-reject",onClick:()=>tn(M),children:"Reject"}),y.jsxs("div",{className:"comment-box",children:[y.jsx("label",{htmlFor:`comment-${M._id}`,className:"comment-label",children:"Rejection Reason"}),y.jsx("textarea",{id:`comment-${M._id}`,className:"comment-input",value:le[M._id]||"",onChange:ce=>U(Re=>({...Re,[M._id]:ce.target.value})),placeholder:"Enter reason for rejection"})]})]}),M.status==="HOD Rejected"&&y.jsxs("p",{className:"rejection-note",children:[y.jsx("strong",{children:"Rejection Reason:"})," ",M.rejectionComments]})]},M._id))}):y.jsx("p",{className:"no-requests",children:"No requests assigned."})]}),Ze==="reports"&&Je&&y.jsxs("div",{className:"request-container",children:[y.jsxs("div",{className:"header-section",children:[y.jsx("span",{className:"return-arrow",onClick:()=>te(!1),children:"←"}),y.jsx("h2",{className:"section-title",children:"Issue Reports"})]}),sr?y.jsx("p",{className:"loading-text",children:"Loading issue reports..."}):ze.length>0?y.jsx("div",{className:"requests-grid",children:ze.filter(M=>M.departmentid===S).map(M=>y.jsxs("div",{className:"request-card",children:[y.jsxs("h3",{className:"request-user",children:["User: ",M.username||"Unknown"]}),y.jsxs("p",{className:"request-asset",children:["Asset Code: ",M.assetCode||"N/A"]}),y.jsxs("p",{className:"request-issue",children:["Issue: ",M.message||"No description"]}),y.jsxs("p",{className:"request-status",children:["Status: ",M.status||"Unknown"]}),y.jsxs("p",{className:"request-time",children:["Time: ",M.timestamp?new Date(M.timestamp).toLocaleString():"N/A"]}),M.status==="Pending"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"btn-approve",onClick:()=>pr(M),children:"Approve"}),y.jsx("button",{className:"btn-reject",onClick:()=>Xn(M),children:"Reject"}),y.jsxs("div",{className:"comment-box",children:[y.jsx("label",{htmlFor:`comment-${M._id}`,className:"comment-label",children:"Rejection Reason"}),y.jsx("textarea",{id:`comment-${M._id}`,className:"comment-input",value:le[M._id]||"",onChange:ce=>U(Re=>({...Re,[M._id]:ce.target.value})),placeholder:"Enter reason for rejection"})]})]}),M.status==="Rejected"&&y.jsxs("p",{className:"rejection-note",children:[y.jsx("strong",{children:"Rejection Reason:"})," ",M.rejectionComments]})]},M._id))}):y.jsx("p",{className:"no-requests",children:"No issue reports found for this department."})]}),Ze==="maintenance"&&Be&&y.jsxs("div",{className:"assets-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>Xe(!1),children:"⬅"}),y.jsx("h2",{children:"Maintenance"})]}),Ne?y.jsx("p",{children:"Loading maintenance assets..."}):xr.length>0?y.jsx("div",{className:"assets-grid",children:xr.map(M=>y.jsxs("div",{className:"asset-card",children:[y.jsx("h3",{children:M.name}),y.jsxs("p",{children:["Asset Code: ",M.assetCode]}),y.jsxs("p",{children:["Model: ",M.model]}),y.jsxs("p",{children:["Status: ",M.status]}),M.qrCode&&y.jsx("img",{src:`${ht}${M.qrCode}`,alt:"QR Code",style:{width:"100px"}})]},M._id))}):y.jsx("p",{children:"No assets found under maintenance."})]}),Ze==="notifications"&&Jt&&y.jsxs("div",{className:"assets-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>yt(!1),children:"⬅"}),y.jsx("h2",{children:"Notifications"})]}),Y?y.jsx("p",{children:"Loading notifications..."}):me.length>0?y.jsx("div",{className:"assets-grid",children:me.filter(M=>M.username===E).map((M,ce)=>y.jsxs("div",{className:"asset-card",children:[y.jsx("p",{children:M.message||"No message"}),y.jsxs("p",{children:["Timestamp: ",M.timestamp?new Date(M.timestamp).toLocaleString():"N/A"]})]},M._id||`notif-${ce}`))}):y.jsx("p",{children:"No notifications available for HOD."})]}),Me&&Fe&&y.jsx("div",{className:"popup-overlay",children:y.jsxs("div",{className:"popup-content",children:[y.jsxs("div",{className:"popup-header",children:[y.jsx("span",{className:"back-arrow",onClick:()=>xt(!1),children:"⬅"}),y.jsxs("h2",{children:["Assign Asset to ",Fe.username]})]}),y.jsxs("form",{onSubmit:an,children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{htmlFor:"assetSelect",children:"Select Asset"}),y.jsxs("select",{id:"assetSelect",value:re?re.assetCode:"",onChange:M=>{const ce=P.find(Re=>Re.assetCode===M.target.value);ve(ce)},required:!0,children:[y.jsx("option",{value:"",children:"Select an asset..."}),P.filter(M=>!M.assignedTo||!M.assignedTo.username).map(M=>y.jsxs("option",{value:M.assetCode,children:[M.name," (",M.assetCode,")"]},M._id))]})]}),y.jsx("button",{type:"submit",className:"submit-button",children:"Assign"})]})]})})]})]})]})};class Od extends hu.Component{constructor(){super(...arguments);l1(this,"state",{hasError:!1})}static getDerivedStateFromError(g){return{hasError:!0}}render(){return this.state.hasError?y.jsx("h1",{children:"Something went wrong. Check the console for details."}):this.props.children}}const bd=()=>y.jsx(Od,{children:y.jsxs(Zf,{children:[y.jsx(Oi,{path:"/",element:y.jsx(Jf,{})}),y.jsx(Oi,{path:"/dashboard",element:y.jsx(ed,{})}),y.jsx(Oi,{path:"/user-dashboard",element:y.jsx(_d,{})}),y.jsx(Oi,{path:"/hod-dashboard",element:y.jsx(Rd,{})}),y.jsx(Oi,{path:"*",element:y.jsx(Xf,{to:"/"})})]})});rf.createRoot(document.getElementById("root")).render(y.jsx(hu.StrictMode,{children:y.jsx($f,{children:y.jsx(bd,{})})}));
